(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    183467,       4463]
NotebookOptionsPosition[    165517,       4210]
NotebookOutlinePosition[    166016,       4230]
CellTagsIndexPosition[    165973,       4227]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["AMS-511 Foundations of Quantitative Finance", "Title",
 CellChangeTimes->{{3.410118002352737*^9, 3.4101180035512123`*^9}, {
   3.4104512493187323`*^9, 3.410451249562763*^9}, {3.411070441580077*^9, 
   3.411070441827072*^9}, {3.411127582523164*^9, 3.41112758277359*^9}, {
   3.4111315188866587`*^9, 3.411131524894576*^9}, {3.411253224366561*^9, 
   3.411253224912155*^9}, {3.4114345716329317`*^9, 3.4114345742149363`*^9}, {
   3.411436143492992*^9, 3.411436148100697*^9}, {3.461105702626305*^9, 
   3.461105709176071*^9}, 3.4611060748428698`*^9, 3.461106153130972*^9, 
   3.461106185408854*^9},ExpressionUUID->"ab169b69-6319-4193-a1f9-\
8ded7677570d"],

Cell["Fall 2020\[LongDash] Lecture 08 \[LongDash] Wednesday October 27, \
2020", "Subtitle",
 CellChangeTimes->CompressedData["
1:eJxTTMoPSmViYGCQB2IQHbQ2eYNHxkvHVSeDNoLoLa0Jma+BNNePzWD69zqT
ieZZLx01rqpOBtFurBz/dgDp+lZJhp1AeuvyeP8zQJrFbC2Y/nyqLwFEB61c
kgSirQJesnWefOmotaacA0S3/MtwBNEHtSaB6ePFCaEgOnsOXzSIjjmlGQ+i
mWYbJIBoFSffByBabd7hZyB6yxNHzgjmV46PHH7xgOi5ay8YgGib3L+GIDrr
6YswEP1z3VswrXS/p72V7ZXjruQnnSA69tLetjtA+tjsbe0gmjv4hmbE7leO
T8r/aYPomJ69p/YdeOV4b5L4WRA932vTJRAt1L3uMohO+3KQ/9fBV457/+4V
ANEPPvRnqhx+5ZiYuzsLRB86s9+v/tgrxwpOxwAQ3XI6bup8IH3lnuI0EJ2m
8n/TyxOvHPNe6mwB0SVSigG8j145Xo5aFwiiH60uT95j/9rxGXNdCoje8dEq
E0QHVAtngWgdrpTpOz+9dnzU+m0uiHYrawrfpffGMSr8ZwSI1nPrmLBN/42j
5iK+SSB6ydTWiRYZbxwXVItOBdEAcnMJdA==
  
  "],ExpressionUUID->"ee882735-9bc5-49d7-b9af-42b8eb93b645"],

Cell["Additional Topics in Options", "Subtitle",
 CellChangeTimes->{{3.4101180191149073`*^9, 3.410118026587117*^9}, {
   3.410451275016321*^9, 3.410451277624028*^9}, {3.41113152964636*^9, 
   3.41113154518227*^9}, {3.4113965922506437`*^9, 3.411396608797546*^9}, {
   3.411436154989222*^9, 3.4114361574128437`*^9}, {3.411436292462274*^9, 
   3.411436309145669*^9}, {3.4611057192910433`*^9, 3.461105731739766*^9}, {
   3.461106187281069*^9, 3.461106188567719*^9}, {3.461106347014133*^9, 
   3.461106414219338*^9}, 3.461106464619837*^9, {3.491414446289631*^9, 
   3.4914144551523657`*^9}, {3.49141474162271*^9, 3.491414794268467*^9}, {
   3.493080178809965*^9, 3.4930801954498453`*^9}, {3.493259314481339*^9, 
   3.493259334726796*^9}, 3.5878833642315407`*^9, {3.590714988846549*^9, 
   3.590714995219356*^9}, {3.5913606493110723`*^9, 3.59136065989017*^9}, {
   3.591846609128293*^9, 3.591846610956389*^9}, {3.5919716805645723`*^9, 
   3.5919716838419323`*^9}, 3.59373070808991*^9, 3.5937967751182013`*^9, {
   3.594997167486171*^9, 3.5949971905597267`*^9}, {3.595001489881338*^9, 
   3.595001490152052*^9}, {3.6081773091920424`*^9, 3.608177315984119*^9}, {
   3.6572946866729*^9, 3.657294695960662*^9}, {3.783111830418133*^9, 
   3.783111853770121*^9}},ExpressionUUID->"91b4bab0-824a-4762-b2bb-\
2f9b6acc826c"],

Cell["\<\
Robert J. Frey, Research Professor
Stony Brook University, Applied Mathematics and Statistics

Robert.Frey@StonyBrook.edu
http://www.ams.sunysb.edu/~frey\
\>", "Subsubtitle",
 CellChangeTimes->{{3.411439843209729*^9, 3.411439853156939*^9}, {
  3.587883368607191*^9, 
  3.587883390413391*^9}},ExpressionUUID->"8b855c91-c954-4261-8c7b-\
0abd16ea22a6"],

Cell[CellGroupData[{

Cell["Monte Carlo Integration", "Section",
 CellChangeTimes->{
  3.6073085060887423`*^9},ExpressionUUID->"424b6718-65ba-4c07-a7ed-\
0b4a420b83f5"],

Cell[TextData[StyleBox["For certain options the method of choice for pricing \
them is Monte Carlo simulation. We\[CloseCurlyQuote]ll begin with a review.",
 FontSize->16,
 FontWeight->"Bold"]], "Text",
 CellFrame->{{0.5, 3}, {3, 0.5}},
 CellChangeTimes->{{3.442072007274006*^9, 3.442072016283307*^9}, {
   3.442072098555147*^9, 3.442072174903337*^9}, {3.58544704831881*^9, 
   3.585447052046453*^9}, {3.585447095819232*^9, 3.585447287988796*^9}, {
   3.585447795143066*^9, 3.585447801476882*^9}, {3.5854478895062428`*^9, 
   3.585447923558113*^9}, {3.585541155313848*^9, 3.58554115952927*^9}, {
   3.586406524515649*^9, 3.586406652295424*^9}, {3.586742747998147*^9, 
   3.5867427541645603`*^9}, 3.586888183963241*^9, {3.58689222303231*^9, 
   3.586892256481545*^9}, {3.5868923250794487`*^9, 3.586892411685691*^9}, {
   3.586892454159996*^9, 3.5868925031352177`*^9}, {3.586892561806775*^9, 
   3.5868926510935717`*^9}, {3.586892686300946*^9, 3.586892690572413*^9}, {
   3.588565516581194*^9, 3.588565617620084*^9}, {3.588565648968614*^9, 
   3.5885657157309847`*^9}, {3.588567473320284*^9, 3.588567608363929*^9}, {
   3.588567722641568*^9, 3.5885677595101347`*^9}, {3.588610716256412*^9, 
   3.588610752903265*^9}, {3.602102717229422*^9, 3.602102774570615*^9}, {
   3.602809815396812*^9, 3.602809912737894*^9}, {3.6028099750851793`*^9, 
   3.6028101617211657`*^9}, {3.6028101971259193`*^9, 3.602810265353352*^9}, {
   3.602810754739901*^9, 3.6028107620193157`*^9}, 3.7185511940930643`*^9, {
   3.81222514723733*^9, 3.812225182591629*^9}, {3.812225229205132*^9, 
   3.812225246921783*^9}, {3.812225341935766*^9, 3.81222542559768*^9}, {
   3.81273831596776*^9, 3.812738362703168*^9}},
 TextAlignment->Center,
 TextJustification->0.,
 Background->RGBColor[
  1, 0.85, 0.85],ExpressionUUID->"d2a641d8-d284-43ef-8f8e-cfaa8783a44b"],

Cell[TextData[{
 "Under the risk-neutral measure ",
 Cell[BoxData[
  FormBox["Q", TraditionalForm]],ExpressionUUID->
  "d246e489-078b-470a-a44f-bfbe1d4eae32"],
 " the price dynamics replaces the actual mean with the risk-free mean and \
keeps the same volatility."
}], "Text",
 CellChangeTimes->{
  3.607308526847645*^9, {3.60747747381754*^9, 3.607477511760611*^9}, {
   3.607477548511718*^9, 
   3.607477563351719*^9}},ExpressionUUID->"14ec3f9d-e743-4dc0-8e24-\
61f524c35a4d"],

Cell[TextData[{
 "Consider the original example: a call option at time ",
 StyleBox["t",
  FontSlant->"Italic"],
 " = 0 with a strike price ",
 StyleBox["K",
  FontSlant->"Italic"],
 " = 100 and expiry ",
 StyleBox["T",
  FontSlant->"Italic"],
 " = 0.25 years. The risk free rate is ",
 StyleBox["r",
  FontSlant->"Italic"],
 " = 6.5%. The underlying asset is currently at the money at ",
 StyleBox["S",
  FontSlant->"Italic"],
 "(0) = 100 and has an annual volatility of \[Sigma] = 30%. Recall that the \
current price of the option using the Black-Scholes formula is ",
 StyleBox["C",
  FontSlant->"Italic"],
 Cell[BoxData[
  FormBox[
   AdjustmentBox[
    SubscriptBox["\[Null]", "0"],
    BoxMargins->{{0, -0.1}, {0, 0}}], TraditionalForm]], "TextSubscript",
  SingleLetterItalics->False,ExpressionUUID->
  "4796a1d4-a6c1-430d-a10a-cb861837caf3"],
 " = 6.77098."
}], "Text",
 CellChangeTimes->{
  3.7193285637809267`*^9},ExpressionUUID->"1d598957-f498-44e4-a8bb-\
1125225bcecd"],

Cell["Under the risk-neutral measure the price dynamics are ", "Text",ExpressionUUID->"76dbe0f3-c9bf-4b49-8470-a45d59e2e389"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"S", "(", "t", ")"}], "=", 
   RowBox[{
    RowBox[{"S", "(", "0", ")"}], " ", 
    SuperscriptBox["e", 
     RowBox[{
      RowBox[{
       RowBox[{"(", 
        RowBox[{"r", " ", "-", " ", 
         RowBox[{
          SuperscriptBox["\[Sigma]", "2"], "/", "2"}]}], ")"}], "t"}], " ", 
      "+", " ", 
      RowBox[{"\[Sigma]", " ", 
       RowBox[{"W", "(", "t", ")"}]}]}]]}]}], TraditionalForm]], "Equation",
 CellChangeTimes->{{3.607481904414323*^9, 3.6074819062701197`*^9}},
 TextAlignment->Center,ExpressionUUID->"f5950383-174a-49b9-aa75-66f206962945"],

Cell[TextData[{
 "where ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{"W", "(", "t", ")"}], "~", 
    RowBox[{"N", "[", 
     RowBox[{"0", ",", " ", 
      SqrtBox["t"]}], "]"}]}], TraditionalForm]],ExpressionUUID->
  "deda51c1-9fd0-482b-a602-febe2bcf681a"],
 "."
}], "Text",ExpressionUUID->"486cd277-6229-4359-8412-9e7f07b80f26"],

Cell[TextData[{
 "To price a call option we can generate ",
 StyleBox["n",
  FontSlant->"Italic"],
 " random samples. Designate the ",
 StyleBox["k",
  FontSlant->"Italic"],
 "th such experiment ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{
     StyleBox[
      SuperscriptBox["S", 
       RowBox[{"(", "k", ")"}]],
      ScriptBaselineShifts->{1, 1}], "(", "T", ")"}], "=", 
    RowBox[{
     RowBox[{"S", "(", "0", ")"}], 
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{"r", "-", 
          RowBox[{
           SuperscriptBox["\[Sigma]", "2"], "/", "2"}]}], ")"}], "T"}], "+", 
       RowBox[{"\[Sigma]", " ", 
        RowBox[{"randN", "[", 
         RowBox[{"0", ",", " ", 
          SqrtBox["T"]}], "]"}]}]}]]}]}], TraditionalForm]],ExpressionUUID->
  "18299333-2828-4a63-b368-1ba76637640b"],
 ", where ",
 Cell[BoxData[
  FormBox[
   RowBox[{"randN", "[", 
    RowBox[{"0", ",", " ", 
     SqrtBox["T"]}], "]"}], TraditionalForm]],ExpressionUUID->
  "ca0fb48e-e8f6-4b02-a422-da9c18054691"],
 " is a function that generates a random number with an ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    StyleBox["N",
     FontSlant->"Plain"], "[", 
    RowBox[{"0", ",", " ", 
     SqrtBox["T"]}], "]"}], TraditionalForm]],ExpressionUUID->
  "e1784f9b-8f52-4e29-9d17-8a307b759f6e"],
 " distribution. The Monte Carlo estimate for the integral is"
}], "Text",
 CellChangeTimes->{{3.607305376605706*^9, 3.607305408721444*^9}, {
  3.6074818729972897`*^9, 3.607482090366767*^9}, {3.6074822944719677`*^9, 
  3.607482373846815*^9}, {3.719328603630015*^9, 
  3.7193286056936197`*^9}},ExpressionUUID->"bbbe9279-b199-47f8-a979-\
3725d5ccf83b"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"C", "(", 
    RowBox[{
     RowBox[{"S", "(", "0", ")"}], ",", "0"}], ")"}], "=", 
   RowBox[{
    RowBox[{
     SuperscriptBox["e", 
      RowBox[{
       RowBox[{"-", "r"}], " ", "T"}]], 
     RowBox[{
      SuperscriptBox[
       StyleBox["E",
        FontSlant->"Plain"], "Q"], "[", 
      RowBox[{"C", "(", 
       RowBox[{
        RowBox[{"S", "(", "T", ")"}], ",", "T"}], ")"}], "]"}]}], 
    "\[TildeEqual]", 
    RowBox[{
     FractionBox[
      SuperscriptBox["e", 
       RowBox[{
        RowBox[{"-", "r"}], " ", "T"}]], "n"], 
     RowBox[{"(", 
      RowBox[{
       UnderoverscriptBox["\[Sum]", 
        RowBox[{"k", "=", "1"}], "n"], 
       RowBox[{"max", "[", 
        StyleBox[
         RowBox[{
          RowBox[{
           RowBox[{
            SuperscriptBox["S", 
             RowBox[{"(", "k", ")"}]], "(", "T", ")"}], "-", "K"}], ",", " ", 
          "0"}],
         ScriptBaselineShifts->{1, 1}], 
        StyleBox["]",
         ScriptBaselineShifts->{1, 1}]}]}], 
      StyleBox[")",
       ScriptBaselineShifts->{1, 1}]}]}]}]}], TraditionalForm]], "Equation",
 CellChangeTimes->{
  3.6073057680483217`*^9, {3.607471207077601*^9, 3.607471281432233*^9}, {
   3.60748180923394*^9, 3.607481826821176*^9}, {3.6077079525950108`*^9, 
   3.607707958026944*^9}},
 TextAlignment->Center,ExpressionUUID->"18926f69-7ee3-4870-89d6-2d88aa35e64d"],

Cell[TextData[{
 "In this instance, we have an  analytical solution for ",
 Cell[BoxData[
  FormBox[
   RowBox[{"S", "(", "T", ")"}], TraditionalForm]],ExpressionUUID->
  "aa6b3d39-d5a4-40ab-9b06-39b33ce0c7c7"],
 " for comparison. If this were not the case, then we could have proceeded \
directly from the SDE describing the asset dynamics under the risk neutral \
measure to simulate the trajectories ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SuperscriptBox["S", 
     RowBox[{"(", "k", ")"}]], "(", "T", ")"}], TraditionalForm]],
  ExpressionUUID->"211c8da4-dd1a-4ee8-9dd6-77fb39637c0a"],
 "."
}], "Text",
 CellChangeTimes->{{3.607313999327037*^9, 3.60731410639191*^9}, {
  3.607314152107457*^9, 3.6073141573454847`*^9}, {3.607471297227311*^9, 
  3.607471314746931*^9}, {3.719328626108163*^9, 
  3.719328636139851*^9}},ExpressionUUID->"f8c0e0e1-c357-4e0f-b04b-\
f630fabd46e6"],

Cell["\<\
The approach of replacing the actual drift with the risk-free rate but \
preserving the original volatility structure is valid under a fairly large \
number of circumstances. For example, if the risk-free rate or volatility are \
themselves stochastic processes with their own SDEs, then such situations can \
be handled without undue complication.\
\>", "Text",
 CellChangeTimes->{3.607313726686489*^9, 
  3.607313771398897*^9},ExpressionUUID->"1d78019a-d0ff-457d-8e71-\
220ae6ab8305"],

Cell[TextData[{
 "As noted above, if there are proportional dividends \[Delta] and storage \
costs \[Eta] per unit time, then the appropriate discounting uses the \
risk-neutral rate ",
 Cell[BoxData[
  FormBox[
   RowBox[{"r", "-", "\[Delta]", "+", "\[Eta]"}], TraditionalForm]],
  ExpressionUUID->"38d07403-5ef5-47bf-88f9-c07cee92afa6"],
 "."
}], "Text",
 CellChangeTimes->{{3.607471334744933*^9, 
  3.607471403879479*^9}},ExpressionUUID->"4c3c407a-bdb9-4294-b761-\
00888b919b91"],

Cell[TextData[{
 "One problem of Monte Carlo techniques is the standard error of the estimate \
tends to be proportional to ",
 Cell[BoxData[
  FormBox[
   RowBox[{"1", "/", 
    SqrtBox["n"]}], TraditionalForm]],ExpressionUUID->
  "1bd37f46-2925-4769-8fbe-c614a886b414"],
 ", for a sample size of ",
 StyleBox["n",
  FontSlant->"Italic"],
 ". However, we have explored only the most simple sampling approach. There \
are a number of techniques available to increase the efficiency of Monte \
Carlo integration. "
}], "Text",
 CellChangeTimes->{{3.6073137557826347`*^9, 3.6073137587838306`*^9}, {
   3.607314189144875*^9, 3.6073141930728283`*^9}, 
   3.719328663466247*^9},ExpressionUUID->"cb84c8d5-38f5-40c3-ac3e-\
2bfc953858d3"],

Cell[CellGroupData[{

Cell["European Call Option Pricing", "Subsection",
 CellChangeTimes->{{3.607313453757407*^9, 3.6073134742759733`*^9}, {
  3.6073143735203533`*^9, 3.607314374021337*^9}, {3.783112161299817*^9, 
  3.783112163854097*^9}},ExpressionUUID->"79074340-e945-450c-a835-\
47c43729d90d"],

Cell[TextData[{
 "Applying standard statistical methodology we can compute the standard \
deviation of the estimate by dividing the standard deviation of the sample by \
square root of the sample size. A simulation with  ",
 StyleBox["n",
  FontSlant->"Italic"],
 " = 1000 is demonstrated."
}], "Text",
 CellChangeTimes->{{3.60739403384406*^9, 
  3.607394046385242*^9}},ExpressionUUID->"dbcd7373-f23a-4651-9e66-\
66e8682a19d6"],

Cell[CellGroupData[{

Cell["Code", "Subsubsection",
 CellChangeTimes->{{3.6073143042567987`*^9, 
  3.607314305007287*^9}},ExpressionUUID->"0d980236-885d-418f-b4de-\
09624e00d0a5"],

Cell["\<\
The function below returns the estimated mean of the call price and the \
sampling error of the mean.\
\>", "Text",
 CellChangeTimes->{{3.6073940795697308`*^9, 3.607394115001174*^9}, {
  3.607482519415083*^9, 
  3.607482526085609*^9}},ExpressionUUID->"4344d5e7-45a4-4d54-bc61-\
c381813f8af1"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"xEuroCallOptMonteCarlo", "[", 
    RowBox[{
    "nNowPrice_", ",", "nVolatility_", ",", "nStrikePrice_", ",", "nExpiry_", 
     ",", "nRiskFree_", ",", "iSamples_"}], "]"}], ":=", 
   RowBox[{
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"Mean", "[", "#", "]"}], ",", 
       RowBox[{
        RowBox[{"StandardDeviation", "[", "#", "]"}], "/", 
        SqrtBox["iSamples"]}]}], "}"}], "&"}], "[", 
    RowBox[{
     RowBox[{"Exp", "[", 
      RowBox[{
       RowBox[{"-", "nRiskFree"}], " ", "nExpiry"}], "]"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"Max", "[", 
         RowBox[{
          RowBox[{"#", "-", "nStrikePrice"}], ",", "0"}], "]"}], "&"}], "/@", 
       
       RowBox[{"(", 
        RowBox[{"nNowPrice", " ", 
         RowBox[{"Exp", "[", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{"nRiskFree", "-", 
             RowBox[{
              SuperscriptBox["nVolatility", "2"], "/", "2."}]}], ")"}], 
           "nExpiry"}], "]"}], 
         RowBox[{"Exp", "[", " ", 
          RowBox[{"nVolatility", " ", 
           RowBox[{"RandomVariate", "[", 
            RowBox[{
             RowBox[{"NormalDistribution", "[", 
              RowBox[{"0", ",", 
               SqrtBox["nExpiry"]}], "]"}], ",", "iSamples"}], "]"}]}], 
          "]"}]}], ")"}]}], ")"}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.607305219455245*^9, 3.6073052296808567`*^9}, {
   3.607305311601901*^9, 3.607305351189736*^9}, {3.6073054569580383`*^9, 
   3.6073057303763027`*^9}, {3.6073058188795033`*^9, 3.607305945150282*^9}, {
   3.6073060432510843`*^9, 3.607306063003251*^9}, {3.607306094308547*^9, 
   3.607306177235598*^9}, 3.607306217544384*^9, 3.6073072452808733`*^9, {
   3.607307285478095*^9, 3.607307296366136*^9}, {3.607307948085536*^9, 
   3.607307954545475*^9}, {3.6073080627287083`*^9, 3.607308070230607*^9}, {
   3.607482142325121*^9, 3.607482148117467*^9}, {3.607482249236425*^9, 
   3.607482258155026*^9}},
 CellLabel->"In[77]:=",ExpressionUUID->"6c33d2ac-b0c8-44d5-b190-4d553cf8ae2a"],

Cell["For example, an at-the-money put is estimated at", "Text",
 CellChangeTimes->{{3.6074826244437733`*^9, 
  3.607482641867258*^9}},ExpressionUUID->"0cffc973-39d1-4d17-bdf2-\
0beeb0c3cfff"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"xEuroCallOptMonteCarlo", "[", 
  RowBox[{
  "100.", ",", "0.3", ",", "100.", ",", "0.25", ",", "0.065", ",", "1000"}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.607482208585593*^9, 3.607482209592865*^9}, {
  3.60770822822819*^9, 3.6077082528762217`*^9}, {3.7832700753268223`*^9, 
  3.7832701041511507`*^9}},
 CellLabel->"In[78]:=",ExpressionUUID->"9454067b-88c8-48ce-a7ba-2ca483daa9d8"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"6.446282161624962`", ",", "0.3124873457498638`"}], "}"}]], "Output",\

 CellChangeTimes->{
  3.607482210410912*^9, 3.607482261968465*^9, 3.6077081923509903`*^9, {
   3.6077082295654507`*^9, 3.607708254133203*^9}, {3.6566986154417562`*^9, 
   3.6566986262308893`*^9}, {3.7832700636366796`*^9, 3.783270105379262*^9}, 
   3.812820733433743*^9, 3.81720908733634*^9},
 CellLabel->"Out[78]=",ExpressionUUID->"2ced821c-9be2-4c32-a810-e7d11c76bd17"]
}, Open  ]],

Cell["For comparison, the Black-Scholes solution is 6.77098.", "Text",
 CellChangeTimes->{{3.607482653092044*^9, 
  3.607482670842712*^9}},ExpressionUUID->"2947e87f-45bb-4cc3-9c33-\
b875d042d556"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Example II \[LongDash] Plotting the Alternatives", "Subsection",
 CellChangeTimes->{{3.6073142324740973`*^9, 
  3.6073142558240232`*^9}},ExpressionUUID->"02e6dc4f-fb2f-4682-bf88-\
1f4692292907"],

Cell["\<\
We repeated this process for prices of 85 to 105. The results with \
\[PlusMinus] 1.96 standard errors are plotted against the Black-Scholes \
results below.\
\>", "Text",
 CellChangeTimes->{{3.607313684343705*^9, 3.607313692942259*^9}, {
  3.607394129609763*^9, 
  3.6073941502330217`*^9}},ExpressionUUID->"4de708db-0c04-4655-bb93-\
d6d1566437af"],

Cell[CellGroupData[{

Cell["Simulation of Estimates with their 95% Confidence Levels", \
"Subsubsection",
 CellChangeTimes->{{3.607314384669157*^9, 
  3.60731441977232*^9}},ExpressionUUID->"28945915-0a92-4d43-a27b-\
bd04c2bc6ed0"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mnSim", "=", 
  RowBox[{"Transpose", "@", 
   RowBox[{"Block", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", "sol", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"Table", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"sol", "=", 
         RowBox[{"xEuroCallOptMonteCarlo", "[", 
          RowBox[{
          "price", ",", "0.3", ",", "100.", ",", "0.25", ",", "0.065", ",", 
           "10000"}], "]"}]}], ";", "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"price", ",", 
            RowBox[{
             RowBox[{
             "sol", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
             "-", 
             RowBox[{"1.96", 
              RowBox[{
              "sol", "\[LeftDoubleBracket]", "2", 
               "\[RightDoubleBracket]"}]}]}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"price", ",", 
            RowBox[{
            "sol", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}]}], 
           "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"price", ",", 
            RowBox[{
             RowBox[{
             "sol", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
             "+", 
             RowBox[{"1.96", 
              RowBox[{
              "sol", "\[LeftDoubleBracket]", "2", 
               "\[RightDoubleBracket]"}]}]}]}], "}"}]}], "}"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"price", ",", "85.", ",", "105.", ",", "5."}], "}"}]}], 
      "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
    "]"}]}]}]], "Input",
 CellChangeTimes->{{3.6073071880243587`*^9, 3.607307253704406*^9}, {
   3.6073079894304333`*^9, 3.6073079968212442`*^9}, 3.6073080870969954`*^9, {
   3.6073092792583427`*^9, 3.6073092824961853`*^9}, {3.607309438234912*^9, 
   3.607309489625345*^9}, {3.607309552689678*^9, 3.6073095586639013`*^9}, {
   3.607312146929446*^9, 3.6073121822315083`*^9}, {3.6073122987206173`*^9, 
   3.607312534657825*^9}, {3.607312578032494*^9, 3.6073125925496883`*^9}, {
   3.607312757248004*^9, 3.6073127589029512`*^9}, {3.607313073978784*^9, 
   3.607313080369397*^9}, {3.6073131537212057`*^9, 3.607313157752112*^9}, {
   3.6073135343014402`*^9, 3.607313542252145*^9}, 3.607393892558935*^9, {
   3.656698824227646*^9, 3.6566988297866497`*^9}, {3.6566989761789703`*^9, 
   3.656698976528804*^9}, 3.783270208372802*^9},
 CellLabel->"In[79]:=",ExpressionUUID->"5be16984-9326-40ef-aa2c-df70f3007e7a"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"85.`", ",", "1.155928013797251`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"90.`", ",", "2.267767229658786`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"95.`", ",", "4.134639154053527`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"100.`", ",", "6.605464207036345`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"105.`", ",", "9.597187813843792`"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"85.`", ",", "1.2381407259666848`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"90.`", ",", "2.3817652401327303`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"95.`", ",", "4.293413862124709`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"100.`", ",", "6.805598317506971`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"105.`", ",", "9.836904230378234`"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"85.`", ",", "1.3203534381361186`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"90.`", ",", "2.4957632506066747`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"95.`", ",", "4.45218857019589`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"100.`", ",", "7.0057324279775965`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"105.`", ",", "10.076620646912676`"}], "}"}]}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{
  3.607307255081032*^9, 3.6073073005683317`*^9, 3.6073073996509533`*^9, {
   3.607307979198737*^9, 3.6073080089696827`*^9}, {3.607308075328307*^9, 
   3.607308087847713*^9}, 3.6073085486468763`*^9, 3.607312183050394*^9, {
   3.60731252756618*^9, 3.607312535167804*^9}, {3.607312585823822*^9, 
   3.607312593694331*^9}, 3.607312662553425*^9, 3.6073127108274307`*^9, 
   3.6073127620143414`*^9, 3.6073129793638973`*^9, 3.607313081063188*^9, 
   3.607313163860395*^9, 3.6073133379703083`*^9, 3.607313543243569*^9, 
   3.607393632596306*^9, 3.607393893884584*^9, {3.607394173675888*^9, 
   3.607394183611175*^9}, 3.607482215812737*^9, 3.60748226552028*^9, {
   3.607708348949759*^9, 3.607708353432899*^9}, 3.6566986867712708`*^9, 
   3.656698782151896*^9, {3.656698825712839*^9, 3.656698831188245*^9}, 
   3.6566989777638197`*^9, 3.783270150511876*^9, 3.783270210213538*^9, 
   3.812820743022707*^9, 3.817209087361784*^9},
 CellLabel->"Out[79]=",ExpressionUUID->"6db560e4-9ed5-4dfc-9633-daf1a9f5fa27"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Plot Comparing Black-Scholes and the Monte Carlo Solutions", \
"Subsubsection",
 CellChangeTimes->{{3.6073144291482286`*^9, 
  3.6073144534836884`*^9}},ExpressionUUID->"3b972b49-62a7-4568-9970-\
7574c723a4dc"],

Cell[TextData[{
 "This example uses ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 "\[CloseCurlyQuote]s FinancialDerivative[] function which uses Black-Scholes \
for pricing vanilla European options and will be described later in the \
class. A plot comparing the analytical Black-Scholes prices with the \
simulated prices and their 95% confidence intervals is"
}], "Text",
 CellChangeTimes->{{3.607393436887134*^9, 
  3.607393584795465*^9}},ExpressionUUID->"2041ca4c-68c5-413b-a6da-\
ab9dfdd31574"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Show", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"Plot", "[", 
    RowBox[{
     RowBox[{"FinancialDerivative", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"\"\<European\>\"", ",", "\"\<Call\>\""}], "}"}], ",", " ", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<StrikePrice\>\"", "\[Rule]", " ", "100.00"}], ",", " ", 
         
         RowBox[{"\"\<Expiration\>\"", "\[Rule]", "0.25"}]}], "}"}], ",", 
       "  ", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<InterestRate\>\"", "\[Rule]", " ", "0.065"}], ",", " ", 
         
         RowBox[{"\"\<Volatility\>\"", " ", "\[Rule]", " ", "0.3"}], ",", " ", 
         RowBox[{"\"\<CurrentPrice\>\"", "\[Rule]", " ", "price"}]}], "}"}]}],
       "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"price", ",", "80", ",", "110"}], "}"}], ",", 
     RowBox[{"PlotLabel", "\[Rule]", 
      RowBox[{"Style", "[", 
       RowBox[{
       "\"\<Black-Scholes vs. MonteCarlo - Long European Call\>\"", ",", 
        RowBox[{"FontSize", "\[Rule]", "16"}]}], "]"}]}], ",", 
     RowBox[{"AxesLabel", "\[Rule]", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{"#", ",", 
           RowBox[{"FontSize", "\[Rule]", "14"}]}], "]"}], "&"}], "/@", 
        RowBox[{"{", 
         RowBox[{
         "\"\<\!\(\*StyleBox[\"S\",FontSlant->\"Italic\"]\)(0)\>\"", ",", 
          "\"\<\!\(\*StyleBox[\"C\",FontSlant->\"Italic\"]\)(0)\>\""}], 
         "}"}]}], ")"}]}]}], "]"}], ",", "\[IndentingNewLine]", 
   RowBox[{"ListPlot", "[", 
    RowBox[{"mnSim", ",", 
     RowBox[{"PlotStyle", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"PointSize", "[", "0", "]"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"Black", ",", 
          RowBox[{"PointSize", "[", "0.01", "]"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"PointSize", "[", "0", "]"}], "}"}]}], "}"}]}], ",", 
     RowBox[{"Filling", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{"1", "\[Rule]", 
        RowBox[{"{", "3", "}"}]}], "}"}]}], ",", 
     RowBox[{"FillingStyle", "\[Rule]", "Red"}]}], "]"}], ",", 
   RowBox[{"PlotRange", "\[Rule]", "All"}], ",", 
   RowBox[{"ImageSize", "\[Rule]", "500"}]}], "\[IndentingNewLine]", 
  "]"}]], "Input",
 CellChangeTimes->{{3.6073125435838547`*^9, 3.6073125553143053`*^9}, {
  3.6073126299113617`*^9, 3.607312835590478*^9}, {3.607312874551948*^9, 
  3.607312972084107*^9}, {3.6073130061850653`*^9, 3.607313010039982*^9}, {
  3.60731312112223*^9, 3.60731312335315*^9}, {3.607313199988905*^9, 
  3.6073133083707743`*^9}, {3.607313346124803*^9, 3.6073133552833967`*^9}, {
  3.607313577928955*^9, 3.607313582273662*^9}, {3.6073136260850477`*^9, 
  3.607313628419882*^9}, {3.607393609737514*^9, 3.6073936210928507`*^9}, {
  3.60739365815484*^9, 3.607393848168015*^9}, {3.6073939141219807`*^9, 
  3.607393917616912*^9}},
 CellLabel->"In[80]:=",ExpressionUUID->"e6eb571a-c4f5-4571-a0c4-61165fa258ad"],

Cell[BoxData[
 GraphicsBox[{{{{}, {}, 
     TagBox[
      {RGBColor[0.368417, 0.506779, 0.709798], AbsoluteThickness[1.6], 
       Opacity[1.], LineBox[CompressedData["
1:eJwVz3lUVGUYBnAEPDBnOMYiMggiqw33YiCLgIj3CUJhUsBx9huxCXhklYTY
VdxQdBoFdCQVNFQ0YilFSq0RFRUUQezkINRANIoUgumAbHb74zvv+Z33e773
ex3i0vkJ+np6ehuY8389sfkIUwSISTxlZRqhodrusVuPMc6xMWRHiDTUa7d9
u5bPE0A1l7pHEaWheG/z9Gh9ASajy9k2KRpqZu/muSuGTL+HzA8/oKGiL/hO
JbME4GjKot1vayiXl/3jv5kLoAzJXNMfMEA1pRMDDS4CeISVJrG8BinTU0fX
loYzHoLvm/Qhquh5ZWnTdgG6RHr9Lc1aKm6aH8ipFKD6KbstwGGYkq/ozbrU
KoDC9tzmiokR6t6eefL9L5i8+IfMoZ5Rijc14aYwE0Jh/RVuWo5Twf6n/dT+
QmgeSVdu631N8SqGnFKjhdjiXKMzqnpDnbCYqnArEcI+adTdok5H6eobnq+s
FwJRg325VyepdgvL87t6hGh0PLi/4ekUpa0MG5mYFiJm5PebKzbMUqaUnemP
DiJ4kHbBK6+9p4rnt147x2MsuRBZHjQPyRWWTx5nivD0nbb84BV9xAWxHvCU
Iti/Op1COhrijNkD3qhKhFADuZesdT5GZz+62KcVQXnn7cxemRF2m8TKdR+I
0cUt2qsgWJAPBWki/cQY83DhJxqzUau+baaLEmNnR+s7714TsMYt29v2iZER
fLTBb3gBcl2M4gbrxFAVf9mkl2WKGKfaxDWPxVD+S09z8swgD+a8vjMlRq1g
ZA7V5ujYyY1S2kswNlDwbPq6BSI0RhHHwiRQDOwJaZxZCB7r+HdPtkmgklgv
/PnjRdgU0TYSdVwCbr9zqDrPCjVXbzeaqyRoKZkydFBzYBAYLzTXMs7y+2QR
sRjq0qZEPlsKheif3vOFNpiY6Zy74SWFX8TaW4JJWziVHsreLpUi42ZzLife
DscDrLNExVKoVjd7FeqWwpq1dtPuWilOKnyLg67bw7za8fTYQylmQnvvthc6
YJO0M/2ATooW+Tc30gSOOOu+2CHVVoaT0tzxRQ5O8Of6SAtCZBhawN2XZ+CM
dS/fz3akyqDSEd1hWmfE399anFgmQ85oeH73DRfcba857HZdhkjPbuPmb5fB
f7goJ3BQBuN2Puvs4Q/h2G3cJTeiMdbz1kCZxgX/WWw924OGh0uL67ZEVxzR
p1N6hDSqG7u8l20k8Cayyq5ARMO4/0J5iJCApOrPLmcx42O0d4KUgN3qFJ9s
CZMv8fQ6F0ugLqtwjkMzTihbzs0k0PaiSvF5DHP/0T2TVWUEZjqHLg9vpTEZ
HuR5+FcCMUtck44m04h0X5F/WU3gVnKqdUAKjdr8Dv2+fgIHjXWFh1JpdPn2
PSS1BKyCjNa5Z9DY+Vk8v1NHwPOKq3p7Fo0tZU0mSzkkKgzSSpdkM/NK/gjg
2ZKY3Ph9YBtjv3T7i1n2JH4ZXXXWKodG6NTlwIdcEuu565N/yqPRyLML3+FP
ojFbsSQ+nwZs1Cl1gSQs7jx5xC5g/ntJdl/9MYne2CjvqEJmv7HSAB8eicDG
M9r5Rcz7ldyN8eEkquf+UtYzzvk7oeYIn4ThBuJT8Q4aGbGrfFQiEklfp82+
Z6z54qTBKxmJ/wDZyxwT
        "]]},
      Annotation[#, "Charting`Private`Tag$34877#1"]& ]}, {}}, {{}, 
    GraphicsComplexBox[CompressedData["
1:eJxTTMoPSmViYGBQBmIQDQYOoQ6NC2vi19V9sgfzG8Ic5s40Uk1WYXIA8w+E
O8isX3vjXqcAhM8Q6dBTpXD+X7YUhO8Q5XCI78nMQ4bKDjDzTL/FLss5/xlu
ntBXjfe3eJnh5ikI/1hXoiMIN+/kvLeH31lIw82btl1sW90ahHkvvezfail8
hZvXHiC/M+g7wjyVcqdWrvMI89gO79pxj1UGbl5WguclK3UVnOZR6t+REn4A
hqed4w==
     
     "], {{{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, 
       {RGBColor[1, 0, 0], LineBox[{1, 16}], LineBox[{12, 17}], 
        LineBox[{13, 18}], LineBox[{14, 19}], LineBox[{15, 20}]}}, {
       {RGBColor[0.368417, 0.506779, 0.709798], PointSize[0], 
        AbsoluteThickness[1.6], PointBox[{21, 22, 23, 24, 25}]}, 
       {GrayLevel[0], PointSize[0.01], AbsoluteThickness[1.6], 
        PointBox[{26, 27, 28, 29, 30}]}, 
       {RGBColor[0.560181, 0.691569, 0.194885], PointSize[0], 
        AbsoluteThickness[1.6], PointBox[{31, 32, 33, 34, 35}]}}}], {{}, {}}}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{True, True},
  AxesLabel->{
    FormBox[
     StyleBox[
     "\"\\!\\(\\*StyleBox[\\\"S\\\",FontSlant->\\\"Italic\\\"]\\)(0)\"", 
      FontSize -> 14, StripOnInput -> False], TraditionalForm], 
    FormBox[
     StyleBox[
     "\"\\!\\(\\*StyleBox[\\\"C\\\",FontSlant->\\\"Italic\\\"]\\)(0)\"", 
      FontSize -> 14, StripOnInput -> False], TraditionalForm]},
  AxesOrigin->{80., 0},
  DisplayFunction->Identity,
  Frame->{{False, False}, {False, False}},
  FrameLabel->{{None, None}, {None, None}},
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{None, None},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImagePadding->All,
  ImageSize->500,
  Method->{
   "DefaultBoundaryStyle" -> Automatic, 
    "DefaultGraphicsInteraction" -> {
     "Version" -> 1.2, "TrackMousePosition" -> {True, False}, 
      "Effects" -> {
       "Highlight" -> {"ratio" -> 2}, "HighlightPoint" -> {"ratio" -> 2}, 
        "Droplines" -> {
         "freeformCursorMode" -> True, 
          "placement" -> {"x" -> "All", "y" -> "None"}}}}, "DefaultMeshStyle" -> 
    AbsolutePointSize[6], "ScalingFunctions" -> None, 
    "CoordinatesToolOptions" -> {"DisplayFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& ), "CopiedValueFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& )}},
  PlotLabel->FormBox[
    StyleBox[
    "\"Black-Scholes vs. MonteCarlo - Long European Call\"", FontSize -> 16, 
     StripOnInput -> False], TraditionalForm],
  PlotRange->All,
  PlotRangeClipping->True,
  PlotRangePadding->{{
     Scaled[0.02], 
     Scaled[0.02]}, {
     Scaled[0.05], 
     Scaled[0.05]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellChangeTimes->{{3.6073937242585287`*^9, 3.607393849223604*^9}, {
   3.6073938972455387`*^9, 3.6073939184622383`*^9}, {3.607394177602783*^9, 
   3.607394186672658*^9}, 3.607482219838418*^9, 3.60748226904985*^9, 
   3.6077083721252127`*^9, 3.656698757356739*^9, 3.65669878761554*^9, 
   3.656698839280875*^9, 3.65669898160837*^9, {3.783270187917178*^9, 
   3.7832702158150387`*^9}, 3.812820746870306*^9, 3.817209087500424*^9},
 CellLabel->"Out[80]=",ExpressionUUID->"2538ee5f-f68b-488e-a0b6-2e09f76c98b5"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Asian Options", "Section",
 CellChangeTimes->{{3.751393592660089*^9, 
  3.751393599267256*^9}},ExpressionUUID->"d04a7e00-b4ac-467b-81d3-\
471f9672a573"],

Cell[TextData[StyleBox["Asian options are among the class of so-called exotic \
options. The price at expiry is not the final price but some average of the \
price realized over the life of the option.",
 FontSize->16,
 FontWeight->"Bold"]], "Text",
 CellFrame->{{0.5, 3}, {3, 0.5}},
 CellChangeTimes->{{3.442072007274006*^9, 3.442072016283307*^9}, {
   3.442072098555147*^9, 3.442072174903337*^9}, {3.58544704831881*^9, 
   3.585447052046453*^9}, {3.585447095819232*^9, 3.585447287988796*^9}, {
   3.585447795143066*^9, 3.585447801476882*^9}, {3.5854478895062428`*^9, 
   3.585447923558113*^9}, {3.585541155313848*^9, 3.58554115952927*^9}, {
   3.586406524515649*^9, 3.586406652295424*^9}, {3.586742747998147*^9, 
   3.5867427541645603`*^9}, 3.586888183963241*^9, {3.58689222303231*^9, 
   3.586892256481545*^9}, {3.5868923250794487`*^9, 3.586892411685691*^9}, {
   3.586892454159996*^9, 3.5868925031352177`*^9}, {3.586892561806775*^9, 
   3.5868926510935717`*^9}, {3.586892686300946*^9, 3.586892690572413*^9}, {
   3.588565516581194*^9, 3.588565617620084*^9}, {3.588565648968614*^9, 
   3.5885657157309847`*^9}, {3.588567473320284*^9, 3.588567608363929*^9}, {
   3.588567722641568*^9, 3.5885677595101347`*^9}, {3.588610716256412*^9, 
   3.588610752903265*^9}, {3.602102717229422*^9, 3.602102774570615*^9}, {
   3.602809815396812*^9, 3.602809912737894*^9}, {3.6028099750851793`*^9, 
   3.6028101617211657`*^9}, {3.6028101971259193`*^9, 3.602810265353352*^9}, {
   3.602810754739901*^9, 3.6028107620193157`*^9}, 3.7185511940930643`*^9, {
   3.81222514723733*^9, 3.812225182591629*^9}, {3.812225229205132*^9, 
   3.812225246921783*^9}, {3.812225341935766*^9, 3.81222542559768*^9}, {
   3.81273831596776*^9, 3.8127384037979813`*^9}, {3.812809562103107*^9, 
   3.81280959292379*^9}},
 TextAlignment->Center,
 TextJustification->0.,
 Background->RGBColor[
  1, 0.85, 0.85],ExpressionUUID->"8b5f4658-1d6e-461b-b49d-1d58c0756386"],

Cell[CellGroupData[{

Cell["Overview", "Subsection",
 CellChangeTimes->{{3.751396580195603*^9, 
  3.7513965829064693`*^9}},ExpressionUUID->"8231307f-6197-416c-b368-\
b85f132b9bef"],

Cell[TextData[{
 "An Asian option is one whose value is based on the average price observed \
rather than the price at expiry. Read the Wikipedia article ",
 ButtonBox["https://en.wikipedia.org/wiki/Asian_option",
  BaseStyle->"Hyperlink",
  ButtonData->{
    URL["https://en.wikipedia.org/wiki/Asian_option"], None},
  ButtonNote->"https://en.wikipedia.org/wiki/Asian_option"],
 " which describes these options in detail. "
}], "Text",
 CellChangeTimes->{{3.751393602550147*^9, 3.751393673028597*^9}, {
  3.751393835362741*^9, 3.7513938952046328`*^9}, {3.752008132699964*^9, 
  3.752008143226569*^9}},ExpressionUUID->"1db954f3-3bac-432b-9b04-\
e186f5765c6b"],

Cell[TextData[{
 "Consider an ",
 StyleBox["Asian arithmetic European put",
  FontSlant->"Italic"],
 " option, its value at expiry at beginning at time 0 with strike price ",
 Cell[BoxData[
  FormBox["K", TraditionalForm]],ExpressionUUID->
  "5dee4c4b-e146-4bc1-95cf-5f2e17e3c4fb"],
 " and expiry ",
 Cell[BoxData[
  FormBox["T", TraditionalForm]],ExpressionUUID->
  "93ec2023-5ee8-480d-b838-71112da6a91c"],
 " is"
}], "Text",
 CellChangeTimes->{{3.75139369574259*^9, 3.751393773105482*^9}, {
  3.7513942245430403`*^9, 3.75139423399894*^9}, {3.7520081850839577`*^9, 
  3.752008195659423*^9}},ExpressionUUID->"a6d03ddd-9e41-47cc-92cf-\
571cd9cd5cc9"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"P", "(", "T", ")"}], "=", 
   RowBox[{"max", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"M", "[", 
       RowBox[{"0", ",", "T"}], "]"}], "-", "K"}], ",", "0"}], "]"}]}], 
  TraditionalForm]], "Equation",
 CellChangeTimes->{{3.751210417282201*^9, 3.7512104472428207`*^9}, {
  3.7520078979981527`*^9, 
  3.752007898597921*^9}},ExpressionUUID->"dbdf4980-8f52-4822-8963-\
5cafe9f539dd"],

Cell[TextData[{
 "where ",
 Cell[BoxData[
  FormBox[
   RowBox[{"M", "[", 
    RowBox[{"0", ",", "T"}], "]"}], TraditionalForm]],ExpressionUUID->
  "1873b315-f79d-4dd8-928a-d39cec52b6df"],
 " is the arithmetic average price over the interval ",
 Cell[BoxData[
  FormBox[
   RowBox[{"0", "\[LessEqual]", "t", "\[LessEqual]", "T"}], TraditionalForm]],
  ExpressionUUID->"10afee15-a6c5-43a6-a587-41638db60e37"],
 " defined as"
}], "Text",
 CellChangeTimes->{{3.75139378754531*^9, 3.7513938244844646`*^9}, {
  3.751393905338477*^9, 
  3.751393917640913*^9}},ExpressionUUID->"6d21fbab-5c41-466f-b1fe-\
604555e4d152"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"M", "[", 
    RowBox[{"0", ",", "T"}], "]"}], "=", 
   RowBox[{
    FractionBox["1", "T"], 
    RowBox[{
     SubsuperscriptBox["\[Integral]", "0", 
      RowBox[{" ", "T"}]], 
     RowBox[{
      RowBox[{"S", "(", "t", ")"}], 
      RowBox[{"\[DifferentialD]", "t"}]}]}]}]}], TraditionalForm]], "Equation",\

 CellChangeTimes->{{3.751210194912384*^9, 
  3.751210246358983*^9}},ExpressionUUID->"72033b87-a60d-40d6-880c-\
73626b44ad81"],

Cell[TextData[{
 "Note that ",
 Cell[BoxData[
  FormBox[
   RowBox[{"M", "[", 
    RowBox[{"0", ",", "T"}], "]"}], TraditionalForm]],ExpressionUUID->
  "c42b8d42-c056-4216-8043-9a24341fcf85"],
 " is a ",
 StyleBox["random variable",
  FontSlant->"Italic"],
 "."
}], "Text",
 CellChangeTimes->{{3.752008216389757*^9, 
  3.752008232454958*^9}},ExpressionUUID->"274e13eb-1b92-410a-ae86-\
a6b80390fcc6"],

Cell["\<\
Alternately, the option may define the arithmetic average as computed by \
averaging the price at fixed intervals, \
\>", "Text",
 CellChangeTimes->{{3.751394575187853*^9, 3.751394714281897*^9}, 
   3.751394887418798*^9, {3.7513949621274157`*^9, 
   3.7513949834693193`*^9}},ExpressionUUID->"6bc7885d-32a7-4deb-b2c5-\
73669b4f17e4"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"M", "[", 
    RowBox[{"0", ",", "T"}], "]"}], "=", 
   RowBox[{
    FractionBox["1", "N"], 
    RowBox[{
     UnderoverscriptBox["\[Sum]", 
      RowBox[{"i", "=", "0"}], 
      RowBox[{"N", "-", "1"}]], 
     RowBox[{"S", "(", 
      SubscriptBox["t", "i"], ")"}]}]}]}], TraditionalForm]], "Equation",
 CellChangeTimes->{{3.751394899127306*^9, 
  3.751394941965674*^9}},ExpressionUUID->"9ccdf9e2-0f55-4910-9fa8-\
d1019b30d08a"],

Cell[TextData[{
 "but here we will only consider the first (integral) definition of ",
 Cell[BoxData[
  FormBox[
   RowBox[{"M", "[", 
    RowBox[{"0", ",", "T"}], "]"}], TraditionalForm]],ExpressionUUID->
  "9108821a-4a79-490a-b92e-b2dfa4a57ef5"],
 " above. "
}], "Text",
 CellChangeTimes->{{3.751394575187853*^9, 3.751394714281897*^9}, 
   3.75139495749265*^9, {3.7520079129958878`*^9, 
   3.75200794148345*^9}},ExpressionUUID->"3f42c567-1d3e-4cd0-b308-\
98910e55107f"],

Cell[TextData[{
 "Other forms of the Asian option use a different method of computing ",
 Cell[BoxData[
  FormBox[
   RowBox[{"M", "[", 
    RowBox[{"0", ",", "T"}], "]"}], TraditionalForm]],ExpressionUUID->
  "532f1d07-57fc-4ba4-b3a6-9bf49ae2edd5"],
 ". For example, the geometric average is sometimes used:"
}], "Text",
 CellChangeTimes->{{3.751394575187853*^9, 
  3.751394714281897*^9}},ExpressionUUID->"da8be692-d074-4fe7-8d43-\
f41c063ae3e7"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"M", "[", 
    RowBox[{"0", ",", "T"}], "]"}], "=", 
   RowBox[{"Exp", "[", 
    RowBox[{
     SubsuperscriptBox["\[Integral]", "0", 
      RowBox[{" ", "T"}]], 
     RowBox[{
      RowBox[{"Log", "[", 
       RowBox[{"S", "(", "t", ")"}], "]"}], 
      RowBox[{"\[DifferentialD]", "t"}]}]}], "]"}]}], 
  TraditionalForm]], "Equation",
 CellChangeTimes->{{3.751394799634336*^9, 
  3.751394867723357*^9}},ExpressionUUID->"3e0b385f-3367-4bbb-9ae1-\
16ba71935f2a"],

Cell["\<\
Some forms of Asian options have an analytical solution, but the arithmetic \
case does not. A common means of estimation is Monte Carlo.\
\>", "Text",
 CellChangeTimes->{{3.751394194648244*^9, 
  3.75139427440595*^9}},ExpressionUUID->"ecaa7c90-9763-4740-bcd9-\
598e5a0df5c8"]
}, Open  ]],

Cell[CellGroupData[{

Cell["FinancialDerivative[\[NonBreakingSpace]]", "Subsection",
 CellChangeTimes->{{3.751397236410294*^9, 
  3.7513972450425262`*^9}},ExpressionUUID->"2095d602-0b70-4b1e-92a7-\
3a46198af5ca"],

Cell[TextData[{
 "Mathematica",
 StyleBox["\[CloseCurlyQuote]s FinancialDerivative[\[NonBreakingSpace]] \
function can be used to estimate the value of an Asian arithmetic European \
put. Here we have ",
  FontSlant->"Plain"],
 Cell[BoxData[
  FormBox[
   StyleBox[
    RowBox[{
     RowBox[{"S", "(", "0", ")"}], "=", "95.00"}],
    FontSlant->"Plain"], TraditionalForm]],ExpressionUUID->
  "e6783f3a-0018-405d-97fb-14d824401bef"],
 ", ",
 Cell[BoxData[
  FormBox[
   RowBox[{"K", 
    StyleBox["=",
     FontSlant->"Plain"], 
    StyleBox["100.00",
     FontSlant->"Plain"]}], TraditionalForm]],ExpressionUUID->
  "3455c42c-f8c3-4689-a2d9-3cbc874bfa31"],
 ", ",
 Cell[BoxData[
  FormBox[
   RowBox[{"T", 
    StyleBox["=",
     FontSlant->"Plain"], 
    StyleBox["1",
     FontSlant->"Plain"]}], TraditionalForm]],ExpressionUUID->
  "63b3f2f8-142d-404f-82c8-79526c39b968"],
 ", ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["r", "f"], 
    StyleBox["=",
     FontSlant->"Plain"], 
    StyleBox["0.02",
     FontSlant->"Plain"]}], TraditionalForm]],ExpressionUUID->
  "1fb8e61b-27f1-486b-86ce-653b1dd1554b"],
 ",",
 StyleBox[" and ",
  FontSlant->"Plain"],
 Cell[BoxData[
  FormBox[
   StyleBox[
    RowBox[{"\[Sigma]", "=", "0.10"}],
    FontSlant->"Plain"], TraditionalForm]],ExpressionUUID->
  "75f5fe0e-2351-4e6f-91c9-eb0d082ff3a4"],
 "."
}], "Text",
 CellChangeTimes->{{3.751397248808269*^9, 3.7513973351284227`*^9}, {
   3.751398317215364*^9, 3.7513984632733717`*^9}, 3.751398523445347*^9},
 FontSlant->"Italic",ExpressionUUID->"a36f5593-df1d-4263-8ede-ca3e891a2435"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"FinancialDerivative", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "\"\<AsianArithmetic\>\"", ",", "\"\<European\>\"", ",", "\"\<Put\>\""}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<StrikePrice\>\"", "\[Rule]", "100."}], ",", 
     RowBox[{"\"\<Expiration\>\"", "\[Rule]", "1."}], ",", 
     RowBox[{"\"\<Inception\>\"", "\[Rule]", "0."}], ",", 
     RowBox[{"\"\<AverageSoFar\>\"", "\[Rule]", "95."}]}], "}"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<CurrentPrice\>\"", "\[Rule]", "95."}], ",", 
     RowBox[{"\"\<Volatility\>\"", "\[Rule]", "0.10"}], ",", 
     RowBox[{"\"\<InterestRate\>\"", "\[Rule]", "0.02"}]}], "}"}]}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.751199056701531*^9, 3.7511990901448812`*^9}, {
  3.75119912563739*^9, 3.751199289638554*^9}, {3.7513112969992647`*^9, 
  3.751311304110045*^9}},
 CellLabel->"In[81]:=",ExpressionUUID->"a463c65c-5972-45d6-8fd4-7ce1b6852cbc"],

Cell[BoxData["4.679864975600515`"], "Output",
 CellChangeTimes->{{3.751199225865473*^9, 3.751199251746306*^9}, 
   3.7511992911540833`*^9, {3.751311299455142*^9, 3.751311312968378*^9}, 
   3.751399393328689*^9, {3.783270599994791*^9, 3.783270610236726*^9}, 
   3.8172090884192257`*^9},
 CellLabel->"Out[81]=",ExpressionUUID->"661660ce-8d98-415b-a73f-44050ae64629"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Monte Carlo", "Subsection",
 CellChangeTimes->{{3.751396588297843*^9, 3.751396591586495*^9}, {
  3.752077099579052*^9, 3.752077101214512*^9}, {3.7520772392864923`*^9, 
  3.7520772396377172`*^9}},ExpressionUUID->"c98351f3-5d10-4f49-b568-\
c3201bcab850"],

Cell[TextData[{
 "In a Monte Carlo framework the integral above for the average price can be \
approximated by a discrete sum. Note in the vanilla European case we were \
able to exploit the solution to the constant coefficient ",
 StyleBox["It\[OHat]",
  IgnoreSpellCheck->True],
 " process ",
 StyleBox["under the risk-neutral measure Q",
  FontSlant->"Italic"],
 ":"
}], "Text",
 CellChangeTimes->{{3.751396602098003*^9, 3.751396663359419*^9}, {
  3.751396713109116*^9, 3.751396766675688*^9}, {3.751397396102228*^9, 
  3.7513974004839163`*^9}, {3.751397459713942*^9, 3.751397468385455*^9}, {
  3.75200780515064*^9, 
  3.752007806214135*^9}},ExpressionUUID->"afec513a-8b89-488c-89f3-\
7bb890e2aec9"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"S", "(", "t", ")"}], "=", 
   RowBox[{
    RowBox[{"S", "(", "0", ")"}], " ", 
    SuperscriptBox["\[ExponentialE]", 
     RowBox[{
      RowBox[{
       RowBox[{"(", 
        RowBox[{"r", " ", "-", " ", 
         RowBox[{
          SuperscriptBox["\[Sigma]", "2"], "/", "2"}]}], ")"}], "t"}], " ", 
      "+", " ", 
      RowBox[{"\[Sigma]", " ", 
       RowBox[{"W", "(", "t", ")"}]}]}]]}]}], TraditionalForm]], "Equation",
 CellChangeTimes->{{3.607481904414323*^9, 3.6074819062701197`*^9}, {
  3.7512096506060677`*^9, 3.751209669239049*^9}, {3.751209759732644*^9, 
  3.7512097772677526`*^9}},
 TextAlignment->Center,ExpressionUUID->"15608a62-50d7-4a8b-8e6b-dee8c74b0a2c"],

Cell[TextData[{
 "where ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{"W", "(", "t", ")"}], "\[Distributed]", 
    RowBox[{"N", "[", 
     RowBox[{"0", ",", 
      SqrtBox["t"]}], "]"}]}], TraditionalForm]],ExpressionUUID->
  "d635f82c-18a1-4632-a55d-a46ce1943269"],
 "."
}], "Text",
 CellChangeTimes->{{3.751396937297461*^9, 
  3.751396960048914*^9}},ExpressionUUID->"03769fc7-3b4f-4fcd-a0d1-\
fc5327b00f5d"],

Cell["\<\
We can also use this solution to generate a path of prices in time increments \
of \[CapitalDelta] by\
\>", "Text",
 CellChangeTimes->{{3.751396797439724*^9, 3.7513968297983227`*^9}, {
  3.751397485937645*^9, 
  3.751397491288207*^9}},ExpressionUUID->"70f1b462-2d12-4981-8db0-\
c3bd41f08d1e"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"S", "(", 
    RowBox[{"t", "+", "\[CapitalDelta]"}], ")"}], "=", 
   RowBox[{
    RowBox[{"S", "(", "t", ")"}], " ", 
    SuperscriptBox["\[ExponentialE]", 
     RowBox[{
      RowBox[{
       RowBox[{"(", 
        RowBox[{"r", " ", "-", " ", 
         RowBox[{
          SuperscriptBox["\[Sigma]", "2"], "/", "2"}]}], ")"}], 
       "\[CapitalDelta]"}], " ", "+", " ", 
      RowBox[{"\[Sigma]", " ", 
       RowBox[{"W", "(", "\[CapitalDelta]", ")"}]}]}]]}]}], 
  TraditionalForm]], "Equation",
 CellChangeTimes->{{3.607481904414323*^9, 3.6074819062701197`*^9}, {
  3.7512096506060677`*^9, 3.751209669239049*^9}, {3.751209759732644*^9, 
  3.7512097772677526`*^9}, {3.7513968421922913`*^9, 3.751396911405919*^9}, {
  3.751396980084424*^9, 3.751396985877563*^9}},
 TextAlignment->Center,ExpressionUUID->"1d046653-f7ac-4ccd-89bc-851b737c8efc"],

Cell[TextData[{
 "where ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{"W", "(", "\[CapitalDelta]", ")"}], "\[Distributed]", 
    RowBox[{"N", "[", 
     RowBox[{"0", ",", 
      SqrtBox["\[CapitalDelta]"]}], "]"}]}], TraditionalForm]],ExpressionUUID->
  "b35ff0d5-444f-4d15-9803-ad63ba7177e5"],
 "."
}], "Text",
 CellChangeTimes->{{3.751396937297461*^9, 3.751396960048914*^9}, {
  3.751396996616578*^9, 
  3.751397003135301*^9}},ExpressionUUID->"c6c4f3c9-aa54-4bbc-8552-\
685cd4c4e443"],

Cell[TextData[{
 "Using ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 "\[CloseCurlyQuote]s notation, the above is"
}], "Text",
 CellChangeTimes->{{3.751210810613855*^9, 3.751210845284341*^9}, {
  3.7513797502839947`*^9, 3.751379750449991*^9}, {3.75138001902549*^9, 
  3.751380123374159*^9}, {3.751397051956953*^9, 
  3.7513970596514387`*^9}},ExpressionUUID->"a3beb3f8-9ff1-40ed-984e-\
85eeb7e5bbcb"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"S", "(", 
    RowBox[{"t", "+", "\[CapitalDelta]"}], ")"}], "=", 
   RowBox[{
    RowBox[{"S", "(", "t", ")"}], " ", 
    RowBox[{"Exp", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"(", 
        RowBox[{"r", " ", "-", " ", 
         RowBox[{
          SuperscriptBox["\[Sigma]", "2"], "/", "2"}]}], ")"}], 
       "\[CapitalDelta]"}], " ", "+", " ", 
      RowBox[{"\[Sigma]", " ", 
       RowBox[{"RandomVariate", "[", 
        RowBox[{"NormalDistribution", "[", 
         RowBox[{"0.", ",", 
          SqrtBox["\[CapitalDelta]"]}], "]"}], "]"}]}]}]}]}]}], 
  TraditionalForm]], "Equation",
 CellChangeTimes->{{3.607481904414323*^9, 3.6074819062701197`*^9}, {
  3.751209556119664*^9, 3.751209639410316*^9}, {3.7512096729017*^9, 
  3.751209702324765*^9}, {3.7512097378226833`*^9, 3.751209748004986*^9}, {
  3.7512102656862907`*^9, 3.751210272646647*^9}, {3.751210307150083*^9, 
  3.751210311804327*^9}, {3.751229720610147*^9, 3.751229721794053*^9}, {
  3.751379778470078*^9, 3.751379785278014*^9}, {3.751397427534886*^9, 
  3.7513974331106997`*^9}},
 TextAlignment->Center,ExpressionUUID->"3ba6cccc-e391-412d-b12a-bcd7c55660bc"],

Cell[TextData[{
 "Once we have generated a single sample path we label ",
 StyleBox["j",
  FontSlant->"Italic"],
 " then we can compute its mean"
}], "Text",
 CellChangeTimes->{{3.751397562391808*^9, 3.7513975996730833`*^9}, {
   3.751399312068035*^9, 3.751399313890239*^9}, 3.75139954408947*^9, 
   3.752007530872259*^9, 3.752077557880933*^9, {3.752077788645234*^9, 
   3.752077804836624*^9}},ExpressionUUID->"c1f42d6e-8aba-4446-afd1-\
5ffb5f7370ec"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{
    SuperscriptBox["M", 
     RowBox[{"(", "j", ")"}]], "[", 
    RowBox[{"0", ",", "T"}], "]"}], "=", 
   RowBox[{
    FractionBox["1", 
     RowBox[{
      RowBox[{"T", "/", "\[CapitalDelta]"}], "+", "1"}]], 
    RowBox[{
     UnderoverscriptBox["\[Sum]", 
      RowBox[{"k", "=", "0"}], 
      RowBox[{"T", "/", "\[CapitalDelta]"}]], 
     RowBox[{
      SuperscriptBox["S", 
       RowBox[{"(", "j", ")"}]], "(", 
      RowBox[{"i", " ", "\[CapitalDelta]"}], ")"}]}]}]}], 
  TraditionalForm]], "Equation",
 CellChangeTimes->{{3.7513976334184303`*^9, 3.751397709290354*^9}, {
  3.751397840517223*^9, 3.7513978691277857`*^9}, {3.7520075353270693`*^9, 
  3.752007540519987*^9}, {3.752007726807469*^9, 3.7520077454642477`*^9}, {
  3.752077578680501*^9, 3.752077586168236*^9}, {3.752077624999247*^9, 
  3.7520776543503647`*^9}},ExpressionUUID->"98db212e-b170-473e-9c65-\
02a9f2d84f5d"],

Cell["and the option price", "Text",
 CellChangeTimes->{{3.75139954757651*^9, 
  3.75139955241721*^9}},ExpressionUUID->"619742c3-aee4-437b-a014-\
3e624cbdc327"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{
    SuperscriptBox["P", 
     RowBox[{"(", "j", ")"}]], "(", "T", ")"}], "=", 
   RowBox[{"max", "[", 
    RowBox[{
     RowBox[{"K", "-", 
      RowBox[{
       SuperscriptBox["M", 
        RowBox[{"(", "j", ")"}]], "[", 
       RowBox[{"0", ",", "T"}], "]"}]}], ",", "0"}], "]"}]}], 
  TraditionalForm]], "Equation",
 CellChangeTimes->{{3.751210417282201*^9, 3.7512104472428207`*^9}, {
  3.751399488155726*^9, 3.751399511041147*^9}, {3.752007547518688*^9, 
  3.752007551934341*^9}, {3.752007621384306*^9, 3.752007635839115*^9}, {
  3.75200774938783*^9, 3.752007757465749*^9}, {3.752077636854281*^9, 
  3.7520776431258707`*^9}},ExpressionUUID->"fb44e651-e030-4bbe-a2e9-\
9f6d8634edb8"],

Cell[TextData[{
 "If we repeat this experiment ",
 StyleBox["J",
  FontSlant->"Italic"],
 " times, then to estimate the option price"
}], "Text",
 CellChangeTimes->{{3.751397891211474*^9, 3.7513979136347837`*^9}, {
   3.7513982607275248`*^9, 3.751398269141224*^9}, {3.751399529489623*^9, 
   3.751399530569049*^9}, 3.751399562411323*^9, 3.752007557182322*^9, 
   3.752077665318316*^9},ExpressionUUID->"96f320bc-16d6-4bfb-abb3-\
6eb854a77f4d"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{
    OverscriptBox["P", "^"], "[", "0", "]"}], "=", 
   RowBox[{
    RowBox[{
     FractionBox[
      RowBox[{"Exp", "[", 
       RowBox[{
        RowBox[{"-", "r"}], " ", "T"}], "]"}], "J"], 
     RowBox[{
      UnderoverscriptBox["\[Sum]", 
       RowBox[{"j", "=", "1"}], "J"], 
      RowBox[{
       SuperscriptBox["P", 
        RowBox[{"(", "j", ")"}]], "[", "T", "]"}]}]}], "\[TildeEqual]", 
    RowBox[{
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{
       RowBox[{"-", "r"}], " ", "T"}]], 
     RowBox[{
      SubscriptBox["\[DoubleStruckCapitalE]", "Q"], "[", 
      RowBox[{"P", "[", "T", "]"}], "]"}]}]}]}], TraditionalForm]], "Equation",\

 CellChangeTimes->{{3.7513976334184303`*^9, 3.751397709290354*^9}, {
  3.751397840517223*^9, 3.7513978691277857`*^9}, {3.751397922156946*^9, 
  3.751397960027128*^9}, {3.75139823796691*^9, 3.7513982494953814`*^9}, {
  3.751399517065246*^9, 3.7513995263048277`*^9}, {3.752007561606366*^9, 
  3.752007596797607*^9}, {3.752007648142967*^9, 3.752007654679309*^9}, {
  3.7520077632366123`*^9, 3.7520077987344017`*^9}, {3.752008659274214*^9, 
  3.752008659514326*^9}, {3.7520776692065773`*^9, 
  3.75207768304562*^9}},ExpressionUUID->"a690e1d8-c62f-496b-91d9-\
fb8327f7363f"],

Cell["\<\
Note that we need to compute two Monte Carlo simulations: An inner one to \
estimate the mean price for each sample price path, and an outer one to \
estimate the discounted risk neutral expectation of a number sampled option \
valuations.\
\>", "Text",
 CellChangeTimes->{{3.752077129983787*^9, 3.752077230963283*^9}, {
  3.752077703229611*^9, 3.752077732540842*^9}, {3.752077846706277*^9, 
  3.7520778541305513`*^9}, {3.7831970540916986`*^9, 
  3.783197072197661*^9}},ExpressionUUID->"3463566e-ebb1-4943-afdc-\
d3de66ffef23"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Approach", "Subsection",
 CellChangeTimes->{{3.751399330809321*^9, 3.7513993330013857`*^9}, {
  3.7520102239131327`*^9, 3.752010224958824*^9}, {3.783113375459135*^9, 
  3.783113377311701*^9}},ExpressionUUID->"b841d2e7-1d72-4607-9bd0-\
8bd4a749680f"],

Cell[TextData[{
 "Let ",
 Cell[BoxData[
  FormBox["\[Delta]", TraditionalForm]],ExpressionUUID->
  "c54770fa-444f-442e-a05f-8455232c77b4"],
 " denote some result which returns the random result below each time it is \
called:"
}], "Text",
 CellChangeTimes->{{3.752008984132585*^9, 
  3.752009012083164*^9}},ExpressionUUID->"9d2d53f2-365f-4603-b2f1-\
5e4dc5513bc7"],

Cell[BoxData[
 FormBox[
  RowBox[{"\[Delta]", "\[Congruent]", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"r", " ", "-", " ", 
       RowBox[{
        SuperscriptBox["\[Sigma]", "2"], "/", "2"}]}], ")"}], 
     "\[CapitalDelta]"}], " ", "+", " ", 
    RowBox[{"\[Sigma]", " ", 
     RowBox[{"RandomVariate", "[", 
      RowBox[{"NormalDistribution", "[", 
       RowBox[{"0.", ",", 
        SqrtBox["\[CapitalDelta]"]}], "]"}], "]"}]}]}]}], 
  TraditionalForm]], "Equation",
 CellChangeTimes->{{3.607481904414323*^9, 3.6074819062701197`*^9}, {
   3.751209556119664*^9, 3.751209639410316*^9}, {3.7512096729017*^9, 
   3.751209702324765*^9}, {3.7512097378226833`*^9, 3.751209748004986*^9}, {
   3.7512102656862907`*^9, 3.751210272646647*^9}, {3.751210307150083*^9, 
   3.751210311804327*^9}, {3.751229720610147*^9, 3.751229721794053*^9}, {
   3.751379778470078*^9, 3.751379785278014*^9}, {3.751397427534886*^9, 
   3.7513974331106997`*^9}, {3.751737815180524*^9, 3.751737826178997*^9}, 
   3.7520774473309097`*^9},
 TextAlignment->Center,ExpressionUUID->"09182c0b-01ff-4044-a1e2-c3b79163be6a"],

Cell["The the price dynamics can be characterized by", "Text",
 CellChangeTimes->{{3.7520090346201077`*^9, 
  3.7520090520513573`*^9}},ExpressionUUID->"29d51c28-5c09-4c28-a208-\
31cac58dfc26"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"S", "(", "0", ")"}], "=", 
   RowBox[{
    RowBox[{"S", "(", "0", ")"}], " ", 
    RowBox[{"Exp", "[", "0", "]"}]}]}], TraditionalForm]], "Equation",
 CellChangeTimes->{{3.607481904414323*^9, 3.6074819062701197`*^9}, {
  3.751209556119664*^9, 3.751209639410316*^9}, {3.7512096729017*^9, 
  3.751209702324765*^9}, {3.7512097378226833`*^9, 3.751209748004986*^9}, {
  3.7512102656862907`*^9, 3.751210272646647*^9}, {3.751210307150083*^9, 
  3.751210311804327*^9}, {3.751229720610147*^9, 3.751229721794053*^9}, {
  3.751379778470078*^9, 3.751379785278014*^9}, {3.751397427534886*^9, 
  3.7513974331106997`*^9}, {3.751737834170952*^9, 3.751737834834939*^9}, {
  3.751737932192163*^9, 3.751737936286785*^9}, {3.75200939024485*^9, 
  3.752009390699409*^9}, {3.7832710152361107`*^9, 3.783271015661667*^9}},
 TextAlignment->Center,ExpressionUUID->"9df118d7-5f87-4755-b629-04b1d9581a5b"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"S", "(", "\[CapitalDelta]", ")"}], "=", 
   RowBox[{
    RowBox[{"S", "(", "0", ")"}], " ", 
    RowBox[{"Exp", "[", 
     RowBox[{"0", "+", 
      SubscriptBox["\[Delta]", "1"]}], "]"}]}]}], 
  TraditionalForm]], "Equation",
 CellChangeTimes->{{3.607481904414323*^9, 3.6074819062701197`*^9}, {
  3.751209556119664*^9, 3.751209639410316*^9}, {3.7512096729017*^9, 
  3.751209702324765*^9}, {3.7512097378226833`*^9, 3.751209748004986*^9}, {
  3.7512102656862907`*^9, 3.751210272646647*^9}, {3.751210307150083*^9, 
  3.751210311804327*^9}, {3.751229720610147*^9, 3.751229721794053*^9}, {
  3.751379778470078*^9, 3.751379785278014*^9}, {3.751397427534886*^9, 
  3.7513974331106997`*^9}, {3.751737834170952*^9, 3.751737834834939*^9}, {
  3.751737939470792*^9, 3.7517379399585857`*^9}, {3.751742593222348*^9, 
  3.751742593892199*^9}, {3.752009393635573*^9, 3.7520093948195057`*^9}, {
  3.783271020175353*^9, 3.783271020999363*^9}},
 TextAlignment->Center,ExpressionUUID->"9293cfdf-13c8-47a2-9643-e1299c968678"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"S", "(", 
    RowBox[{"2", "\[CapitalDelta]"}], ")"}], "=", 
   RowBox[{
    RowBox[{"S", "(", "0", ")"}], " ", 
    RowBox[{"Exp", "[", 
     RowBox[{"0", "+", 
      SubscriptBox["\[Delta]", "1"], "+", 
      SubscriptBox["\[Delta]", "2"]}], "]"}]}]}], 
  TraditionalForm]], "Equation",
 CellChangeTimes->{{3.607481904414323*^9, 3.6074819062701197`*^9}, {
  3.751209556119664*^9, 3.751209639410316*^9}, {3.7512096729017*^9, 
  3.751209702324765*^9}, {3.7512097378226833`*^9, 3.751209748004986*^9}, {
  3.7512102656862907`*^9, 3.751210272646647*^9}, {3.751210307150083*^9, 
  3.751210311804327*^9}, {3.751229720610147*^9, 3.751229721794053*^9}, {
  3.751379778470078*^9, 3.751379785278014*^9}, {3.751397427534886*^9, 
  3.7513974331106997`*^9}, {3.751737834170952*^9, 3.7517378654348497`*^9}, {
  3.7517379429987373`*^9, 3.751737944094611*^9}, {3.751739057151227*^9, 
  3.751739068277974*^9}, {3.751739322145874*^9, 3.751739326223358*^9}, {
  3.752009397378983*^9, 3.752009397907201*^9}, {3.783271023260974*^9, 
  3.783271023632372*^9}},
 TextAlignment->Center,ExpressionUUID->"0806331d-ae17-4f42-926f-7f77e8fcaa59"],

Cell[BoxData[
 FormBox[
  StyleBox["\[VerticalEllipsis]",
   FontWeight->"Bold"], TraditionalForm]], "Equation",
 CellChangeTimes->{{3.607481904414323*^9, 3.6074819062701197`*^9}, {
   3.751209556119664*^9, 3.751209639410316*^9}, {3.7512096729017*^9, 
   3.751209702324765*^9}, {3.7512097378226833`*^9, 3.751209748004986*^9}, {
   3.7512102656862907`*^9, 3.751210272646647*^9}, {3.751210307150083*^9, 
   3.751210311804327*^9}, {3.751229720610147*^9, 3.751229721794053*^9}, {
   3.751379778470078*^9, 3.751379785278014*^9}, {3.751397427534886*^9, 
   3.7513974331106997`*^9}, {3.751737834170952*^9, 3.7517378654348497`*^9}, {
   3.7517379429987373`*^9, 3.751737944094611*^9}, {3.751739057151227*^9, 
   3.751739068277974*^9}, {3.751739322145874*^9, 3.751739326223358*^9}, 
   3.752009336338071*^9},
 TextAlignment->Center,ExpressionUUID->"a8792866-e705-4212-9072-33c28f03df01"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"S", "(", 
    RowBox[{"k", " ", "\[CapitalDelta]"}], ")"}], "=", 
   RowBox[{
    RowBox[{"S", "(", "0", ")"}], " ", 
    RowBox[{"Exp", "[", 
     RowBox[{"0", "+", 
      SubscriptBox["\[Delta]", "1"], "+", 
      SubscriptBox["\[Delta]", "2"], "+", "\[Ellipsis]", "+", 
      SubscriptBox["\[Delta]", "k"]}], "]"}]}]}], 
  TraditionalForm]], "Equation",
 CellChangeTimes->{{3.607481904414323*^9, 3.6074819062701197`*^9}, {
  3.751209556119664*^9, 3.751209639410316*^9}, {3.7512096729017*^9, 
  3.751209702324765*^9}, {3.7512097378226833`*^9, 3.751209748004986*^9}, {
  3.7512102656862907`*^9, 3.751210272646647*^9}, {3.751210307150083*^9, 
  3.751210311804327*^9}, {3.751229720610147*^9, 3.751229721794053*^9}, {
  3.751379778470078*^9, 3.751379785278014*^9}, {3.751397427534886*^9, 
  3.7513974331106997`*^9}, {3.751737834170952*^9, 3.7517378654348497`*^9}, {
  3.7517379429987373`*^9, 3.751737944094611*^9}, {3.751739057151227*^9, 
  3.751739068277974*^9}, {3.751739322145874*^9, 3.7517393518637323`*^9}, {
  3.752009400523511*^9, 3.752009406155169*^9}},
 TextAlignment->Center,ExpressionUUID->"eacb94a7-362f-4ee7-a8be-ffa7ed96d374"],

Cell[TextData[{
 "We can succinctly generate a sample path of ",
 Cell[BoxData[
  FormBox[
   RowBox[{"S", "(", "t", ")"}], TraditionalForm]],ExpressionUUID->
  "5ff1faec-c273-406d-b62e-335642f296d1"],
 " using FoldList[\[NonBreakingSpace]] to recursively compute"
}], "Text",
 CellChangeTimes->{{3.752009064075341*^9, 
  3.752009109150065*^9}},ExpressionUUID->"e66de2ba-dc12-4c7e-888d-\
7d7ad0c4bb08"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"S", "(", "0", ")"}], ",", 
     RowBox[{"S", "(", "\[CapitalDelta]", ")"}], ",", " ", "\[Ellipsis]", ",", 
     RowBox[{"S", "(", 
      RowBox[{"k", "\[Times]", "\[CapitalDelta]"}], ")"}]}], "}"}], "=", 
   RowBox[{
    RowBox[{"S", "(", "0", ")"}], " ", 
    RowBox[{"Exp", "[", 
     RowBox[{"FoldList", "[", 
      RowBox[{"Plus", ",", "0", ",", 
       RowBox[{"{", 
        RowBox[{
         SubscriptBox["\[Delta]", "1"], "+", 
         SubscriptBox["\[Delta]", "2"], "+", "\[Ellipsis]", "+", 
         SubscriptBox["\[Delta]", "k"]}], "}"}]}], "]"}], "]"}]}]}], 
  TraditionalForm]], "Equation",
 CellChangeTimes->{{3.607481904414323*^9, 3.6074819062701197`*^9}, {
  3.751209556119664*^9, 3.751209639410316*^9}, {3.7512096729017*^9, 
  3.751209702324765*^9}, {3.7512097378226833`*^9, 3.751209748004986*^9}, {
  3.7512102656862907`*^9, 3.751210272646647*^9}, {3.751210307150083*^9, 
  3.751210311804327*^9}, {3.751229720610147*^9, 3.751229721794053*^9}, {
  3.751379778470078*^9, 3.751379785278014*^9}, {3.751397427534886*^9, 
  3.7513974331106997`*^9}, {3.751737834170952*^9, 3.751737899701481*^9}, {
  3.7517379519667177`*^9, 3.751738006077674*^9}, {3.751738111879043*^9, 
  3.7517381196383142`*^9}, {3.752009181949833*^9, 3.752009185820178*^9}, {
  3.752009423952587*^9, 3.752009426000472*^9}},
 TextAlignment->Center,ExpressionUUID->"f25e8859-717d-4458-8c30-6318bfc1c809"],

Cell[TextData[{
 "where we set ",
 Cell[BoxData[
  FormBox["k", TraditionalForm]],ExpressionUUID->
  "56709c3f-255c-420c-95ef-3c588b065f59"],
 " so that ",
 Cell[BoxData[
  FormBox[
   RowBox[{"T", "=", 
    RowBox[{"k", "\[Times]", "\[CapitalDelta]"}]}], TraditionalForm]],
  ExpressionUUID->"878787cf-7062-4209-be61-9e3c76ddf0ba"],
 ". Note that we can generate a ",
 Cell[BoxData[
  FormBox["k", TraditionalForm]],ExpressionUUID->
  "fb8bc238-3474-4027-a6ec-4d6c010ecf5f"],
 "-vector ",
 Cell[BoxData[
  FormBox[
   OverscriptBox["\[Delta]", "\[RightVector]"], TraditionalForm]],
  FontWeight->"Bold",ExpressionUUID->"4e114968-1905-4d81-b018-7b199e181002"],
 " using "
}], "Text",
 CellChangeTimes->{{3.752009137193025*^9, 3.752009153999271*^9}, {
  3.752009472137266*^9, 3.752009478152705*^9}, {3.7520095346299963`*^9, 
  3.752009612336241*^9}, {3.752009789368699*^9, 3.7520098156837587`*^9}, {
  3.7520772986651697`*^9, 
  3.752077347448401*^9}},ExpressionUUID->"6c47cd1f-b578-40ed-bd84-\
afe4535a8c92"],

Cell[BoxData[
 FormBox[
  RowBox[{
   StyleBox[
    OverscriptBox["\[Delta]", "\[RightVector]"],
    FontWeight->"Bold"], "=", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"r", " ", "-", " ", 
       RowBox[{
        SuperscriptBox["\[Sigma]", "2"], "/", "2"}]}], ")"}], 
     "\[CapitalDelta]"}], " ", "+", " ", 
    RowBox[{"\[Sigma]", " ", 
     RowBox[{"RandomVariate", "[", 
      RowBox[{
       RowBox[{"NormalDistribution", "[", 
        RowBox[{"0.", ",", 
         SqrtBox["\[CapitalDelta]"]}], "]"}], ",", "k"}], "]"}]}]}]}], 
  TraditionalForm]], "Equation",
 CellChangeTimes->{{3.752009137193025*^9, 3.752009153999271*^9}, {
  3.752009472137266*^9, 3.752009478152705*^9}, {3.7520095346299963`*^9, 
  3.75200962069674*^9}, {3.752009694404666*^9, 3.7520096955575247`*^9}, {
  3.752077267299201*^9, 3.75207728836705*^9}, {3.752077434669602*^9, 
  3.7520774412350187`*^9}},ExpressionUUID->"bec27777-779a-45b2-9aa4-\
d3754aeeebcd"],

Cell["The average price for a sample path is, therefore, ", "Text",
 CellChangeTimes->{{3.752009137193025*^9, 3.752009153999271*^9}, {
   3.752009472137266*^9, 3.752009478152705*^9}, 
   3.7520098689500523`*^9},ExpressionUUID->"c578baab-8d91-4a5e-b718-\
4f08d7020dfa"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"M", "[", 
    RowBox[{"0", ",", "T"}], "]"}], "=", 
   RowBox[{"Mean", "[", 
    RowBox[{
     RowBox[{"S", "(", "0", ")"}], " ", 
     RowBox[{"Exp", "[", 
      RowBox[{"FoldList", "[", 
       RowBox[{"Plus", ",", "0", ",", 
        StyleBox[
         OverscriptBox["\[Delta]", "\[RightVector]"],
         FontWeight->"Bold"]}], "]"}], "]"}]}], "]"}]}], 
  TraditionalForm]], "Equation",
 CellChangeTimes->{{3.607481904414323*^9, 3.6074819062701197`*^9}, {
   3.751209556119664*^9, 3.751209639410316*^9}, {3.7512096729017*^9, 
   3.751209702324765*^9}, {3.7512097378226833`*^9, 3.751209748004986*^9}, {
   3.7512102656862907`*^9, 3.751210272646647*^9}, {3.751210307150083*^9, 
   3.751210311804327*^9}, {3.751229720610147*^9, 3.751229721794053*^9}, {
   3.751379778470078*^9, 3.751379785278014*^9}, {3.751397427534886*^9, 
   3.7513974331106997`*^9}, {3.751737834170952*^9, 3.751737899701481*^9}, {
   3.7517379519667177`*^9, 3.751738006077674*^9}, {3.751738127382065*^9, 
   3.7517381656381187`*^9}, 3.7517382924406157`*^9, {3.751738356260301*^9, 
   3.751738358490444*^9}, {3.751738530176853*^9, 3.751738532144239*^9}, {
   3.752008527190859*^9, 3.752008531766279*^9}, 3.752008786947654*^9, {
   3.752009303681685*^9, 3.752009304112137*^9}, 3.752009521762946*^9, 
   3.752009761441021*^9, {3.752077379200384*^9, 3.752077403888754*^9}},
 TextAlignment->Center,ExpressionUUID->"80d1838c-29ca-4594-b430-63e193b7cbcb"],

Cell[TextData[{
 "If we repeat this experiment ",
 StyleBox["J",
  FontSlant->"Italic"],
 " times, then to estimate the option price"
}], "Text",
 CellChangeTimes->{{3.751397891211474*^9, 3.7513979136347837`*^9}, {
   3.7513982607275248`*^9, 3.751398269141224*^9}, {3.751399529489623*^9, 
   3.751399530569049*^9}, 3.751399562411323*^9, 3.752007557182322*^9, 
   3.752077515817741*^9},ExpressionUUID->"04ee7978-f9c9-48c2-a7e2-\
eaa1a8baddd9"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{
    OverscriptBox["P", "^"], "[", "0", "]"}], "=", 
   RowBox[{
    RowBox[{
     FractionBox[
      RowBox[{"Exp", "[", 
       RowBox[{
        RowBox[{"-", "r"}], " ", "T"}], "]"}], "J"], 
     RowBox[{
      UnderoverscriptBox["\[Sum]", 
       RowBox[{"j", "=", "1"}], "J"], 
      RowBox[{
       SuperscriptBox["P", 
        RowBox[{"(", "j", ")"}]], "[", "T", "]"}]}]}], "\[TildeEqual]", 
    RowBox[{
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{
       RowBox[{"-", "r"}], " ", "T"}]], 
     RowBox[{
      SubscriptBox["\[DoubleStruckCapitalE]", "Q"], "[", 
      RowBox[{"P", "[", "T", "]"}], "]"}]}]}]}], TraditionalForm]], "Equation",\

 CellChangeTimes->{{3.7513976334184303`*^9, 3.751397709290354*^9}, {
  3.751397840517223*^9, 3.7513978691277857`*^9}, {3.751397922156946*^9, 
  3.751397960027128*^9}, {3.75139823796691*^9, 3.7513982494953814`*^9}, {
  3.751399517065246*^9, 3.7513995263048277`*^9}, {3.752007561606366*^9, 
  3.752007596797607*^9}, {3.752007648142967*^9, 3.752007654679309*^9}, {
  3.7520077632366123`*^9, 3.7520077987344017`*^9}, {3.752008659274214*^9, 
  3.752008659514326*^9}, {3.752077523001692*^9, 
  3.7520775349692783`*^9}},ExpressionUUID->"9339b2e7-c066-49f4-b59b-\
06b81a722a48"],

Cell[CellGroupData[{

Cell["Code", "Subsubsection",
 CellChangeTimes->{{3.75139933960924*^9, 
  3.7513993404975233`*^9}},ExpressionUUID->"c511619b-a5d8-4c82-a439-\
6bdad7a97fba"],

Cell[TextData[{
 "We only need a single line of code to compute the Monte Carlo estimate, \
including the simulation\[CloseCurlyQuote]s standard error. Whether you \
express your function as a single line or break it up into multiple lines \
depends upon both clarity and efficiency. For an experienced programmer \
figuring out the logic of the code below would not be difficult, but there is \
no problem breaking it into separate steps if you find that clearer or more \
maintainable. Here\[CloseCurlyQuote]s a rather coarse path using ",
 Cell[BoxData[
  FormBox[
   RowBox[{"\[CapitalDelta]", "=", "0.1"}], TraditionalForm]],ExpressionUUID->
  "c6639783-7ecb-4f3e-b23d-afed1e970494"],
 " as an illustration. Note that ",
 Cell[BoxData[
  FormBox[
   RowBox[{"I", "=", 
    RowBox[{
     RowBox[{"T", "/", "\[CapitalDelta]"}], "=", 
     RowBox[{"1", "/", "0.1"}]}]}], TraditionalForm]],ExpressionUUID->
  "29be6687-af5b-4cec-82d9-867171ada4d1"],
 "."
}], "Text",
 CellChangeTimes->{{3.752415350290372*^9, 3.752415520093657*^9}, {
  3.7526158458060923`*^9, 3.752615877469551*^9}, {3.752615908578826*^9, 
  3.752615946033968*^9}, {3.752615991538205*^9, 
  3.752616025499298*^9}},ExpressionUUID->"cf2d5f60-8dad-418e-873b-\
9e833f5182bb"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"95.", " ", 
  RowBox[{"Exp", "[", 
   RowBox[{"FoldList", "[", 
    RowBox[{"Plus", ",", "0.", ",", 
     RowBox[{
      RowBox[{
       RowBox[{"(", 
        RowBox[{"0.02", "-", 
         RowBox[{
          SuperscriptBox["0.10", "2"], "/", "2."}]}], ")"}], "0.1"}], "+", 
      RowBox[{"0.10", " ", 
       RowBox[{"RandomVariate", "[", 
        RowBox[{
         RowBox[{"NormalDistribution", "[", 
          RowBox[{"0.", ",", 
           SqrtBox["0.1"]}], "]"}], ",", 
         RowBox[{"1.", "/", "0.1"}]}], "]"}]}]}]}], "]"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.752424035878729*^9, 3.752424080541067*^9}},
 CellLabel->"In[82]:=",ExpressionUUID->"a489be37-d7c7-4c23-b8b6-731c20e1118f"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "95.`", ",", "94.94843171941214`", ",", "97.20084140883411`", ",", 
   "99.22957504053117`", ",", "106.07997415887253`", ",", 
   "107.7494278320314`", ",", "106.20511955074895`", ",", 
   "103.62837142844822`", ",", "105.96535009669122`", ",", 
   "104.6990297001367`", ",", "101.5885475663896`"}], "}"}]], "Output",
 CellChangeTimes->{{3.752424084996423*^9, 3.7524241001479816`*^9}, 
   3.7526168458459787`*^9, 3.783198816038265*^9, {3.7832711100789833`*^9, 
   3.783271117890952*^9}, 3.817209088467561*^9},
 CellLabel->"Out[82]=",ExpressionUUID->"fe811e9f-1457-43ea-91df-fe1e353d2006"]
}, Open  ]],

Cell["\<\
In terms of the variables described above we define a function\
\>", "Text",
 CellChangeTimes->{{3.752616743119589*^9, 
  3.752616760935458*^9}},ExpressionUUID->"8300b0e9-308a-4bb4-964e-\
5fb6fee32d78"],

Cell[BoxData[
 FormBox[
  RowBox[{"xAsianArithPutMonteCarlo", "[", 
   RowBox[{
    RowBox[{"S", "(", "0", ")"}], ",", "\[Sigma]", ",", "K", ",", "T", ",", 
    "\[CapitalDelta]", ",", "r", ",", "I", ",", "K"}], "]"}], 
  TraditionalForm]], "Equation",
 CellChangeTimes->{{3.752616680006591*^9, 
  3.752616737783749*^9}},ExpressionUUID->"703ad582-c43e-49ae-8ccc-\
9e610ff20de8"],

Cell[BoxData[
 RowBox[{
  RowBox[{"xAsianArithPutMonteCarlo", "[", 
   RowBox[{
   "nInitialPrice_", ",", "nVolatility_", ",", "nStrikePrice_", ",", 
    "nExpiry_", ",", "nDeltaT_", ",", "nRiskFree_", ",", "iDeltaSteps_", ",", 
    "iNSamples_"}], "]"}], ":=", "\n", 
  RowBox[{
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"Mean", "[", "#", "]"}], ",", 
      RowBox[{
       RowBox[{"StandardDeviation", "[", "#", "]"}], "/", 
       SqrtBox["iNSamples"]}]}], "}"}], "&"}], "[", 
   RowBox[{
    RowBox[{"Exp", "[", 
     RowBox[{
      RowBox[{"-", "nRiskFree"}], " ", "nExpiry"}], "]"}], 
    RowBox[{"Table", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Max", "[", 
       RowBox[{
        RowBox[{"nStrikePrice", "-", 
         RowBox[{"Mean", "[", 
          RowBox[{"nInitialPrice", " ", 
           RowBox[{"Exp", "[", 
            RowBox[{"FoldList", "[", 
             RowBox[{"Plus", ",", "0.", ",", 
              RowBox[{
               RowBox[{
                RowBox[{"(", 
                 RowBox[{"nRiskFree", "-", 
                  RowBox[{
                   SuperscriptBox["nVolatility", "2"], "/", "2."}]}], ")"}], 
                "nDeltaT"}], "+", 
               RowBox[{"nVolatility", " ", 
                RowBox[{"RandomVariate", "[", 
                 RowBox[{
                  RowBox[{"NormalDistribution", "[", 
                   RowBox[{"0.", ",", 
                    SqrtBox["nDeltaT"]}], "]"}], ",", "iDeltaSteps"}], 
                 "]"}]}]}]}], "]"}], "]"}]}], "]"}]}], ",", "0"}], "]"}], ",", 
      RowBox[{"{", "iNSamples", "}"}]}], "]"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.751231160148355*^9, 3.751231289015935*^9}, 
   3.7512313829334307`*^9, {3.7513097645033197`*^9, 3.751309999523119*^9}, {
   3.7513105001534443`*^9, 3.751310508143652*^9}, {3.751310565401937*^9, 
   3.751310586848116*^9}, {3.751311194456443*^9, 3.7513112644002542`*^9}, {
   3.7513113346880693`*^9, 3.7513113356375513`*^9}, {3.75131145546069*^9, 
   3.751311488459915*^9}, {3.751398022667803*^9, 3.751398039562173*^9}, {
   3.751398147703967*^9, 3.751398159766274*^9}, {3.7520079726450243`*^9, 
   3.752008027589197*^9}},
 CellLabel->"In[83]:=",ExpressionUUID->"9add9081-a2c1-4410-a25a-4e17556e1d44"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"xAsianArithPutMonteCarlo", "[", 
  RowBox[{
  "95.", ",", "0.1", ",", "100.", ",", "1.", ",", "0.0005", ",", "0.02", ",", 
   
   RowBox[{"1.", "/", "0.0005"}], ",", "1000."}], "]"}]], "Input",
 CellChangeTimes->{{3.751311022393259*^9, 3.7513110745435266`*^9}, {
   3.751311345174159*^9, 3.7513113683633413`*^9}, {3.751311441582308*^9, 
   3.751311441930932*^9}, {3.7513117541258383`*^9, 3.7513117752241583`*^9}, {
   3.751311810052796*^9, 3.751311832147542*^9}, 3.751379334600294*^9, 
   3.751379812712144*^9, 3.7513993569220743`*^9, 3.751399629617969*^9, {
   3.7513997697593527`*^9, 3.7513997739629297`*^9}, {3.751742628191375*^9, 
   3.751742638925943*^9}, {3.752424248891039*^9, 3.752424277688946*^9}, {
   3.75242438912915*^9, 3.7524243944947643`*^9}},
 CellLabel->"In[84]:=",ExpressionUUID->"f92b888a-75b8-4e4b-9f8a-71c9f4982bc5"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"4.690191824769445`", ",", "0.13386618062535446`"}], 
  "}"}]], "Output",
 CellChangeTimes->{3.752424395413205*^9, 3.752616860938837*^9, 
  3.7831988466356153`*^9, 3.783271281702273*^9, 3.812820611214448*^9, 
  3.817209088694013*^9},
 CellLabel->"Out[84]=",ExpressionUUID->"6ac87988-df27-40c8-809a-619f1cb93819"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"xAsianArithPutMonteCarlo", "[", 
  RowBox[{
  "95.", ",", "0.1", ",", "100.", ",", "1.", ",", "0.0001", ",", "0.02", ",", 
   
   RowBox[{"1.", "/", "0.0001"}], ",", "1000."}], "]"}]], "Input",
 CellChangeTimes->{{3.751311022393259*^9, 3.7513110745435266`*^9}, {
   3.751311345174159*^9, 3.7513113683633413`*^9}, {3.751311441582308*^9, 
   3.751311441930932*^9}, {3.7513117541258383`*^9, 3.7513117752241583`*^9}, {
   3.751311810052796*^9, 3.751311832147542*^9}, 3.751379334600294*^9, 
   3.751379812712144*^9, 3.7513993569220743`*^9, 3.751399629617969*^9, {
   3.7513997697593527`*^9, 3.7513997739629297`*^9}, {3.751742628191375*^9, 
   3.751742638925943*^9}, {3.752424248891039*^9, 3.752424277688946*^9}, 
   3.7526168681693487`*^9},
 CellLabel->"In[85]:=",ExpressionUUID->"1cd9e07f-4e4d-42db-929f-87589f3534b8"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"4.732514542113017`", ",", "0.1329809369248793`"}], "}"}]], "Output",\

 CellChangeTimes->{{3.7513110779205914`*^9, 3.7513110849081087`*^9}, {
   3.751311273693528*^9, 3.75131128183709*^9}, {3.751311348033523*^9, 
   3.751311374819269*^9}, {3.751311443240686*^9, 3.751311448440282*^9}, 
   3.751311493957897*^9, 3.7513117835235023`*^9, {3.75131182192301*^9, 
   3.751311849894877*^9}, 3.751379337960186*^9, 3.751379813423259*^9, 
   3.7513981200983543`*^9, 3.751398165085245*^9, 3.7513993660134563`*^9, 
   3.75139963048245*^9, 3.751399775226717*^9, 3.7517399622421007`*^9, {
   3.751742634644353*^9, 3.7517426403352203`*^9}, 3.7520080410890007`*^9, 
   3.752415585373659*^9, 3.752424222800695*^9, {3.752424267494334*^9, 
   3.752424289201538*^9}, 3.752616872153983*^9, 3.7831988519266787`*^9, 
   3.783271288126996*^9, 3.812820615264496*^9, 3.81720908978008*^9},
 CellLabel->"Out[85]=",ExpressionUUID->"ea86bccb-b417-47e8-9254-52c96ac8bbe0"]
}, Open  ]],

Cell["\<\
The simulation study below returns a vector of points representing the \
underlying price at various levels vs. the lower 95% confidence limit, mean, \
and upper 95% confidence limit for the option price. The vector of such \
results is then transposed to yield three lines representing the lower \
confidence level, mean, and upper confidence level.\
\>", "Text",
 CellChangeTimes->{{3.7524155925174294`*^9, 3.752415619236268*^9}, {
  3.752415691927198*^9, 
  3.7524158368502207`*^9}},ExpressionUUID->"fe6ce855-6759-450d-86c4-\
251e7cc30faa"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mnSim", "=", 
  RowBox[{"Transpose", "@", 
   RowBox[{"Block", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", "sol", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"Table", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"sol", "=", 
         RowBox[{"xAsianArithPutMonteCarlo", "[", 
          RowBox[{
          "price", ",", "0.1", ",", "100.", ",", "1.", ",", "0.0005", ",", 
           "0.02", ",", 
           RowBox[{"1.", "/", "0.0005"}], ",", "1000."}], "]"}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"price", ",", 
            RowBox[{
             RowBox[{
             "sol", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
             "-", 
             RowBox[{"1.96", 
              RowBox[{
              "sol", "\[LeftDoubleBracket]", "2", 
               "\[RightDoubleBracket]"}]}]}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"price", ",", 
            RowBox[{
            "sol", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}]}], 
           "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"price", ",", 
            RowBox[{
             RowBox[{
             "sol", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
             "+", 
             RowBox[{"1.96", 
              RowBox[{
              "sol", "\[LeftDoubleBracket]", "2", 
               "\[RightDoubleBracket]"}]}]}]}], "}"}]}], "}"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"price", ",", "80.", ",", "120.", ",", "5."}], "}"}]}], 
      "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
    "]"}]}]}]], "Input",
 CellChangeTimes->{{3.6073071880243587`*^9, 3.607307253704406*^9}, {
   3.6073079894304333`*^9, 3.6073079968212442`*^9}, 3.6073080870969954`*^9, {
   3.6073092792583427`*^9, 3.6073092824961853`*^9}, {3.607309438234912*^9, 
   3.607309489625345*^9}, {3.607309552689678*^9, 3.6073095586639013`*^9}, {
   3.607312146929446*^9, 3.6073121822315083`*^9}, {3.6073122987206173`*^9, 
   3.607312534657825*^9}, {3.607312578032494*^9, 3.6073125925496883`*^9}, {
   3.607312757248004*^9, 3.6073127589029512`*^9}, {3.607313073978784*^9, 
   3.607313080369397*^9}, {3.6073131537212057`*^9, 3.607313157752112*^9}, {
   3.6073135343014402`*^9, 3.607313542252145*^9}, 3.607393892558935*^9, {
   3.656698824227646*^9, 3.6566988297866497`*^9}, {3.6566989761789703`*^9, 
   3.656698976528804*^9}, 3.750611844622821*^9, 3.7506119104796553`*^9, {
   3.750611941455227*^9, 3.75061196978753*^9}, {3.751379394188478*^9, 
   3.751379433651181*^9}, {3.7513795925847883`*^9, 3.7513795937345324`*^9}, 
   3.7513797063825274`*^9, {3.7513997834777803`*^9, 3.751399791978982*^9}},
 CellLabel->"In[86]:=",ExpressionUUID->"68b14a3e-3b5d-44e7-b463-bea5611e27f3"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"80.`", ",", "18.578531366799965`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"85.`", ",", "13.62774150566688`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"90.`", ",", "8.79182474884972`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"95.`", ",", "4.5356813732243415`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"100.`", ",", "1.576597836319276`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"105.`", ",", "0.384248386081129`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"110.`", ",", "0.0361856923803625`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"115.`", ",", 
       RowBox[{"-", "0.0009250396716809304`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"120.`", ",", 
       RowBox[{"-", "0.0009988414494650271`"}]}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"80.`", ",", "18.857732906614693`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"85.`", ",", "13.940627892160844`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"90.`", ",", "9.106905543697314`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"95.`", ",", "4.795431516230943`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"100.`", ",", "1.751785794604864`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"105.`", ",", "0.47423996028558135`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"110.`", ",", "0.065630671055967`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"115.`", ",", "0.0071609275663161755`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"120.`", ",", "0.002081033079765521`"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"80.`", ",", "19.13693444642942`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"85.`", ",", "14.253514278654809`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"90.`", ",", "9.421986338544908`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"95.`", ",", "5.055181659237545`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"100.`", ",", "1.926973752890452`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"105.`", ",", "0.5642315344900337`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"110.`", ",", "0.0950756497315715`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"115.`", ",", "0.015246894804313281`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"120.`", ",", "0.005160907608996069`"}], "}"}]}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{
  3.751379440022768*^9, 3.751379603187014*^9, 3.7513797080500317`*^9, 
   3.7513981693436832`*^9, 3.75139963813174*^9, 3.75139979499575*^9, 
   3.751739978127776*^9, {3.751742647970418*^9, 3.751742673205765*^9}, 
   3.752008047551527*^9, 3.7524158631178713`*^9, 3.7524244974691133`*^9, 
   3.752616892140359*^9, 3.78319885911477*^9, 3.783271313612903*^9, 
   3.812820620771613*^9, 3.812820884004237*^9, 3.817209091731288*^9},
 CellLabel->"Out[86]=",ExpressionUUID->"27900afd-a255-4ea3-925f-1041c4a864e7"]
}, Open  ]],

Cell[TextData[{
 "A comparison of our solutions and those of ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 "\[CloseCurlyQuote]s FinancialDerivative[\[NonBreakingSpace]] follows."
}], "Text",
 CellChangeTimes->{{3.752616956880538*^9, 
  3.7526169879520206`*^9}},ExpressionUUID->"0efbfbf7-ad20-4bbc-ae4c-\
fbfb3f5432a7"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mnSim", "[", 
  RowBox[{"[", "2", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.812820954487609*^9, 3.8128210036097393`*^9}},
 CellLabel->"In[87]:=",ExpressionUUID->"db65cdd6-cbb7-4587-a37a-89c9bac7705c"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"80.`", ",", "18.857732906614693`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"85.`", ",", "13.940627892160844`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"90.`", ",", "9.106905543697314`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"95.`", ",", "4.795431516230943`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"100.`", ",", "1.751785794604864`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"105.`", ",", "0.47423996028558135`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"110.`", ",", "0.065630671055967`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"115.`", ",", "0.0071609275663161755`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"120.`", ",", "0.002081033079765521`"}], "}"}]}], "}"}]], "Output",\

 CellChangeTimes->{{3.812820960018579*^9, 3.8128210044887342`*^9}, 
   3.817209091779368*^9},
 CellLabel->"Out[87]=",ExpressionUUID->"d61d28bf-87af-4c9d-892e-d9d1a12be469"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Show", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"ListLinePlot", "[", 
    RowBox[{
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"price", ",", 
         RowBox[{"FinancialDerivative", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
            "\"\<AsianArithmetic\>\"", ",", "\"\<European\>\"", ",", 
             "\"\<Put\>\""}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"\"\<StrikePrice\>\"", "\[Rule]", "100."}], ",", 
             RowBox[{"\"\<Expiration\>\"", "\[Rule]", "1."}], ",", 
             RowBox[{"\"\<Inception\>\"", "\[Rule]", "0."}], ",", 
             RowBox[{"\"\<AverageSoFar\>\"", "\[Rule]", "95."}]}], "}"}], ",",
            "\[IndentingNewLine]", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"\"\<CurrentPrice\>\"", "\[Rule]", "price"}], ",", 
             RowBox[{"\"\<Volatility\>\"", "\[Rule]", "0.10"}], ",", 
             RowBox[{"\"\<InterestRate\>\"", "\[Rule]", "0.02"}]}], "}"}]}], 
          "]"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"price", ",", "80", ",", "120", ",", "5"}], "}"}]}], "]"}], 
     ",", 
     RowBox[{"PlotLabel", "\[Rule]", 
      RowBox[{"Style", "[", 
       RowBox[{
       "\"\<FinancialDerivative[\[NonBreakingSpace]] vs. \
MonteCarlo\\n{AsianArithmetic, European, Put}\>\"", ",", 
        RowBox[{"FontSize", "\[Rule]", "16"}]}], "]"}]}], ",", 
     RowBox[{"AxesLabel", "\[Rule]", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{"#", ",", 
           RowBox[{"FontSize", "\[Rule]", "14"}]}], "]"}], "&"}], "/@", 
        RowBox[{"{", 
         RowBox[{
         "\"\<\!\(\*StyleBox[\"S\",FontSlant->\"Italic\"]\)(0)\>\"", ",", 
          "\"\<\!\(\*StyleBox[\"P\",FontSlant->\"Italic\"]\)(0)\>\""}], 
         "}"}]}], ")"}]}]}], "]"}], ",", "\[IndentingNewLine]", 
   RowBox[{"ListPlot", "[", 
    RowBox[{"mnSim", ",", 
     RowBox[{"PlotStyle", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"PointSize", "[", "0", "]"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"Black", ",", 
          RowBox[{"PointSize", "[", "0.01", "]"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"PointSize", "[", "0", "]"}], "}"}]}], "}"}]}], ",", 
     RowBox[{"Filling", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{"1", "\[Rule]", 
        RowBox[{"{", "3", "}"}]}], "}"}]}], ",", 
     RowBox[{"FillingStyle", "\[Rule]", "Red"}]}], "]"}], ",", 
   RowBox[{"PlotRange", "\[Rule]", "All"}], ",", 
   RowBox[{"ImageSize", "\[Rule]", "500"}]}], "\[IndentingNewLine]", 
  "]"}]], "Input",
 CellChangeTimes->{{3.6073125435838547`*^9, 3.6073125553143053`*^9}, {
   3.6073126299113617`*^9, 3.607312835590478*^9}, {3.607312874551948*^9, 
   3.607312972084107*^9}, {3.6073130061850653`*^9, 3.607313010039982*^9}, {
   3.60731312112223*^9, 3.60731312335315*^9}, {3.607313199988905*^9, 
   3.6073133083707743`*^9}, {3.607313346124803*^9, 3.6073133552833967`*^9}, {
   3.607313577928955*^9, 3.607313582273662*^9}, {3.6073136260850477`*^9, 
   3.607313628419882*^9}, {3.607393609737514*^9, 3.6073936210928507`*^9}, {
   3.60739365815484*^9, 3.607393848168015*^9}, {3.6073939141219807`*^9, 
   3.607393917616912*^9}, {3.750611979166025*^9, 3.7506119810287*^9}, {
   3.751379445574602*^9, 3.751379457724805*^9}, {3.751379491858247*^9, 
   3.751379534027638*^9}, {3.751379571937292*^9, 3.7513795780193863`*^9}, {
   3.751379632405615*^9, 3.751379679115872*^9}, {3.751379873257451*^9, 
   3.7513799044210777`*^9}, {3.75137994424028*^9, 3.751379945061305*^9}, {
   3.751399671826251*^9, 3.751399672975272*^9}, {3.81282086369064*^9, 
   3.812820864481821*^9}, {3.8128209316195393`*^9, 3.812820936901903*^9}, {
   3.812821015629208*^9, 3.8128210166551027`*^9}, {3.812821051780487*^9, 
   3.812821053244225*^9}, 3.81282113390036*^9},
 CellLabel->"In[88]:=",ExpressionUUID->"706202aa-5b97-41c5-9c64-48561534f064"],

Cell[BoxData[
 GraphicsBox[{{{}, {{}, {}, 
     {RGBColor[0.368417, 0.506779, 0.709798], PointSize[
       NCache[
        Rational[7, 360], 0.019444444444444445`]], AbsoluteThickness[1.6], 
      LineBox[{{80., 18.752799282334937`}, {85., 13.875948529201892`}, {90., 
       9.048421477918989}, {95., 4.800301805291371}, {100., 
       1.8266811346765575`}, {105., 0.4588069475295956}, {110., 
       0.08646655646152063}, {115., 0.006242874189913856}, {120., 
       0.0004232397076267636}}]}}, {{}, {}}}, {{}, 
    GraphicsComplexBox[CompressedData["
1:eJxTTMoPSmViYGCwB2IQDQEhDltktyyUmmLkAOY6hDpsilkVmu6oDeE3hDlo
fNrAmzVVEcI/EO6w3SdnRaeKEITPEOmQ90Nu+T7Ln/YQ/VEONtM/dLVNvwHh
N0Q7/Fu1Lepd2yII/0CMQ0Dm1Imn/f32Q/THOcwp/n+tMDZgP8w93+bYJU25
jXBPn9DSXzMfItxz+eHpoD1mSnD3rFpbOLNVTxjunkdnp3UFsP+Bu2dO44/+
T5H34O7hPH7mo/bZDXD3LLHwvX0spNYe5p6oxfMV7HgS7WHusZA5qcSnbAx3
T9aJ+fPPNOrA3VN38dl0vhsI98zlK+9qtBCBuydsMV/eoyv/4O75Z9rgpc/3
CO6eyRZ22x6E7YC7x7I/bcphy364exwb4qfNUi7F6Z6Bjq/R9DM00g8AeOos
Dw==
     "], {{{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, 
       {RGBColor[1, 0, 0], LineBox[{1, 28}], LineBox[{20, 29}], 
        LineBox[{21, 30}], LineBox[{22, 31}], LineBox[{23, 32}], 
        LineBox[{24, 33}], LineBox[{25, 34}], LineBox[{26, 35}], 
        LineBox[{27, 36}]}}, {
       {RGBColor[0.368417, 0.506779, 0.709798], PointSize[0], 
        AbsoluteThickness[1.6], 
        PointBox[{37, 38, 39, 40, 41, 42, 43, 44, 45}]}, 
       {GrayLevel[0], PointSize[0.01], AbsoluteThickness[1.6], 
        PointBox[{46, 47, 48, 49, 50, 51, 52, 53, 54}]}, 
       {RGBColor[0.560181, 0.691569, 0.194885], PointSize[0], 
        AbsoluteThickness[1.6], 
        PointBox[{55, 56, 57, 58, 59, 60, 61, 62, 63}]}}}], {{}, {}}}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{True, True},
  AxesLabel->{
    FormBox[
     StyleBox[
     "\"\\!\\(\\*StyleBox[\\\"S\\\",FontSlant->\\\"Italic\\\"]\\)(0)\"", 
      FontSize -> 14, StripOnInput -> False], TraditionalForm], 
    FormBox[
     StyleBox[
     "\"\\!\\(\\*StyleBox[\\\"P\\\",FontSlant->\\\"Italic\\\"]\\)(0)\"", 
      FontSize -> 14, StripOnInput -> False], TraditionalForm]},
  AxesOrigin->{79.16666666666667, 0},
  DisplayFunction->Identity,
  Frame->{{False, False}, {False, False}},
  FrameLabel->{{None, None}, {None, None}},
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{None, None},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImageSize->500,
  Method->{
   "OptimizePlotMarkers" -> True, "OptimizePlotMarkers" -> True, 
    "CoordinatesToolOptions" -> {"DisplayFunction" -> ({
        Identity[
         Part[#, 1]], 
        Identity[
         Part[#, 2]]}& ), "CopiedValueFunction" -> ({
        Identity[
         Part[#, 1]], 
        Identity[
         Part[#, 2]]}& )}},
  PlotLabel->FormBox[
    StyleBox[
    "\"FinancialDerivative[\[NonBreakingSpace]] vs. \
MonteCarlo\\n{AsianArithmetic, European, Put}\"", FontSize -> 16, 
     StripOnInput -> False], TraditionalForm],
  PlotRange->All,
  PlotRangeClipping->True,
  PlotRangePadding->{{
     Scaled[0.02], 
     Scaled[0.02]}, {
     Scaled[0.02], 
     Scaled[0.05]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellChangeTimes->{
  3.7513796251163483`*^9, {3.751379691207508*^9, 3.7513797197032137`*^9}, 
   3.751379884133127*^9, 3.7513799154788647`*^9, 3.751379953321224*^9, 
   3.751398180755691*^9, {3.751399650843195*^9, 3.7513996806054287`*^9}, 
   3.751399809923847*^9, 3.75173999198892*^9, {3.751742658072419*^9, 
   3.7517426830431223`*^9}, 3.752008060331964*^9, 3.752415877628824*^9, 
   3.752424530432431*^9, 3.7526170030582047`*^9, 3.783198869798461*^9, 
   3.783271330124982*^9, 3.812820637383572*^9, 3.81282080514389*^9, {
   3.812820870556079*^9, 3.8128208950287857`*^9}, 3.812820944132826*^9, 
   3.812821023145523*^9, 3.812821059886264*^9, 3.81282114113772*^9, 
   3.8172091000556583`*^9},
 CellLabel->"Out[88]=",ExpressionUUID->"7c82be2d-ff7b-44cf-be3e-20c17bedadd9"]
}, Open  ]],

Cell[TextData[{
 "Again, note that the ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " function itself uses Monte Carlo. It returns a slightly different result \
each time it is run. We\[CloseCurlyQuote]ll sample it to see how much it \
varies from call to call."
}], "Text",
 CellChangeTimes->{{3.752415883164011*^9, 3.752415930093089*^9}, {
  3.752617017481922*^9, 
  3.75261705150147*^9}},ExpressionUUID->"90d1d59a-9452-4b3e-8e81-\
d5043ab13e6e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"vnMmaSim", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"FinancialDerivative", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "\"\<AsianArithmetic\>\"", ",", "\"\<European\>\"", ",", 
         "\"\<Put\>\""}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<StrikePrice\>\"", "\[Rule]", "100."}], ",", 
         RowBox[{"\"\<Expiration\>\"", "\[Rule]", "1."}], ",", 
         RowBox[{"\"\<Inception\>\"", "\[Rule]", "0."}], ",", 
         RowBox[{"\"\<AverageSoFar\>\"", "\[Rule]", "95."}]}], "}"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<CurrentPrice\>\"", "\[Rule]", "95."}], ",", 
         RowBox[{"\"\<Volatility\>\"", "\[Rule]", "0.10"}], ",", 
         RowBox[{"\"\<InterestRate\>\"", "\[Rule]", "0.02"}]}], "}"}]}], 
      "]"}], ",", 
     RowBox[{"{", "100", "}"}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.752416489010346*^9, 3.7524164970778713`*^9}},
 CellLabel->"In[89]:=",ExpressionUUID->"21518759-d454-4387-9755-a4c4c1f105e8"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Histogram", "[", 
  RowBox[{"vnMmaSim", ",", "Automatic", ",", "\"\<PDF\>\"", ",", 
   RowBox[{"PlotLabel", "\[Rule]", 
    RowBox[{"Style", "[", 
     RowBox[{
      RowBox[{
      "\"\<\!\(\*StyleBox[\"Mathematica\",FontSlant->\"Italic\"]\) Asian \
Arithmetic\\n m = \>\"", "<>", 
       RowBox[{"ToString", "[", 
        RowBox[{"Mean", "[", "vnMmaSim", "]"}], "]"}], "<>", "\"\< s = \>\"", 
       "<>", 
       RowBox[{"ToString", "[", 
        RowBox[{"StandardDeviation", "[", "vnMmaSim", "]"}], "]"}]}], ",", 
      RowBox[{"FontSize", "\[Rule]", "16"}]}], "]"}]}], ",", 
   RowBox[{"ImageSize", "\[Rule]", "500"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.7524159478334103`*^9, 3.75241601387677*^9}, 
   3.752416358606678*^9, {3.752416425174906*^9, 3.7524164255653267`*^9}, {
   3.752416476363455*^9, 3.7524164846869907`*^9}, {3.75241653352169*^9, 
   3.7524166668090897`*^9}},
 CellLabel->"In[90]:=",ExpressionUUID->"66687299-1ecc-4474-b59d-f86bd079bed8"],

Cell[BoxData[
 GraphicsBox[{
   {RGBColor[0.987148, 0.8073604000000001, 0.49470040000000004`], EdgeForm[{
    Opacity[0.609], Thickness[Small]}], {}, 
    {RGBColor[0.987148, 0.8073604000000001, 0.49470040000000004`], EdgeForm[{
     Opacity[0.609], Thickness[Small]}], 
     TagBox[
      TooltipBox[
       TagBox[
        TagBox[
         DynamicBox[{
           FEPrivate`If[
            CurrentValue["MouseOver"], 
            EdgeForm[{
              GrayLevel[0.5], 
              AbsoluteThickness[1.5], 
              Opacity[0.66]}], {}, {}], 
           RectangleBox[{4.62, 0}, {4.64, 0.5}, "RoundingRadius" -> 0]},
          
          ImageSizeCache->{{15.92111551741283, 46.89058946020276}, {
           106.8116297885362, 117.78171875000001`}}],
         "DelayedMouseEffectStyle"],
        StatusArea[#, 0.5]& ,
        TagBoxNote->"0.5"],
       StyleBox["0.5`", {}, StripOnInput -> False]],
      Annotation[#, 
       Style[0.5, {}], "Tooltip"]& ], 
     TagBox[
      TooltipBox[
       TagBox[
        TagBox[
         DynamicBox[{
           FEPrivate`If[
            CurrentValue["MouseOver"], 
            EdgeForm[{
              GrayLevel[0.5], 
              AbsoluteThickness[1.5], 
              Opacity[0.66]}], {}, {}], 
           RectangleBox[{4.64, 0}, {4.66, 0.5}, "RoundingRadius" -> 0]},
          
          ImageSizeCache->{{46.53058946020275, 77.5000634029945}, {
           106.8116297885362, 117.78171875000001`}}],
         "DelayedMouseEffectStyle"],
        StatusArea[#, 0.5]& ,
        TagBoxNote->"0.5"],
       StyleBox["0.5`", {}, StripOnInput -> False]],
      Annotation[#, 
       Style[0.5, {}], "Tooltip"]& ], 
     TagBox[
      TooltipBox[
       TagBox[
        TagBox[
         DynamicBox[{
           FEPrivate`If[
            CurrentValue["MouseOver"], 
            EdgeForm[{
              GrayLevel[0.5], 
              AbsoluteThickness[1.5], 
              Opacity[0.66]}], {}, {}], 
           RectangleBox[{4.66, 0}, {4.68, 3.}, "RoundingRadius" -> 0]},
          
          ImageSizeCache->{{77.14006340299449, 108.1095373457835}, {
           53.76118498121713, 117.78171875000001`}}],
         "DelayedMouseEffectStyle"],
        StatusArea[#, 3]& ,
        TagBoxNote->"3"],
       StyleBox["3", {}, StripOnInput -> False]],
      Annotation[#, 
       Style[3, {}], "Tooltip"]& ], 
     TagBox[
      TooltipBox[
       TagBox[
        TagBox[
         DynamicBox[{
           FEPrivate`If[
            CurrentValue["MouseOver"], 
            EdgeForm[{
              GrayLevel[0.5], 
              AbsoluteThickness[1.5], 
              Opacity[0.66]}], {}, {}], 
           RectangleBox[{4.68, 0}, {4.7, 4.5}, "RoundingRadius" -> 0]},
          
          ImageSizeCache->{{107.7495373457835, 138.71901128857525`}, {
           21.93091809682568, 117.78171875000001`}}],
         "DelayedMouseEffectStyle"],
        StatusArea[#, 4.5]& ,
        TagBoxNote->"4.5"],
       StyleBox["4.5`", {}, StripOnInput -> False]],
      Annotation[#, 
       Style[4.5, {}], "Tooltip"]& ], 
     TagBox[
      TooltipBox[
       TagBox[
        TagBox[
         DynamicBox[{
           FEPrivate`If[
            CurrentValue["MouseOver"], 
            EdgeForm[{
              GrayLevel[0.5], 
              AbsoluteThickness[1.5], 
              Opacity[0.66]}], {}, {}], 
           RectangleBox[{4.7, 0}, {4.72, 9.5}, "RoundingRadius" -> 0]},
          
          ImageSizeCache->{{138.35901128857523`, 
           169.32848523136516`}, {-84.16997151781248, 117.78171875000001`}}],
         "DelayedMouseEffectStyle"],
        StatusArea[#, 9.5]& ,
        TagBoxNote->"9.5"],
       StyleBox["9.5`", {}, StripOnInput -> False]],
      Annotation[#, 
       Style[9.5, {}], "Tooltip"]& ], 
     TagBox[
      TooltipBox[
       TagBox[
        TagBox[
         DynamicBox[{
           FEPrivate`If[
            CurrentValue["MouseOver"], 
            EdgeForm[{
              GrayLevel[0.5], 
              AbsoluteThickness[1.5], 
              Opacity[0.66]}], {}, {}], 
           RectangleBox[{4.72, 0}, {4.74, 7.}, "RoundingRadius" -> 0]},
          
          ImageSizeCache->{{168.96848523136515`, 
           199.937959174156}, {-31.119526710493403`, 117.78171875000001`}}],
         "DelayedMouseEffectStyle"],
        StatusArea[#, 7]& ,
        TagBoxNote->"7"],
       StyleBox["7", {}, StripOnInput -> False]],
      Annotation[#, 
       Style[7, {}], "Tooltip"]& ], 
     TagBox[
      TooltipBox[
       TagBox[
        TagBox[
         DynamicBox[{
           FEPrivate`If[
            CurrentValue["MouseOver"], 
            EdgeForm[{
              GrayLevel[0.5], 
              AbsoluteThickness[1.5], 
              Opacity[0.66]}], {}, {}], 
           RectangleBox[{4.74, 0}, {4.76, 7.}, "RoundingRadius" -> 0]},
          
          ImageSizeCache->{{199.57795917415598`, 
           230.5474331169459}, {-31.119526710493403`, 117.78171875000001`}}],
         "DelayedMouseEffectStyle"],
        StatusArea[#, 7]& ,
        TagBoxNote->"7"],
       StyleBox["7", {}, StripOnInput -> False]],
      Annotation[#, 
       Style[7, {}], "Tooltip"]& ], 
     TagBox[
      TooltipBox[
       TagBox[
        TagBox[
         DynamicBox[{
           FEPrivate`If[
            CurrentValue["MouseOver"], 
            EdgeForm[{
              GrayLevel[0.5], 
              AbsoluteThickness[1.5], 
              Opacity[0.66]}], {}, {}], 
           RectangleBox[{4.76, 0}, {4.78, 9.}, "RoundingRadius" -> 0]},
          
          ImageSizeCache->{{230.1874331169459, 
           261.15690705973765`}, {-73.55988255634867, 117.78171875000001`}}],
         "DelayedMouseEffectStyle"],
        StatusArea[#, 9]& ,
        TagBoxNote->"9"],
       StyleBox["9", {}, StripOnInput -> False]],
      Annotation[#, 
       Style[9, {}], "Tooltip"]& ], 
     TagBox[
      TooltipBox[
       TagBox[
        TagBox[
         DynamicBox[{
           FEPrivate`If[
            CurrentValue["MouseOver"], 
            EdgeForm[{
              GrayLevel[0.5], 
              AbsoluteThickness[1.5], 
              Opacity[0.66]}], {}, {}], 
           RectangleBox[{4.78, 0}, {4.8, 5.}, "RoundingRadius" -> 0]},
          
          ImageSizeCache->{{260.79690705973763`, 291.76638100252757`}, {
           11.320829135361862`, 117.78171875000001`}}],
         "DelayedMouseEffectStyle"],
        StatusArea[#, 5]& ,
        TagBoxNote->"5"],
       StyleBox["5", {}, StripOnInput -> False]],
      Annotation[#, 
       Style[5, {}], "Tooltip"]& ], 
     TagBox[
      TooltipBox[
       TagBox[
        TagBox[
         DynamicBox[{
           FEPrivate`If[
            CurrentValue["MouseOver"], 
            EdgeForm[{
              GrayLevel[0.5], 
              AbsoluteThickness[1.5], 
              Opacity[0.66]}], {}, {}], 
           RectangleBox[{4.8, 0}, {4.82, 3.}, "RoundingRadius" -> 0]},
          
          ImageSizeCache->{{291.40638100252755`, 322.3758549453184}, {
           53.76118498121713, 117.78171875000001`}}],
         "DelayedMouseEffectStyle"],
        StatusArea[#, 3]& ,
        TagBoxNote->"3"],
       StyleBox["3", {}, StripOnInput -> False]],
      Annotation[#, 
       Style[3, {}], "Tooltip"]& ], 
     TagBox[
      TooltipBox[
       TagBox[
        TagBox[
         DynamicBox[{
           FEPrivate`If[
            CurrentValue["MouseOver"], 
            EdgeForm[{
              GrayLevel[0.5], 
              AbsoluteThickness[1.5], 
              Opacity[0.66]}], {}, {}], 
           RectangleBox[{4.82, 0}, {4.84, 1.}, "RoundingRadius" -> 0]},
          
          ImageSizeCache->{{322.0158549453184, 352.9853288881083}, {
           96.20154082707238, 117.78171875000001`}}],
         "DelayedMouseEffectStyle"],
        StatusArea[#, 1]& ,
        TagBoxNote->"1"],
       StyleBox["1", {}, StripOnInput -> False]],
      Annotation[#, 
       Style[1, {}], 
       "Tooltip"]& ]}, {}, {}}, {{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}}},
  
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{True, True},
  AxesLabel->{None, None},
  AxesOrigin->{4.6156, 0},
  FrameLabel->{{None, None}, {None, None}},
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{None, None},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImageSize->500,
  PlotLabel->FormBox[
    StyleBox[
    "\"\\!\\(\\*StyleBox[\\\"Mathematica\\\",FontSlant->\\\"Italic\\\"]\\) \
Asian Arithmetic\\n m = 4.73987 s = 0.0417885\"", FontSize -> 16, 
     StripOnInput -> False], TraditionalForm],
  PlotRange->{{4.62, 4.84}, {All, All}},
  PlotRangePadding->{{
     Scaled[0.02], 
     Scaled[0.02]}, {
     Scaled[0.02], 
     Scaled[0.05]}},
  Ticks->{Automatic, Automatic}]], "Output",
 CellChangeTimes->{3.752416753963539*^9, 3.752617152196596*^9, 
  3.783198944817996*^9, 3.81282071321101*^9, 3.817209190703623*^9},
 CellLabel->"Out[90]=",ExpressionUUID->"ff970cfa-1a4f-40cd-92b7-869324c135cb"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["American Options", "Section",
 CellChangeTimes->{{3.8097971959439497`*^9, 
  3.8097971969740963`*^9}},ExpressionUUID->"7215edf1-77fb-4d58-b115-\
b86c28a077d0"],

Cell[TextData[{
 StyleBox["American options are distinguished from European by the fact that \
the holder of the option has the right to exercise at any time during the \
life of the contract, not just at expiry. Unlike European options there is no \
closed form solution to the pricing of American options.\n\nThe differences \
in value between American and European options is explored in ",
  FontSize->16,
  FontWeight->"Bold"],
 StyleBox[ButtonBox["https://en.wikipedia.org/wiki/Option_style#Difference_in_\
value",
  BaseStyle->"Hyperlink",
  ButtonData->{
    URL["https://en.wikipedia.org/wiki/Option_style#Difference_in_value"], 
    None},
  ButtonNote->
   "https://en.wikipedia.org/wiki/Option_style#Difference_in_value"],
  FontSize->16,
  FontWeight->"Bold"]
}], "Text",
 CellFrame->{{0.5, 3}, {3, 0.5}},
 CellChangeTimes->{{3.442072007274006*^9, 3.442072016283307*^9}, {
   3.442072098555147*^9, 3.442072174903337*^9}, {3.58544704831881*^9, 
   3.585447052046453*^9}, {3.585447095819232*^9, 3.585447287988796*^9}, {
   3.585447795143066*^9, 3.585447801476882*^9}, {3.5854478895062428`*^9, 
   3.585447923558113*^9}, {3.585541155313848*^9, 3.58554115952927*^9}, {
   3.586406524515649*^9, 3.586406652295424*^9}, {3.586742747998147*^9, 
   3.5867427541645603`*^9}, 3.586888183963241*^9, {3.58689222303231*^9, 
   3.586892256481545*^9}, {3.5868923250794487`*^9, 3.586892411685691*^9}, {
   3.586892454159996*^9, 3.5868925031352177`*^9}, {3.586892561806775*^9, 
   3.5868926510935717`*^9}, {3.586892686300946*^9, 3.586892690572413*^9}, {
   3.588565516581194*^9, 3.588565617620084*^9}, {3.588565648968614*^9, 
   3.5885657157309847`*^9}, {3.588567473320284*^9, 3.588567608363929*^9}, {
   3.588567722641568*^9, 3.5885677595101347`*^9}, {3.588610716256412*^9, 
   3.588610752903265*^9}, {3.602102717229422*^9, 3.602102774570615*^9}, {
   3.8097968088551493`*^9, 3.8097968874343357`*^9}, {3.809796939071082*^9, 
   3.809796943985758*^9}, {3.8097970540554047`*^9, 3.8097971516948357`*^9}, {
   3.81275321616502*^9, 3.812753217355289*^9}, {3.812753332721612*^9, 
   3.812753390367467*^9}, {3.812753422292096*^9, 3.8127534514135113`*^9}},
 TextAlignment->Center,
 TextJustification->0.,
 Background->RGBColor[
  1, 0.85, 0.85],ExpressionUUID->"ce845d61-c0cb-45e0-aff9-3ddb8cd668d7"],

Cell["\<\
Clearly, an American option must be worth at least as much as a European \
option with the same provisions, i.e., on the same asset with the same strike \
price, start date and expiration date.\
\>", "Text",ExpressionUUID->"871bd7d4-c210-499a-86e9-5ebdebb5fa11"],

Cell[CellGroupData[{

Cell["American Calls", "Subsection",ExpressionUUID->"8ee1128e-db14-4ba3-9636-ff38eab2e602"],

Cell[TextData[{
 "Assume that the option is active over time 0 \[LessEqual] ",
 StyleBox["t",
  FontSlant->"Italic"],
 " \[LessEqual] ",
 StyleBox["T",
  FontSlant->"Italic"],
 " and that the price at time ",
 StyleBox["t",
  FontSlant->"Italic"],
 " is ",
 StyleBox["S",
  FontSlant->"Italic"],
 "(",
 StyleBox["t",
  FontSlant->"Italic"],
 ") and the strike price is ",
 StyleBox["K.",
  FontSlant->"Italic"],
 " If  ",
 StyleBox["S",
  FontSlant->"Italic"],
 "(",
 StyleBox["t",
  FontSlant->"Italic"],
 ") \[LessEqual]  ",
 StyleBox["K",
  FontSlant->"Italic"],
 ", then it does not make economic sense to exercise the option. "
}], "Text",ExpressionUUID->"5c9110b9-23d5-4b80-a290-1c0a917b3bd7"],

Cell[TextData[{
 "Hence, assume that  ",
 StyleBox["S",
  FontSlant->"Italic"],
 "(",
 StyleBox["t",
  FontSlant->"Italic"],
 ") >  ",
 StyleBox["K.",
  FontSlant->"Italic"],
 " If the option is exercised, then payoff received is ",
 StyleBox["S",
  FontSlant->"Italic"],
 "(",
 StyleBox["t",
  FontSlant->"Italic"],
 ") \[Dash]  ",
 StyleBox["K",
  FontSlant->"Italic"],
 ". Consider, however, the alternative strategy: You short the stock at time ",
 StyleBox["t",
  FontSlant->"Italic"],
 " and then at time ",
 StyleBox["T",
  FontSlant->"Italic"],
 " you cover the short by either buying at ",
 StyleBox["S",
  FontSlant->"Italic"],
 "(",
 StyleBox["T",
  FontSlant->"Italic"],
 ") or exercising the option. Thus, the price to cover the short is min[",
 StyleBox["S",
  FontSlant->"Italic"],
 "(",
 StyleBox["T",
  FontSlant->"Italic"],
 "),  ",
 StyleBox["K",
  FontSlant->"Italic"],
 "]. The net proceeds are "
}], "Text",
 CellChangeTimes->{{3.810328540557899*^9, 
  3.810328540948131*^9}},ExpressionUUID->"14c4377a-653b-4579-ace7-\
39578d7cf136"],

Cell[BoxData[
 FormBox[
  RowBox[{" ", 
   RowBox[{
    RowBox[{
     RowBox[{
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{"r", "(", 
        RowBox[{"T", "-", "t"}], ")"}]], 
      RowBox[{"S", "(", "t", ")"}]}], "-", 
     RowBox[{"min", "[", 
      RowBox[{
       RowBox[{"S", "(", "T", ")"}], ",", " ", "K"}], "]"}]}], " ", ">", "  ", 
    RowBox[{
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"r", "(", 
       RowBox[{"T", "-", "t"}], ")"}]], "(", 
     RowBox[{
      RowBox[{"S", "(", "t", ")"}], "-", "K"}], ")"}]}]}], 
  TraditionalForm]], "Equation",
 TextAlignment->Center,ExpressionUUID->"ea1c6ef4-d6ab-4d3a-9fb4-9dd43018d24d"],

Cell[TextData[{
 "Thus, it never makes sense to exercise the call before ",
 StyleBox["T",
  FontSlant->"Italic"],
 " and therefore an American call has the same value as a European call."
}], "Text",
 CellChangeTimes->{{3.810328572992353*^9, 
  3.810328575264008*^9}},ExpressionUUID->"5fb1d7c5-fd15-4bd8-b266-\
a67bb28cef03"]
}, Open  ]],

Cell[CellGroupData[{

Cell["American Puts", "Subsection",
 CellChangeTimes->{{3.809797528776524*^9, 
  3.809797530019991*^9}},ExpressionUUID->"8aa57d35-e681-4765-9aa1-\
47c6ad166c51"],

Cell["For an American put, note that the following must hold", "Text",ExpressionUUID->"de358eb0-4b6f-4beb-95ba-6ef642031e98"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"P", "(", 
    RowBox[{
     RowBox[{"S", "(", "t", ")"}], ",", " ", "t"}], ")"}], "\[GreaterEqual]", 
   
   RowBox[{"max", "[", 
    RowBox[{
     RowBox[{"K", "-", 
      RowBox[{"S", "(", "t", ")"}]}], ",", " ", "0"}], "]"}]}], 
  TraditionalForm]], "Equation",
 TextAlignment->Center,ExpressionUUID->"350a21ff-faf7-43d0-b927-89d36150202b"],

Cell["\<\
Otherwise, it would be possible to purchase the option and make an immediate \
profit by exercising it.\
\>", "Text",ExpressionUUID->"153d693a-9f96-46c2-9f49-563e50c12925"],

Cell["\<\
Returning to the replicating portfolio, for a European option without early \
exercise, we concluded that the replicating portfolio \[CapitalPi] satisfied\
\>", "Text",ExpressionUUID->"d3a2be85-8a4b-47ab-a97d-73dc1ef0e4d2"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"r", " ", 
    RowBox[{"\[CapitalPi]", "(", "t", ")"}], 
    RowBox[{"\[DifferentialD]", "t"}]}], "=", 
   RowBox[{"\[DifferentialD]", 
    RowBox[{"\[CapitalPi]\[Null]", "(", "t", ")"}]}]}], 
  TraditionalForm]], "Equation",
 TextAlignment->Center,ExpressionUUID->"1e5b5a52-d460-40d8-b032-064d4bb5c5d6"],

Cell["Expanding this expression", "Text",ExpressionUUID->"eb1616bb-bcd4-4823-b3af-266747f9e3f9"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"r", " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"F", "(", "t", ")"}], "-", 
      RowBox[{
       FractionBox[
        RowBox[{"\[PartialD]", "F"}], 
        RowBox[{"\[PartialD]", "S"}]], 
       RowBox[{"S", "(", "t", ")"}]}]}], ")"}], 
    RowBox[{"\[DifferentialD]", "t"}]}], "=", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      FractionBox[
       RowBox[{"\[PartialD]", "F"}], 
       RowBox[{"\[PartialD]", "t"}]], "+", 
      RowBox[{
       FractionBox["1", "2"], 
       SuperscriptBox["\[Sigma]", "2"], 
       SuperscriptBox[
        RowBox[{"S", "(", "t", ")"}], "2"], 
       FractionBox[
        RowBox[{
         SuperscriptBox["\[PartialD]", "2"], "F"}], 
        RowBox[{"\[PartialD]", 
         SuperscriptBox["S", "2"]}]]}]}], ")"}], 
    RowBox[{"\[DifferentialD]", "t"}]}]}], TraditionalForm]], "Equation",
 TextAlignment->Center,ExpressionUUID->"a8edfe4f-bb56-488d-9547-e5fad2578f4c"],

Cell["and rearranging terms gives the Black-Scholes PDE", "Text",ExpressionUUID->"d9bb92d9-00b5-432b-9dd6-2affba48f453"],

Cell[BoxData[
 FormBox[
  RowBox[{"0", "=", 
   RowBox[{
    FractionBox[
     RowBox[{"\[PartialD]", "F"}], 
     RowBox[{"\[PartialD]", "t"}]], "+", 
    RowBox[{
     FractionBox["1", "2"], 
     SuperscriptBox["\[Sigma]", "2"], 
     SuperscriptBox[
      RowBox[{"S", "(", "t", ")"}], "2"], 
     FractionBox[
      RowBox[{
       SuperscriptBox["\[PartialD]", "2"], "F"}], 
      RowBox[{"\[PartialD]", 
       SuperscriptBox["S", "2"]}]]}], "+", 
    RowBox[{"r", " ", 
     RowBox[{"S", "(", "t", ")"}], 
     FractionBox[
      RowBox[{"\[PartialD]", "F"}], 
      RowBox[{"\[PartialD]", "S"}]]}], "-", 
    RowBox[{"r", " ", 
     StyleBox[
      RowBox[{"F", "(", "t", ")"}],
      FontSlant->"Italic"]}]}]}], TraditionalForm]], "Equation",
 TextAlignment->Center,ExpressionUUID->"7638f1b8-c088-4b14-86d3-d14d45f43394"],

Cell["With an American option if ", "Text",ExpressionUUID->"1d0e71bf-2be6-4405-97a7-9eb2c8c83a6a"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"r", " ", 
    RowBox[{"\[CapitalPi]", "(", "t", ")"}], 
    RowBox[{"\[DifferentialD]", "t"}]}], ">", 
   RowBox[{"\[DifferentialD]", 
    RowBox[{"\[CapitalPi]\[Null]", "(", "t", ")"}]}]}], 
  TraditionalForm]], "Equation",
 TextAlignment->Center,ExpressionUUID->"34fa6703-2258-4439-ae05-28d655b28f91"],

Cell["\<\
then the investor would sell the option and deposit the cash but is exposed \
to the possibility of early exercise. The no-arbitrage argument still applies.\
\>", "Text",ExpressionUUID->"7be02481-a5d1-4dcb-8163-e70aa5e367d7"],

Cell["If", "Text",
 CellChangeTimes->{{3.809797328089243*^9, 
  3.8097973681024323`*^9}},ExpressionUUID->"2aa8109a-6f5d-42f8-b53b-\
96a56a28c7ba"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"r", " ", 
    RowBox[{"\[CapitalPi]", "(", "t", ")"}], 
    RowBox[{"\[DifferentialD]", "t"}]}], "<", 
   RowBox[{"\[DifferentialD]", 
    RowBox[{"\[CapitalPi]\[Null]", "(", "t", ")"}]}]}], 
  TraditionalForm]], "Equation",
 TextAlignment->Center,ExpressionUUID->"a2c74c38-b59d-4c0f-8843-9e6a8dbc2d9e"],

Cell["\<\
then the investor would buy the option and borrow cash, but because the \
option holder has control over the exercise this possibility is not excluded. \
The no arbitrage argument no longer applies.\
\>", "Text",ExpressionUUID->"8f732913-67eb-4249-90f3-03ce825c388c"],

Cell["Thus, the best no-arbitrage argument we can muster is", "Text",ExpressionUUID->"81819617-d1b1-4104-a7a6-3805e8168fec"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"r", " ", 
    RowBox[{"\[CapitalPi]", "(", "t", ")"}], 
    RowBox[{"\[DifferentialD]", "t"}]}], "\[GreaterEqual]", 
   RowBox[{"\[DifferentialD]", 
    RowBox[{"\[CapitalPi]\[Null]", "(", "t", ")"}]}]}], 
  TraditionalForm]], "Equation",
 TextAlignment->Center,ExpressionUUID->"21e9cc36-b40c-4a0d-adf9-5711b2b4a346"],

Cell["or", "Text",ExpressionUUID->"643c3a2f-dcef-4ea9-a42a-0495b91d7ed8"],

Cell[BoxData[
 FormBox[
  RowBox[{"0", "\[GreaterEqual]", 
   RowBox[{
    RowBox[{"\[DifferentialD]", 
     RowBox[{"\[CapitalPi]\[Null]", "(", "t", ")"}]}], "-", 
    RowBox[{"r", " ", 
     RowBox[{"\[CapitalPi]", "(", "t", ")"}], 
     RowBox[{"\[DifferentialD]", "t"}]}]}]}], TraditionalForm]], "Equation",
 TextAlignment->Center,ExpressionUUID->"8fc350d5-dcf1-4a51-9e77-2e151c4d2c4c"],

Cell["which expands to", "Text",ExpressionUUID->"572083ca-e5fa-4030-959c-fe88c052565a"],

Cell[BoxData[
 FormBox[
  RowBox[{"0", "\[GreaterEqual]", 
   RowBox[{
    FractionBox[
     RowBox[{"\[PartialD]", "P"}], 
     RowBox[{"\[PartialD]", "t"}]], "+", 
    RowBox[{
     FractionBox["1", "2"], 
     SuperscriptBox["\[Sigma]", "2"], 
     SuperscriptBox[
      RowBox[{"S", "(", "t", ")"}], "2"], 
     FractionBox[
      RowBox[{
       SuperscriptBox["\[PartialD]", "2"], "P"}], 
      RowBox[{"\[PartialD]", 
       SuperscriptBox["S", "2"]}]]}], "+", 
    RowBox[{"r", " ", 
     RowBox[{"S", "(", "t", ")"}], 
     FractionBox[
      RowBox[{"\[PartialD]", "P"}], 
      RowBox[{"\[PartialD]", "S"}]]}], "-", 
    RowBox[{"r", " ", 
     StyleBox[
      RowBox[{"P", "(", "t", ")"}],
      FontSlant->"Italic"]}]}]}], TraditionalForm]], "Equation",
 TextAlignment->Center,ExpressionUUID->"0bc8e2ea-61ad-46c4-b766-1cae46bf6280"],

Cell["\<\
At each point, it either makes sense to exercise the option or continue to \
hold the option, and\
\>", "Text",ExpressionUUID->"22056879-d761-46fc-80ab-40c8fa94ad32"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"P", "(", 
       RowBox[{
        RowBox[{"S", "(", "t", ")"}], ",", " ", "t"}], ")"}], "-", 
      RowBox[{"max", "[", 
       RowBox[{
        RowBox[{"K", "-", 
         RowBox[{"S", "(", "t", ")"}]}], ",", " ", "0"}], "]"}]}], "=", "0"}],
     ")"}], "\[Or]", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      FractionBox[
       RowBox[{"\[PartialD]", "P"}], 
       RowBox[{"\[PartialD]", "t"}]], "+", 
      RowBox[{
       FractionBox["1", "2"], 
       SuperscriptBox["\[Sigma]", "2"], 
       SuperscriptBox[
        RowBox[{"S", "(", "t", ")"}], "2"], 
       FractionBox[
        RowBox[{
         SuperscriptBox["\[PartialD]", "2"], "P"}], 
        RowBox[{"\[PartialD]", 
         SuperscriptBox["S", "2"]}]]}], "+", 
      RowBox[{"r", " ", 
       RowBox[{"S", "(", "t", ")"}], 
       FractionBox[
        RowBox[{"\[PartialD]", "P"}], 
        RowBox[{"\[PartialD]", "S"}]]}], "-", 
      RowBox[{"r", " ", 
       StyleBox[
        RowBox[{"P", "(", "t", ")"}],
        FontSlant->"Italic"]}]}], 
     StyleBox["=",
      FontSlant->"Italic"], 
     StyleBox["0",
      FontSlant->"Plain"]}], 
    StyleBox[")",
     FontSlant->"Italic"]}]}], TraditionalForm]], "Equation",
 TextAlignment->Center,ExpressionUUID->"c0caec09-94b7-49de-9c46-bd55bcc51bcc"],

Cell["At expiry we can assert", "Text",ExpressionUUID->"1d926d4c-3fde-4f99-a43d-6ad7b1e9dd7e"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"P", "(", 
    RowBox[{
     RowBox[{"S", "(", "T", ")"}], ",", " ", "T"}], ")"}], "\[GreaterEqual]", 
   
   RowBox[{"max", "[", 
    RowBox[{
     RowBox[{"K", "-", 
      RowBox[{"S", "(", "T", ")"}]}], ",", " ", "0"}], "]"}]}], 
  TraditionalForm]], "Equation",
 TextAlignment->Center,ExpressionUUID->"da84937f-d40c-4fe4-8a1f-31bb3395284b"],

Cell["and we also observe the following limits", "Text",ExpressionUUID->"473110fd-f949-4e05-a482-8ef04a83638a"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{
    RowBox[{
     UnderscriptBox["lim", 
      RowBox[{"S", "\[Rule]", "0"}]], 
     RowBox[{"P", "(", 
      RowBox[{
       RowBox[{"S", "(", "t", ")"}], ",", "t"}], ")"}]}], "=", "K"}], ",", 
   " ", 
   RowBox[{"0", "\[LessEqual]", "t", "\[LessEqual]", "T"}]}], 
  TraditionalForm]], "Equation",
 TextAlignment->Center,ExpressionUUID->"b64f907b-ea74-4350-acb8-c98e29c0cc94"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{
    RowBox[{
     UnderscriptBox["lim", 
      RowBox[{"S", "\[Rule]", "\[Infinity]"}]], 
     RowBox[{"P", "(", 
      RowBox[{
       RowBox[{"S", "(", "t", ")"}], ",", "t"}], ")"}]}], "=", "0"}], ",", 
   " ", 
   RowBox[{"0", "\[LessEqual]", "t", "\[LessEqual]", "T"}]}], 
  TraditionalForm]], "Equation",
 TextAlignment->Center,ExpressionUUID->"92967463-c48e-4708-95a4-58beacc7e62e"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Risk Neutral Pricing", "Subsection",ExpressionUUID->"0e1d09dc-5185-42b7-b9b6-84579c7ecf76"],

Cell[TextData[{
 "Under the risk neutral measure \[DoubleStruckCapitalQ] (for a non-dividend \
paying asset this mean \[Mu] \[Rule] ",
 StyleBox["r",
  FontSlant->"Italic"],
 "), we have"
}], "Text",ExpressionUUID->"a91d0c69-ad13-4214-a487-16d7858f2c6b"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"P", "(", 
    RowBox[{
     RowBox[{"S", "(", "0", ")"}], ",", " ", "0"}], ")"}], "=", 
   RowBox[{
    UnderscriptBox["max", 
     RowBox[{"0", "\[LessEqual]", "t", "\[LessEqual]", "T"}]], 
    RowBox[{
     SuperscriptBox[
      StyleBox["E",
       FontSlant->"Plain"], "\[DoubleStruckCapitalQ]"], "[", 
     FormBox[
      RowBox[{
       SuperscriptBox["\[ExponentialE]", 
        RowBox[{
         RowBox[{"-", "r"}], " ", "t"}]], 
       RowBox[{"max", "[", 
        RowBox[{"K", "-", 
         RowBox[{"S", "(", "t", ")"}]}], "]"}]}],
      TraditionalForm], "]"}]}]}], TraditionalForm]], "Equation",
 TextAlignment->Center,ExpressionUUID->"f9c77512-9624-46b8-9c8d-051f77e19be4"],

Cell[TextData[{
 "We must seek the maximum over ",
 Cell[BoxData[
  FormBox[
   RowBox[{"0", "\[LessEqual]", "t", "\[LessEqual]", "T"}], TraditionalForm]],
  ExpressionUUID->"b8d2b8ce-dac7-4ae5-bf27-0c9730616900"],
 " and not just at ",
 StyleBox["T",
  FontSlant->"Italic"],
 "."
}], "Text",
 CellChangeTimes->{{3.809797420907958*^9, 
  3.809797447675205*^9}},ExpressionUUID->"09739bdf-9a9f-476e-908a-\
5249d9a85a9f"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Pricing American Options", "Section",
 CellChangeTimes->{{3.809797546004471*^9, 3.8097975530032988`*^9}, 
   3.812810088770402*^9},ExpressionUUID->"c3d98c95-0547-49b0-aeca-\
01fc8ed4e2ff"],

Cell[TextData[{
 StyleBox["One of the more common techniques for pricing an American option \
is to apply dynamic programming to a binomial geometric lattice.\n\n",
  FontSize->16,
  FontWeight->"Bold"],
 StyleBox[ButtonBox["https://en.wikipedia.org/wiki/Dynamic_programming",
  BaseStyle->"Hyperlink",
  ButtonData->{
    URL["https://en.wikipedia.org/wiki/Dynamic_programming"], None},
  ButtonNote->"https://en.wikipedia.org/wiki/Dynamic_programming"],
  FontSize->16,
  FontWeight->"Bold"]
}], "Text",
 CellFrame->{{0.5, 3}, {3, 0.5}},
 CellChangeTimes->{{3.442072007274006*^9, 3.442072016283307*^9}, {
   3.442072098555147*^9, 3.442072174903337*^9}, {3.58544704831881*^9, 
   3.585447052046453*^9}, {3.585447095819232*^9, 3.585447287988796*^9}, {
   3.585447795143066*^9, 3.585447801476882*^9}, {3.5854478895062428`*^9, 
   3.585447923558113*^9}, {3.585541155313848*^9, 3.58554115952927*^9}, {
   3.586406524515649*^9, 3.586406652295424*^9}, {3.586742747998147*^9, 
   3.5867427541645603`*^9}, 3.586888183963241*^9, {3.58689222303231*^9, 
   3.586892256481545*^9}, {3.5868923250794487`*^9, 3.586892411685691*^9}, {
   3.586892454159996*^9, 3.5868925031352177`*^9}, {3.586892561806775*^9, 
   3.5868926510935717`*^9}, {3.586892686300946*^9, 3.586892690572413*^9}, {
   3.588565516581194*^9, 3.588565617620084*^9}, {3.588565648968614*^9, 
   3.5885657157309847`*^9}, {3.588567473320284*^9, 3.588567608363929*^9}, {
   3.588567722641568*^9, 3.5885677595101347`*^9}, {3.588610716256412*^9, 
   3.588610752903265*^9}, {3.602102717229422*^9, 3.602102774570615*^9}, {
   3.8097968088551493`*^9, 3.8097968874343357`*^9}, {3.809796939071082*^9, 
   3.809796943985758*^9}, {3.8097970540554047`*^9, 3.8097971516948357`*^9}, {
   3.812753151650428*^9, 3.812753187544962*^9}, {3.8127536080729513`*^9, 
   3.812753656668454*^9}, {3.812819532885243*^9, 3.8128195343871403`*^9}},
 TextAlignment->Center,
 TextJustification->0.,
 Background->RGBColor[
  1, 0.85, 0.85],ExpressionUUID->"6e2c41bc-96f9-4ed7-a4d2-4329913f0163"],

Cell[CellGroupData[{

Cell["Overview", "Subsection",
 CellChangeTimes->{{3.812753732518548*^9, 
  3.8127537348054733`*^9}},ExpressionUUID->"d666a9e0-d89b-4eee-8f24-\
7a0578100f83"],

Cell["\<\
Each step of the geometric binomial lattice has the following price dynamics \
under the risk neutral measure.\
\>", "Text",ExpressionUUID->"6cc47636-0b02-474e-b5c6-8461d74ed557"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"S", "(", "t", ")"}], " ", "=", " ", 
   RowBox[{
    SuperscriptBox["\[ExponentialE]", 
     RowBox[{
      RowBox[{"-", "r"}], " ", 
      StyleBox["\[CapitalDelta]",
       FontSlant->"Plain"], " "}]], 
    SuperscriptBox[
     RowBox[{"(", 
      FractionBox["q", 
       RowBox[{"1", "-", "q"}],
       FractionLine->None], ")"}], "T"], 
    RowBox[{"(", 
     FractionBox[
      RowBox[{"u", " ", 
       RowBox[{"S", "(", "t", ")"}]}], 
      RowBox[{
       RowBox[{"S", "(", "t", ")"}], " ", "/", " ", "u"}],
      FractionLine->None], ")"}]}]}], TraditionalForm]], "Equation",
 TextAlignment->Center,ExpressionUUID->"62b94482-4567-49ac-9e7f-15db0c9013d0"],

Cell["\<\
For a put option, the same risk neutral measure can be applied at each step \
to value the option. This is done recursively working backwards in time by \
starting with the leaves of the lattice where we know the value of the option.\
\>", "Text",ExpressionUUID->"e0f7c4d2-5b95-4ed3-b083-2ef2c22bc6b3"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"P", "(", "t", ")"}], " ", "=", " ", 
   RowBox[{
    SuperscriptBox["\[ExponentialE]", 
     RowBox[{
      RowBox[{"-", "r"}], " ", 
      StyleBox["\[CapitalDelta]",
       FontSlant->"Plain"], " "}]], 
    SuperscriptBox[
     RowBox[{"(", 
      FractionBox["q", 
       RowBox[{"1", "-", "q"}],
       FractionLine->None], ")"}], "T"], 
    RowBox[{"(", 
     FractionBox[
      RowBox[{
       SubscriptBox["P", "u"], "(", 
       RowBox[{"t", "+", "\[CapitalDelta]"}], ")"}], 
      RowBox[{
       SubscriptBox["P", "d"], "(", 
       RowBox[{"t", "+", "\[CapitalDelta]"}], ")"}],
      FractionLine->None], ")"}]}]}], TraditionalForm]], "Equation",
 TextAlignment->Center,ExpressionUUID->"10d03e4a-bfc4-4340-b08d-22f16c79f309"],

Cell["\<\
With an American put we have the issue of early exercise by the holder of the \
put. A rational investor would seek to maximize his or her economic benefit, \
but there is a subtle problem: If the holder wishes to make reasonable a \
decision today to exercise the put, then that holder has to not only consider \
the immediate benefit from the exercise but the fact that he or she is giving \
up any expected economic benefit that may have accrued from exercising at a \
future date.\
\>", "Text",
 CellChangeTimes->{
  3.809727562142152*^9},ExpressionUUID->"67f4b736-21af-4cd8-8972-\
71972bfc975e"],

Cell[TextData[{
 "Consider a single binomial step at ",
 StyleBox["t",
  FontSlant->"Italic"],
 " and assume that the prices ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["P", "u"], "(", 
    RowBox[{"t", "+", "\[CapitalDelta]"}], ")"}], TraditionalForm]],
  ExpressionUUID->"6a168b2b-a43c-4dc1-913e-fa0aa3acf459"],
 " and ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["P", "d"], "(", 
    RowBox[{"t", "+", "\[CapitalDelta]"}], ")"}], TraditionalForm]],
  ExpressionUUID->"753b1efb-affe-4e44-a1f8-b886208e177c"],
 " ",
 StyleBox["already include the economic benefit from a potential future \
exercise",
  FontSlant->"Italic"],
 ". Then the appropriate value for ",
 StyleBox["P",
  FontSlant->"Italic"],
 "(",
 StyleBox["t",
  FontSlant->"Italic"],
 ") is "
}], "Text",ExpressionUUID->"2ab06dac-dd4b-4751-9042-5897b0c57f04"],

Cell[BoxData[
 FormBox[
  RowBox[{
   RowBox[{"P", "(", "t", ")"}], " ", "=", 
   RowBox[{"max", "[", 
    RowBox[{
     RowBox[{"max", "[", 
      RowBox[{
       RowBox[{"K", "-", 
        RowBox[{"S", "(", "t", ")"}]}], ",", "0"}], "]"}], ",", " ", 
     RowBox[{
      SuperscriptBox["\[ExponentialE]", 
       RowBox[{
        RowBox[{"-", "r"}], " ", 
        StyleBox["\[CapitalDelta]",
         FontSlant->"Plain"], " "}]], 
      SuperscriptBox[
       RowBox[{"(", 
        FractionBox["q", 
         RowBox[{"1", "-", "q"}],
         FractionLine->None], ")"}], "T"], 
      RowBox[{"(", 
       FractionBox[
        RowBox[{
         SubscriptBox["P", "u"], "(", 
         RowBox[{"t", "+", "\[CapitalDelta]"}], ")"}], 
        RowBox[{
         SubscriptBox["P", "d"], "(", 
         RowBox[{"t", "+", "\[CapitalDelta]"}], ")"}],
        FractionLine->None], ")"}]}]}], "]"}]}], TraditionalForm]], "Equation",\

 TextAlignment->Center,ExpressionUUID->"f7514a25-4db1-4b1c-89d2-a73bc527cd74"],

Cell["\<\
In other words, if the current value of exercising the put right now is \
greater than the discounted future expected value under the risk neutral \
measure of holding the option, then the holder exercises; otherwise, the \
holder simply maintains his or her position. Thus, this recursion tells the \
owner of the option when to \[OpenCurlyDoubleQuote]fold\
\[CloseCurlyDoubleQuote] or to \[OpenCurlyDoubleQuote]hold\".\
\>", "Text",
 CellChangeTimes->{
  3.8097276078571053`*^9, {3.809796760891994*^9, 3.809796761514112*^9}, {
   3.812810351102038*^9, 
   3.812810351781293*^9}},ExpressionUUID->"ddf261b6-5178-4af2-bd92-\
286f49217cac"],

Cell["The recursion above is an example of dynamic programming.", "Text",ExpressionUUID->"39089914-692a-4e14-9604-09e6bfe42d3e"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Examples", "Subsection",
 CellChangeTimes->{
  3.8128201300481586`*^9},ExpressionUUID->"a71dc087-60d7-4569-88a2-\
b6bb8943d0ec"],

Cell[TextData[{
 "Consider a put with \[Sigma] = 0.25, ",
 StyleBox["K",
  FontSlant->"Italic"],
 " = 55, ",
 StyleBox["T ",
  FontSlant->"Italic"],
 "= 0.5, ",
 StyleBox["r",
  FontSlant->"Italic"],
 " = 0.04."
}], "Text",
 CellChangeTimes->{
  3.812820068501595*^9},ExpressionUUID->"af55710d-6e4e-4d2a-93ad-\
e03350d1797c"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Plot", "[", 
  RowBox[{
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"FinancialDerivative", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"\"\<European\>\"", ",", "\"\<Put\>\""}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<StrikePrice\>\"", "\[Rule]", "55.00"}], ",", 
         RowBox[{"\"\<Expiration\>\"", "\[Rule]", "0.5"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<InterestRate\>\"", "\[Rule]", "0.04"}], ",", 
         RowBox[{"\"\<Volatility\>\"", "\[Rule]", "0.25"}], ",", 
         RowBox[{"\"\<CurrentPrice\>\"", "\[Rule]", "p"}]}], "}"}]}], "]"}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{"FinancialDerivative", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"\"\<American\>\"", ",", "\"\<Put\>\""}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<StrikePrice\>\"", "\[Rule]", "55.00"}], ",", 
         RowBox[{"\"\<Expiration\>\"", "\[Rule]", "0.5"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<InterestRate\>\"", "\[Rule]", "0.04"}], ",", 
         RowBox[{"\"\<Volatility\>\"", "\[Rule]", "0.25"}], ",", 
         RowBox[{"\"\<CurrentPrice\>\"", "\[Rule]", "p"}]}], "}"}]}], "]"}]}],
     "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{"p", ",", "30", ",", "70"}], "}"}], ",", "\[IndentingNewLine]", 
   RowBox[{"PlotStyle", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", "Black", "}"}], ",", 
      RowBox[{"{", "Red", "}"}]}], "}"}]}], ",", "\[IndentingNewLine]", 
   RowBox[{"PlotLegends", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<European\>\"", ",", "\"\<American\>\""}], "}"}]}]}], 
  "\[IndentingNewLine]", "]"}]], "Input",
 CellChangeTimes->{{3.812819562452898*^9, 3.8128198889028273`*^9}, {
  3.8128199254269657`*^9, 3.8128199753970623`*^9}},
 CellLabel->"In[91]:=",ExpressionUUID->"6f5359b4-073b-4d35-ac9f-501e008ec52a"],

Cell[BoxData[
 TemplateBox[{
   GraphicsBox[{{{{}, {}, 
       TagBox[{
         Directive[
          Opacity[1.], 
          AbsoluteThickness[1.6], 
          GrayLevel[0]], 
         LineBox[CompressedData["
1:eJwVjntUkncYx8kZaXOFJmY1F2iW1DK8Uk7f32OiIATy1pypa5uGedQir5W3
NCOz0qVlXlNPzdJsFJKVkS6T1sXLCSvQygLT0G5anm06Rdu7P57znM95Pt/v
eeiRuzdHmZBIJAEx/++DtoqvSCQMhtmztNg3LFgqfTN/xRcYxF821AYYWKAY
o5lxyRh4r3nOcBhkgf7ucZNCCwzmjY559vezAEvZNbF8CQYJ4tltQjULJnuc
BpArBpGqHQOu11mw81hNU5YYgzb1rU6jlAXBs/nhn+9j8MRedbGYxoLpiuZu
w1kE7duDwycDPGFiUdUDZxbAnSlr0ni6B4RUuwrfVQBQrnEc6FfdgS79OLRs
ni+wd8Hvj164gWVkqKP1Tl/Ipp8JCaO6QVzl273ZT31BSf5+fqe3K8jKRO8/
sDeCmvfQzy7GBai/Rsx3uLARJBUiRmstE4ZfVnh1Uf1AffxtbdHZdaBblWXt
k+4H0lB/S89lzvCH+3rK5Zd+YJt+wTy15luYV7Xkm1M8NnTZkAcvma2BPTPn
NBsvs4Hy55aE/hMMEN0IqxF/7Q8tPz/dNWLqBJYbho4ePuwPQ4Lw6fLclTAp
t6UlvvOHH8cPFCWtdoRAaco9dUgA7NszsN2odIC2oEzbiZYAGJFZHBRL7OHM
Hll60WoOTIq9d2NWdIiNUJDWlnBA9I+HGj+5HELZkesKpzign3iQ6sKxA0WO
V3x0NBfqR4c7/n69FFxutIaRu7lA81InNN+3hdIr1OjzzEDIP2WXVKy2gWjz
kkPK0wTjjXdbOq1hW8htQckcHlgvbFRq5i6CVhLVySDhgTrLUf5wvSXMlfis
YD3jQWGzfipi5UJIekzpCML4IK8JvxjAswB+sUVOfwMf4sfLAn1jzSFQcGWQ
SdkE8arARaNjZHDucI7OTdoETPac562NppB59pExSLcJ5MNmqCfFBMYT6d4D
fgKQCy/ceV9Agp7qsgKDXACiDh/mT1tnkLZdmXfFRgjy4CadvdMUUjU0njuQ
JgT9NWPWenwCLR1VP1EZhEDZ0dXMO/IXKmVUyrr5QSDymBNa4jaO9rcVlPFv
BIF8cV3D2IsxdL6gYXOUlQgKO5wdjxreIdr1QVkeWwQUklC+tnwEBS1wsTKk
iSBv+OLIzZjXqGhgC79OJoLsgib3nruv0D2bCGqMjsgfklYdStMjRWrOiJiK
AyVOYqPL70fyramFdzg4ZFtVTx/+0Ic8bjP2n+PiALWPT4S97ENKxrO43EAc
mMnJ5R4P+5BqyovD5ePwS3n7kGljH9KeNs50CnGQ0yUmZil9yKjPinscjIP+
N4Xm9Gwv4sbkBrzajgMt9erc14t7UXePp7tKTPT3m3a1mveizV7D9NooHNpK
n+VUT2tR+JfcmahoIv9DlWKvToskMvOmN7FEv5PkUl6dFhV/yqd/SiB8a/FN
+gYtWhLms/BRIuEzilr2rtGi6vYPRkUSDurJ6XiNnRbVnRT2JafgUCiLHaoz
0SKlB+X45D4iX78sv75Lg7DqtoynqQS3V7Z+d0uDVOSEWGUa8W8iJtU2alBX
b49/RgYO8eR/b9uXahAOOW7bMgmfWeny5IgGaetd6dh+4p6ZvKogQ4PCLAcX
LM/CgVTRXSPYrUG61JPGzwSraz6WUCM16D9V2jdv
          "]]}, 
        Annotation[#, "Charting`Private`Tag$36097#1"]& ], 
       TagBox[{
         Directive[
          Opacity[1.], 
          AbsoluteThickness[1.6], 
          RGBColor[1, 0, 0]], 
         LineBox[CompressedData["
1:eJwVk3tUzHkAxWdDL6FJQw+HZrWSR5pMzLSZ7+2lmaZp5pftRJ1akzKI0Kj0
VlJYlO0hSeHIo92hBidaOaV2S6rVY6YHeuhhkyK7q2ho2z/uuedz//j8d5lB
+71DtGg0mmgm//dRE+U8Go2HJP3WKMY0B2Ypw/qWs3iIr5u1/f0UB8p3Frp8
bR50f9DxeDrJQe8f6VoZBjxk7stfnvSBA17Evollpjx0d2ePvh3kYLJ5ZR+x
4yE9ILGvpoGDvT8V3k0M5oE/+CksMo8Dn6+n/KfreBgc/derz56Dqbz7jUNX
CO5Zqbmf/TdiYuHFJzYbgawMx/zmjA3wLbDzGskDqGqN2+x6ezBT3g+Y6zjh
+eFAx9YPbNCDtn1nvNcJeWVKXdYqNkIvvIk60ukE/0P3i3Ml66HIlbwddXXG
76nDitAYOzDOSPWX33TGVE9pV1MpC6+78xwaGC641BYg/6q2RY9VovGmWBdU
MEaka/Vs8YjNMbzd7YKqglTlSKwNdC6aLs32cMWUprZgvGoNIr8UqZxvu6JL
q2DuEqvVkDzwKwxe4oaPf/p/KwqzBp07cDItzQ37zdfUTdRYYbLExCJ8xA09
Isdd4U4rIEiJqH3muxnCqz3k5U1LVIrjTSYeboZUrJlc//1yXI5UxJ5d5Y4D
DQGstAom9kiVtLU57jgiES828bXANtegdRmf3REjrgncvm4plMkOB2QyPhZa
cjwD883BelDhp93Ix7GmRuNYH1Ocu8OQXbMV4OHqnBZb7mLI9HKOlecLEBJ9
wdjSiIEA3ypRzjceiOLpGO+1XYgKGmPlUJgHuKGnnPkCOuaEbbLc2OWBbu6V
2U3mCyBvNawX84Ror3zizVhqAGGWQfKLYiHErAlHBVMPAtGdfltDTxys1ZTM
ytaGTb2NLFXuieKgH3vbhLMRf6VFI+7xxG/7LWol+lr4EM507HMRQSpJyRpj
0tBckHt6qEQEVqzO1tVpGqJ+XH78ziIvVNj3Fv0c9IlUF5cWJcV4gVX4qdAm
7yMxG3vWVj3khacVnFs3+/8m56wvKBqFYlidGathF46ThMrTucIHYuy0Zs/b
8WKMXDtd7B1iJME/di1vig1GiEVZv+K4qwQnV7FHZQOviXg+y2goRgJlUJLg
8fMBcrZvi/C6QoKXDhWy9m2vSO0iKWN3jwS/2JaVRlj3EmV08l/BDArSlHc1
R5a9ICVbozNq3CkcD6zSxa8dxL7KOqGIT8Hg9gGfposdpNy6KzRVQGHy0pza
4PQOUv3ZwZ0vpDBuH69XHN5B1PmaL0+9KHg+eluYze0gmt7E0FYfClwzs3uj
de2Evzt186sdFM6fMM5MHVWTxuYN7OpgCmauobpGvWri7fCaeTWEwjydM1ZF
LWriP5f/JURGwVHetuVVmZqEKfTuDu+hkJVwa7IsWU2yxk8xxw9SqLcbYDSa
qomp36YFLeEUuiP9/ZoN1KTg8ahGKacw/JE+9+W0ilzP9Oo4FEGhM6rzsv6Q
ipTbG6ZPHqbwddES7iOlivAKKuM6oynMV6nlM1ch1doH95THzPh36WtczqtI
Q3uzW1wcheDuw4NDiSpCIXl9QDyFqyu0iItcRdQ37Ji8hJmVfll9baeK+NH7
5y9LpODSEneD7qciPdGZmukZnpP/sOSoSEX+AwBmMs8=
          "]]}, 
        Annotation[#, "Charting`Private`Tag$36097#2"]& ]}}, {}}, {
    DisplayFunction -> Identity, Ticks -> {Automatic, Automatic}, 
     AxesOrigin -> {30., 0}, 
     FrameTicks -> {{Automatic, Automatic}, {Automatic, Automatic}}, 
     GridLines -> {None, None}, DisplayFunction -> Identity, 
     PlotRangePadding -> {{
        Scaled[0.02], 
        Scaled[0.02]}, {
        Scaled[0.05], 
        Scaled[0.05]}}, PlotRangeClipping -> True, ImagePadding -> All, 
     DisplayFunction -> Identity, AspectRatio -> 
     NCache[GoldenRatio^(-1), 0.6180339887498948], Axes -> {True, True}, 
     AxesLabel -> {None, None}, AxesOrigin -> {30., 0}, DisplayFunction :> 
     Identity, Frame -> {{False, False}, {False, False}}, 
     FrameLabel -> {{None, None}, {None, None}}, 
     FrameTicks -> {{Automatic, Automatic}, {Automatic, Automatic}}, 
     GridLines -> {None, None}, GridLinesStyle -> Directive[
       GrayLevel[0.5, 0.4]], 
     Method -> {
      "DefaultBoundaryStyle" -> Automatic, 
       "DefaultGraphicsInteraction" -> {
        "Version" -> 1.2, "TrackMousePosition" -> {True, False}, 
         "Effects" -> {
          "Highlight" -> {"ratio" -> 2}, "HighlightPoint" -> {"ratio" -> 2}, 
           "Droplines" -> {
            "freeformCursorMode" -> True, 
             "placement" -> {"x" -> "All", "y" -> "None"}}}}, 
       "DefaultMeshStyle" -> AbsolutePointSize[6], "ScalingFunctions" -> None,
        "CoordinatesToolOptions" -> {"DisplayFunction" -> ({
           (Identity[#]& )[
            Part[#, 1]], 
           (Identity[#]& )[
            Part[#, 2]]}& ), "CopiedValueFunction" -> ({
           (Identity[#]& )[
            Part[#, 1]], 
           (Identity[#]& )[
            Part[#, 2]]}& )}}, 
     PlotRange -> {{30, 70}, {0., 24.99642132665986}}, PlotRangeClipping -> 
     True, PlotRangePadding -> {{
        Scaled[0.02], 
        Scaled[0.02]}, {
        Scaled[0.02], 
        Scaled[0.02]}}, Ticks -> {Automatic, Automatic}}], 
   FormBox[
    FormBox[
     TemplateBox[{"\"European\"", "\"American\""}, "LineLegend", 
      DisplayFunction -> (FormBox[
        StyleBox[
         StyleBox[
          PaneBox[
           TagBox[
            GridBox[{{
               TagBox[
                GridBox[{{
                   GraphicsBox[{{
                    Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    Opacity[1.], 
                    AbsoluteThickness[1.6], 
                    GrayLevel[0]], {
                    LineBox[{{0, 10}, {20, 10}}]}}, {
                    Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    Opacity[1.], 
                    AbsoluteThickness[1.6], 
                    GrayLevel[0]], {}}}, AspectRatio -> Full, 
                    ImageSize -> {20, 10}, PlotRangePadding -> None, 
                    ImagePadding -> Automatic, 
                    BaselinePosition -> (Scaled[0.1] -> Baseline)], #}, {
                   GraphicsBox[{{
                    Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    Opacity[1.], 
                    AbsoluteThickness[1.6], 
                    RGBColor[1, 0, 0]], {
                    LineBox[{{0, 10}, {20, 10}}]}}, {
                    Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    Opacity[1.], 
                    AbsoluteThickness[1.6], 
                    RGBColor[1, 0, 0]], {}}}, AspectRatio -> Full, 
                    ImageSize -> {20, 10}, PlotRangePadding -> None, 
                    ImagePadding -> Automatic, 
                    BaselinePosition -> (Scaled[0.1] -> Baseline)], #2}}, 
                 GridBoxAlignment -> {
                  "Columns" -> {Center, Left}, "Rows" -> {{Baseline}}}, 
                 AutoDelete -> False, 
                 GridBoxDividers -> {
                  "Columns" -> {{False}}, "Rows" -> {{False}}}, 
                 GridBoxItemSize -> {"Columns" -> {{All}}, "Rows" -> {{All}}},
                  GridBoxSpacings -> {
                  "Columns" -> {{0.5}}, "Rows" -> {{0.8}}}], "Grid"]}}, 
             GridBoxAlignment -> {"Columns" -> {{Left}}, "Rows" -> {{Top}}}, 
             AutoDelete -> False, 
             GridBoxItemSize -> {
              "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
             GridBoxSpacings -> {"Columns" -> {{1}}, "Rows" -> {{0}}}], 
            "Grid"], Alignment -> Left, AppearanceElements -> None, 
           ImageMargins -> {{5, 5}, {5, 5}}, ImageSizeAction -> 
           "ResizeToFit"], LineIndent -> 0, StripOnInput -> False], {
         FontFamily -> "Arial"}, Background -> Automatic, StripOnInput -> 
         False], TraditionalForm]& ), 
      InterpretationFunction :> (RowBox[{"LineLegend", "[", 
         RowBox[{
           RowBox[{"{", 
             RowBox[{
               RowBox[{"Directive", "[", 
                 RowBox[{
                   RowBox[{"Opacity", "[", "1.`", "]"}], ",", 
                   RowBox[{"AbsoluteThickness", "[", "1.6`", "]"}], ",", 
                   InterpretationBox[
                    ButtonBox[
                    TooltipBox[
                    GraphicsBox[{{
                    GrayLevel[0], 
                    RectangleBox[{0, 0}]}, {
                    GrayLevel[0], 
                    RectangleBox[{1, -1}]}, {
                    GrayLevel[0], 
                    RectangleBox[{0, -1}, {2, 1}]}}, DefaultBaseStyle -> 
                    "ColorSwatchGraphics", AspectRatio -> 1, Frame -> True, 
                    FrameStyle -> GrayLevel[0.], FrameTicks -> None, 
                    PlotRangePadding -> None, ImageSize -> 
                    Dynamic[{
                    Automatic, 1.35 CurrentValue["FontCapHeight"]/
                    AbsoluteCurrentValue[Magnification]}]], 
                    StyleBox[
                    RowBox[{"GrayLevel", "[", "0", "]"}], NumberMarks -> 
                    False]], Appearance -> None, BaseStyle -> {}, 
                    BaselinePosition -> Baseline, DefaultBaseStyle -> {}, 
                    ButtonFunction :> With[{Typeset`box$ = EvaluationBox[]}, 
                    If[
                    Not[
                    AbsoluteCurrentValue["Deployed"]], 
                    SelectionMove[Typeset`box$, All, Expression]; 
                    FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
                    FrontEnd`Private`$ColorSelectorInitialColor = 
                    GrayLevel[0]; 
                    FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
                    MathLink`CallFrontEnd[
                    FrontEnd`AttachCell[Typeset`box$, 
                    FrontEndResource["GrayLevelColorValueSelector"], {
                    0, {Left, Bottom}}, {Left, Top}, 
                    "ClosingActions" -> {
                    "SelectionDeparture", "ParentChanged", 
                    "EvaluatorQuit"}]]]], BaseStyle -> Inherited, Evaluator -> 
                    Automatic, Method -> "Preemptive"], 
                    GrayLevel[0], Editable -> False, Selectable -> False]}], 
                 "]"}], ",", 
               RowBox[{"Directive", "[", 
                 RowBox[{
                   RowBox[{"Opacity", "[", "1.`", "]"}], ",", 
                   RowBox[{"AbsoluteThickness", "[", "1.6`", "]"}], ",", 
                   InterpretationBox[
                    ButtonBox[
                    TooltipBox[
                    GraphicsBox[{{
                    GrayLevel[0], 
                    RectangleBox[{0, 0}]}, {
                    GrayLevel[0], 
                    RectangleBox[{1, -1}]}, {
                    RGBColor[1, 0, 0], 
                    RectangleBox[{0, -1}, {2, 1}]}}, DefaultBaseStyle -> 
                    "ColorSwatchGraphics", AspectRatio -> 1, Frame -> True, 
                    FrameStyle -> RGBColor[0.6666666666666666, 0., 0.], 
                    FrameTicks -> None, PlotRangePadding -> None, ImageSize -> 
                    Dynamic[{
                    Automatic, 1.35 CurrentValue["FontCapHeight"]/
                    AbsoluteCurrentValue[Magnification]}]], 
                    StyleBox[
                    RowBox[{"RGBColor", "[", 
                    RowBox[{"1", ",", "0", ",", "0"}], "]"}], NumberMarks -> 
                    False]], Appearance -> None, BaseStyle -> {}, 
                    BaselinePosition -> Baseline, DefaultBaseStyle -> {}, 
                    ButtonFunction :> With[{Typeset`box$ = EvaluationBox[]}, 
                    If[
                    Not[
                    AbsoluteCurrentValue["Deployed"]], 
                    SelectionMove[Typeset`box$, All, Expression]; 
                    FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
                    FrontEnd`Private`$ColorSelectorInitialColor = 
                    RGBColor[1, 0, 0]; 
                    FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
                    MathLink`CallFrontEnd[
                    FrontEnd`AttachCell[Typeset`box$, 
                    FrontEndResource["RGBColorValueSelector"], {
                    0, {Left, Bottom}}, {Left, Top}, 
                    "ClosingActions" -> {
                    "SelectionDeparture", "ParentChanged", 
                    "EvaluatorQuit"}]]]], BaseStyle -> Inherited, Evaluator -> 
                    Automatic, Method -> "Preemptive"], 
                    RGBColor[1, 0, 0], Editable -> False, Selectable -> 
                    False]}], "]"}]}], "}"}], ",", 
           RowBox[{"{", 
             RowBox[{#, ",", #2}], "}"}], ",", 
           RowBox[{"LegendMarkers", "\[Rule]", "None"}], ",", 
           RowBox[{"LabelStyle", "\[Rule]", 
             RowBox[{"{", "}"}]}], ",", 
           RowBox[{"LegendLayout", "\[Rule]", "\"Column\""}]}], "]"}]& ), 
      Editable -> True], TraditionalForm], TraditionalForm]},
  "Legended",
  DisplayFunction->(GridBox[{{
      TagBox[
       ItemBox[
        PaneBox[
         TagBox[#, "SkipImageSizeLevel"], Alignment -> {Center, Baseline}, 
         BaselinePosition -> Baseline], DefaultBaseStyle -> "Labeled"], 
       "SkipImageSizeLevel"], 
      ItemBox[#2, DefaultBaseStyle -> "LabeledLabel"]}}, 
    GridBoxAlignment -> {"Columns" -> {{Center}}, "Rows" -> {{Center}}}, 
    AutoDelete -> False, GridBoxItemSize -> Automatic, 
    BaselinePosition -> {1, 1}]& ),
  Editable->True,
  InterpretationFunction->(RowBox[{"Legended", "[", 
     RowBox[{#, ",", 
       RowBox[{"Placed", "[", 
         RowBox[{#2, ",", "After"}], "]"}]}], "]"}]& )]], "Output",
 CellChangeTimes->{{3.812819902375016*^9, 3.81281994497416*^9}, 
   3.8128199766301394`*^9, 3.817209190937928*^9},
 CellLabel->"Out[91]=",ExpressionUUID->"002c0e50-651d-4bc0-81cc-1899a2ac36fe"]
}, Open  ]],

Cell[TextData[{
 "Next consider a put with ",
 StyleBox["T ",
  FontSlant->"Italic"],
 "= 3."
}], "Text",
 CellChangeTimes->{{3.812820040203864*^9, 
  3.812820044608102*^9}},ExpressionUUID->"3f5e1e57-4c74-406c-8168-\
b14bb9fa31f2"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Plot", "[", 
  RowBox[{
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"FinancialDerivative", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"\"\<European\>\"", ",", "\"\<Put\>\""}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<StrikePrice\>\"", "\[Rule]", "55.00"}], ",", 
         RowBox[{"\"\<Expiration\>\"", "\[Rule]", "3."}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<InterestRate\>\"", "\[Rule]", "0.04"}], ",", 
         RowBox[{"\"\<Volatility\>\"", "\[Rule]", "0.25"}], ",", 
         RowBox[{"\"\<CurrentPrice\>\"", "\[Rule]", "p"}]}], "}"}]}], "]"}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{"FinancialDerivative", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"\"\<American\>\"", ",", "\"\<Put\>\""}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<StrikePrice\>\"", "\[Rule]", "55.00"}], ",", 
         RowBox[{"\"\<Expiration\>\"", "\[Rule]", "3."}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<InterestRate\>\"", "\[Rule]", "0.04"}], ",", 
         RowBox[{"\"\<Volatility\>\"", "\[Rule]", "0.25"}], ",", 
         RowBox[{"\"\<CurrentPrice\>\"", "\[Rule]", "p"}]}], "}"}]}], "]"}]}],
     "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{"p", ",", "30", ",", "70"}], "}"}], ",", "\[IndentingNewLine]", 
   RowBox[{"PlotStyle", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", "Black", "}"}], ",", 
      RowBox[{"{", "Red", "}"}]}], "}"}]}], ",", "\[IndentingNewLine]", 
   RowBox[{"PlotLegends", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<European\>\"", ",", "\"\<American\>\""}], "}"}]}]}], 
  "\[IndentingNewLine]", "]"}]], "Input",
 CellChangeTimes->{{3.812819562452898*^9, 3.8128198889028273`*^9}, {
  3.8128199254269657`*^9, 3.8128199753970623`*^9}, {3.8128200484402037`*^9, 
  3.812820055514707*^9}},
 CellLabel->"In[92]:=",ExpressionUUID->"05846ff9-bc78-4242-94df-1258bb754486"],

Cell[BoxData[
 TemplateBox[{
   GraphicsBox[{{{{}, {}, 
       TagBox[{
         Directive[
          Opacity[1.], 
          AbsoluteThickness[1.6], 
          GrayLevel[0]], 
         LineBox[CompressedData["
1:eJwVj3s0lAkAxUfZ7zMiDFNIQgqtxIwS7YzrPQwz82nlkR5TrDLl1bIpUZKc
npRwhKSUtHNMM+3GLC2xm8iuSSlOG6UVU4raTV619o977rl//O6513JbfHD0
HBqNFjSr//2wsVyXRuNC2qs0aOxhwzRrWNt6LhfLrHc+cXjMhvydhRaP4IKl
ceJB6UM2+n8/PSdXh4vFal9x2p9scJN3jy8x4SLjs/Pwut/Y+KSyfe7O4kJW
r1nVImNj1/ELNzOiuCh5IaHPHGUj5POJjV9auVjJTszTdmFjqri2Y7DCHXOK
16/feoyFccPSew4uQMp14/H6N04ILWMJXhcDhw9vHS4NcYJl1ujLRaQHNtis
Y+f/5AiDbeHLjHZ54MbQr33qpY6QnFf/cLDHA7WjTwkYrYK0SPRmxNsTRA7d
9fjblWCeEmsvveYJ60Ox+lMD9nj1rNjtPtMLm71Zo7T2r9Fnk2HE2e+FvSOn
znncX4Hbzmv1a5554Ux/7URejx3IUhPzcwHeSL8+t2Fhry1SZiofedZ4Q1PN
IGkfbCCqi7gQZeaDF2dUWZE0Gxi4vjx29KgPBiM3hWuYLscnmbFF0msfEJzl
vYyAZfDPSr7bGeqLFBU9+J94azQKD8we94U1/RKbdX0pLqZI9+et8INmcU1c
wF9WiBXLaSsL/CAonftHpKkVwr23rcqd9AM3q6miK9YS8ky3hJgYHux9Jv5e
p7CAU11DBNHBQ7bXqo4pXQsUKpgxVxz9MZ2iZ+s6YI4YesERZYk/DjZvGHAr
WYxNoU1BBRoBGNUorxSkmKGBxrQdjAtAQnjXtUtei/BVHMfapTcAP7aOKd2t
TLGnS79NyOXjW91KdaK5Cfj5OplPq/lwnpxXE61nDP8gxYCjfiBkYx1DZmYL
4dDmEJO9JxA5TRzz5DULcKDiwbSwLxAtGxlmj32ZeJ9k+c1zryAE2n+omog3
gqqs6OSgLAi16SHGLrmG6L6jzFEsECBJVB1aeJeB5uoblYf2CbCBOfV5tzYD
pm87HzYPClBuyvlX7GOAQrvz0g6+EL0SCdmTr4/0xpNF/DohtF6SI7lKPVw5
WR0czRAhUPfisTXi+bC4NSDN8Rah/KOtBWmvC+F8J8bgPhFaasWIVs9D3vP1
/KtSERo7i97FtWnj7gIxc2efCKJTinbOL3TIUzOHopgUIuMrP06Va0EWlprb
4kfB+GdXq9jLJFY32aVX8igMJbQlmZSTUNr1SrL9KWilRBy/d55E86SbH49P
YUfbO0P7syS6S6Zn2gUUrPOdMyYPkZjuz5B0hczy7pvL67eQ4O3M9n2xfba/
Xb3k0SISHao1zs1RFGq3FDqULiQR7PbK8nI0Bc3bpMZ3hiQ2zuPNRMdQWFsl
HZ3QJhEnpd8cjqUgG98+vmKSQP7YCcuxRAo5gWuP3HhCwCSCo/cgiUJnf2Lj
kYcEyu6MTMv3UAiThjVEdBK4elbw5PtkCjrvq6aIVgLK1fqnP+2lUO4nz95x
iwC3rDGtJ5VCa7Gi3VNBoJlIjFXuo7D3aphqcQ2B+49VPmlpFN7k0M27rxCg
kMnedICCkUtXlKKCQHcVy5KbTqGFqpfklRGIMBiYvyRjdq/qEiuhmEBf6tnp
L7NZ5+aOOmEBgf8AhBMQaA==
          "]]}, 
        Annotation[#, "Charting`Private`Tag$36963#1"]& ], 
       TagBox[{
         Directive[
          Opacity[1.], 
          AbsoluteThickness[1.6], 
          RGBColor[1, 0, 0]], 
         LineBox[CompressedData["
1:eJwVj3k01AkAxyddv0GOybiLCTUSDTmGl/Ed5xyY+bVbanQsOTpVCrlbiVop
SpodR5t0ejZNByY80RbKhkFRkeXpLrYtXsbO2j++7/s+7/ve570vI3zPmkgN
CoUSNJP/+7CxfAGFwoFkS1uBeK47TDPfalrP5iDxj21qJw13yD9bErx5HARG
xW6hq9l49eCkRp42B0/UfHXfJBucuN0TFiYcyJglivAPbEx2Moe8nDh4M3vb
nFglG7tyzt1Kj+Bge7wLNfs8G2v/PR6qbuHA7Mtz1WFPNqZkNe2jZV5Ywm2K
kW11w8TCklYHNyDvJxOrzYWuCCl1Cn4vA8YENc2URy5gZI6NmM3ngsdT6Na/
d4Z++AYbg11caLXOaRWaOmNn0buEQ31cVP9ad2w3exUqpeIPH329seodV2m2
2Qn0E2GaVle9YVQU+7LgrCNeD8g8HtN9MH7e8LplCwuDy9INPJN9wExgqF7o
stDgzNa7PuCDshuR2XfbHDC/xGTxGYEvupcmPbeKsUf89MUe7+u+2KzV0fTV
YwXEtZJzEeZ+GKyiyw+ql0PffeSX7Gw/kC9fnVrZZ4vJKmPL2Pd+2GcRGXqo
iwl+ZtzDjhB/1A67tqBxGRpFqcYTdf54sJrYMtGyFOfjK5Pzlwegx1g1GP7A
BjvC5BT7wgB4DX4r1+6yxgbf8JV53wPwmL88ruKbFeQZHnujo3kw1JtOcKZZ
wbG2XjKvnYeGKeqCJr8lOHuTHn2JxcfoYjuTiiMMRFMLjyiK+Sj/PNEb02CJ
TSH3ggpnCdBxuNukWtsS9RQ6czRGgPt/Ztq7XV2MuTGe1m79AthvrOvRFC/C
fqVem4gjhCbNLX/AzBzCAu2MF9eEML8bH9Xz3BT8oJvDLL1AdFekjxfVm8Ch
zSE6a38gou3OKblVxkgt61KJBgNxYhZraKnUCH/HMlYP+QRhbKLh5dMSQ3SW
SnNHq4LQo3T3N5LR0dukOHrTMBjrxsyYhNwAzdduXPw5KRj+G/vXTz1dCNNP
Hd3No8GQKaXaF77ScNa2qLJdKIJRSPKBfDsa0hpzpcJaEU6E7+I4SvRxKffa
mkiaGI1Fe9WfzujBsnq48qivGDlZuixpuy5EOo600SQxVKHrpsThOsgf+kF4
uVKMPnovbXzRAjw0DKNvHxRDYRzWaPNRC/LEjDcRdBI1VbM0Kqo0UbU+Me9+
AIkfDa5sXVFIhcs927SLPBKtTO8QST4VCtv+nVl8EjmCHLdjx6lo/u4RwBOS
+JqSWv82g4reYtX0o2ASFB2b/tt7qFC9St+pXDuzRxWzkvhU8LZn+f+1lcRd
K8JKPk2gvdPVuTmChIhbvH56ksAaj9eM8kgSIxfi4vj/EAjV4k1HRpPQVQsi
Rt4RiKmk3nq7g4ReWrO+zTMCBePHGeP7SMit52d1ygmYSDx1u2JJBAyXmdn9
TqC06aNKvn/mn8aTM0euErh8OvjZgTgSTDs7N8/fCChc9E5OHiTx5pSrbXUu
AU5pY0pfIgnzVumA0TECzfP27VAkkTD6xEpIzCTw+GmnX0oKibBHa0mvZAIk
MlZtSp3xvc45dSGeQO8VJwYnjURljeAOEUtAoj+sY5FO4s54VF3MbgKDiadV
6hn+4nO7vGcbgf8AYgMUng==
          "]]}, 
        Annotation[#, "Charting`Private`Tag$36963#2"]& ]}}, {}}, {
    DisplayFunction -> Identity, Ticks -> {Automatic, Automatic}, 
     AxesOrigin -> {30., 2.82339424944667}, 
     FrameTicks -> {{Automatic, Automatic}, {Automatic, Automatic}}, 
     GridLines -> {None, None}, DisplayFunction -> Identity, 
     PlotRangePadding -> {{
        Scaled[0.02], 
        Scaled[0.02]}, {
        Scaled[0.05], 
        Scaled[0.05]}}, PlotRangeClipping -> True, ImagePadding -> All, 
     DisplayFunction -> Identity, AspectRatio -> 
     NCache[GoldenRatio^(-1), 0.6180339887498948], Axes -> {True, True}, 
     AxesLabel -> {None, None}, AxesOrigin -> {30., 2.82339424944667}, 
     DisplayFunction :> Identity, Frame -> {{False, False}, {False, False}}, 
     FrameLabel -> {{None, None}, {None, None}}, 
     FrameTicks -> {{Automatic, Automatic}, {Automatic, Automatic}}, 
     GridLines -> {None, None}, GridLinesStyle -> Directive[
       GrayLevel[0.5, 0.4]], 
     Method -> {
      "DefaultBoundaryStyle" -> Automatic, 
       "DefaultGraphicsInteraction" -> {
        "Version" -> 1.2, "TrackMousePosition" -> {True, False}, 
         "Effects" -> {
          "Highlight" -> {"ratio" -> 2}, "HighlightPoint" -> {"ratio" -> 2}, 
           "Droplines" -> {
            "freeformCursorMode" -> True, 
             "placement" -> {"x" -> "All", "y" -> "None"}}}}, 
       "DefaultMeshStyle" -> AbsolutePointSize[6], "ScalingFunctions" -> None,
        "CoordinatesToolOptions" -> {"DisplayFunction" -> ({
           (Identity[#]& )[
            Part[#, 1]], 
           (Identity[#]& )[
            Part[#, 2]]}& ), "CopiedValueFunction" -> ({
           (Identity[#]& )[
            Part[#, 1]], 
           (Identity[#]& )[
            Part[#, 2]]}& )}}, 
     PlotRange -> {{30, 70}, {2.82339424944667, 25.02076082173094}}, 
     PlotRangeClipping -> True, PlotRangePadding -> {{
        Scaled[0.02], 
        Scaled[0.02]}, {
        Scaled[0.02], 
        Scaled[0.02]}}, Ticks -> {Automatic, Automatic}}], 
   FormBox[
    FormBox[
     TemplateBox[{"\"European\"", "\"American\""}, "LineLegend", 
      DisplayFunction -> (FormBox[
        StyleBox[
         StyleBox[
          PaneBox[
           TagBox[
            GridBox[{{
               TagBox[
                GridBox[{{
                   GraphicsBox[{{
                    Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    Opacity[1.], 
                    AbsoluteThickness[1.6], 
                    GrayLevel[0]], {
                    LineBox[{{0, 10}, {20, 10}}]}}, {
                    Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    Opacity[1.], 
                    AbsoluteThickness[1.6], 
                    GrayLevel[0]], {}}}, AspectRatio -> Full, 
                    ImageSize -> {20, 10}, PlotRangePadding -> None, 
                    ImagePadding -> Automatic, 
                    BaselinePosition -> (Scaled[0.1] -> Baseline)], #}, {
                   GraphicsBox[{{
                    Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    Opacity[1.], 
                    AbsoluteThickness[1.6], 
                    RGBColor[1, 0, 0]], {
                    LineBox[{{0, 10}, {20, 10}}]}}, {
                    Directive[
                    EdgeForm[
                    Directive[
                    Opacity[0.3], 
                    GrayLevel[0]]], 
                    PointSize[0.5], 
                    Opacity[1.], 
                    AbsoluteThickness[1.6], 
                    RGBColor[1, 0, 0]], {}}}, AspectRatio -> Full, 
                    ImageSize -> {20, 10}, PlotRangePadding -> None, 
                    ImagePadding -> Automatic, 
                    BaselinePosition -> (Scaled[0.1] -> Baseline)], #2}}, 
                 GridBoxAlignment -> {
                  "Columns" -> {Center, Left}, "Rows" -> {{Baseline}}}, 
                 AutoDelete -> False, 
                 GridBoxDividers -> {
                  "Columns" -> {{False}}, "Rows" -> {{False}}}, 
                 GridBoxItemSize -> {"Columns" -> {{All}}, "Rows" -> {{All}}},
                  GridBoxSpacings -> {
                  "Columns" -> {{0.5}}, "Rows" -> {{0.8}}}], "Grid"]}}, 
             GridBoxAlignment -> {"Columns" -> {{Left}}, "Rows" -> {{Top}}}, 
             AutoDelete -> False, 
             GridBoxItemSize -> {
              "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
             GridBoxSpacings -> {"Columns" -> {{1}}, "Rows" -> {{0}}}], 
            "Grid"], Alignment -> Left, AppearanceElements -> None, 
           ImageMargins -> {{5, 5}, {5, 5}}, ImageSizeAction -> 
           "ResizeToFit"], LineIndent -> 0, StripOnInput -> False], {
         FontFamily -> "Arial"}, Background -> Automatic, StripOnInput -> 
         False], TraditionalForm]& ), 
      InterpretationFunction :> (RowBox[{"LineLegend", "[", 
         RowBox[{
           RowBox[{"{", 
             RowBox[{
               RowBox[{"Directive", "[", 
                 RowBox[{
                   RowBox[{"Opacity", "[", "1.`", "]"}], ",", 
                   RowBox[{"AbsoluteThickness", "[", "1.6`", "]"}], ",", 
                   InterpretationBox[
                    ButtonBox[
                    TooltipBox[
                    GraphicsBox[{{
                    GrayLevel[0], 
                    RectangleBox[{0, 0}]}, {
                    GrayLevel[0], 
                    RectangleBox[{1, -1}]}, {
                    GrayLevel[0], 
                    RectangleBox[{0, -1}, {2, 1}]}}, DefaultBaseStyle -> 
                    "ColorSwatchGraphics", AspectRatio -> 1, Frame -> True, 
                    FrameStyle -> GrayLevel[0.], FrameTicks -> None, 
                    PlotRangePadding -> None, ImageSize -> 
                    Dynamic[{
                    Automatic, 1.35 CurrentValue["FontCapHeight"]/
                    AbsoluteCurrentValue[Magnification]}]], 
                    StyleBox[
                    RowBox[{"GrayLevel", "[", "0", "]"}], NumberMarks -> 
                    False]], Appearance -> None, BaseStyle -> {}, 
                    BaselinePosition -> Baseline, DefaultBaseStyle -> {}, 
                    ButtonFunction :> With[{Typeset`box$ = EvaluationBox[]}, 
                    If[
                    Not[
                    AbsoluteCurrentValue["Deployed"]], 
                    SelectionMove[Typeset`box$, All, Expression]; 
                    FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
                    FrontEnd`Private`$ColorSelectorInitialColor = 
                    GrayLevel[0]; 
                    FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
                    MathLink`CallFrontEnd[
                    FrontEnd`AttachCell[Typeset`box$, 
                    FrontEndResource["GrayLevelColorValueSelector"], {
                    0, {Left, Bottom}}, {Left, Top}, 
                    "ClosingActions" -> {
                    "SelectionDeparture", "ParentChanged", 
                    "EvaluatorQuit"}]]]], BaseStyle -> Inherited, Evaluator -> 
                    Automatic, Method -> "Preemptive"], 
                    GrayLevel[0], Editable -> False, Selectable -> False]}], 
                 "]"}], ",", 
               RowBox[{"Directive", "[", 
                 RowBox[{
                   RowBox[{"Opacity", "[", "1.`", "]"}], ",", 
                   RowBox[{"AbsoluteThickness", "[", "1.6`", "]"}], ",", 
                   InterpretationBox[
                    ButtonBox[
                    TooltipBox[
                    GraphicsBox[{{
                    GrayLevel[0], 
                    RectangleBox[{0, 0}]}, {
                    GrayLevel[0], 
                    RectangleBox[{1, -1}]}, {
                    RGBColor[1, 0, 0], 
                    RectangleBox[{0, -1}, {2, 1}]}}, DefaultBaseStyle -> 
                    "ColorSwatchGraphics", AspectRatio -> 1, Frame -> True, 
                    FrameStyle -> RGBColor[0.6666666666666666, 0., 0.], 
                    FrameTicks -> None, PlotRangePadding -> None, ImageSize -> 
                    Dynamic[{
                    Automatic, 1.35 CurrentValue["FontCapHeight"]/
                    AbsoluteCurrentValue[Magnification]}]], 
                    StyleBox[
                    RowBox[{"RGBColor", "[", 
                    RowBox[{"1", ",", "0", ",", "0"}], "]"}], NumberMarks -> 
                    False]], Appearance -> None, BaseStyle -> {}, 
                    BaselinePosition -> Baseline, DefaultBaseStyle -> {}, 
                    ButtonFunction :> With[{Typeset`box$ = EvaluationBox[]}, 
                    If[
                    Not[
                    AbsoluteCurrentValue["Deployed"]], 
                    SelectionMove[Typeset`box$, All, Expression]; 
                    FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
                    FrontEnd`Private`$ColorSelectorInitialColor = 
                    RGBColor[1, 0, 0]; 
                    FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
                    MathLink`CallFrontEnd[
                    FrontEnd`AttachCell[Typeset`box$, 
                    FrontEndResource["RGBColorValueSelector"], {
                    0, {Left, Bottom}}, {Left, Top}, 
                    "ClosingActions" -> {
                    "SelectionDeparture", "ParentChanged", 
                    "EvaluatorQuit"}]]]], BaseStyle -> Inherited, Evaluator -> 
                    Automatic, Method -> "Preemptive"], 
                    RGBColor[1, 0, 0], Editable -> False, Selectable -> 
                    False]}], "]"}]}], "}"}], ",", 
           RowBox[{"{", 
             RowBox[{#, ",", #2}], "}"}], ",", 
           RowBox[{"LegendMarkers", "\[Rule]", "None"}], ",", 
           RowBox[{"LabelStyle", "\[Rule]", 
             RowBox[{"{", "}"}]}], ",", 
           RowBox[{"LegendLayout", "\[Rule]", "\"Column\""}]}], "]"}]& ), 
      Editable -> True], TraditionalForm], TraditionalForm]},
  "Legended",
  DisplayFunction->(GridBox[{{
      TagBox[
       ItemBox[
        PaneBox[
         TagBox[#, "SkipImageSizeLevel"], Alignment -> {Center, Baseline}, 
         BaselinePosition -> Baseline], DefaultBaseStyle -> "Labeled"], 
       "SkipImageSizeLevel"], 
      ItemBox[#2, DefaultBaseStyle -> "LabeledLabel"]}}, 
    GridBoxAlignment -> {"Columns" -> {{Center}}, "Rows" -> {{Center}}}, 
    AutoDelete -> False, GridBoxItemSize -> Automatic, 
    BaselinePosition -> {1, 1}]& ),
  Editable->True,
  InterpretationFunction->(RowBox[{"Legended", "[", 
     RowBox[{#, ",", 
       RowBox[{"Placed", "[", 
         RowBox[{#2, ",", "After"}], "]"}]}], "]"}]& )]], "Output",
 CellChangeTimes->{3.8128200567124662`*^9, 3.817209191176848*^9},
 CellLabel->"Out[92]=",ExpressionUUID->"4cf6f3e6-2b33-4df2-b19b-d1d394608e21"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowToolbars->{},
WindowSize->{834, 874},
WindowMargins->{{6, Automatic}, {Automatic, 0}},
PrintingCopies->1,
PrintingPageRange->{1, Automatic},
Magnification:>1.25 Inherited,
FrontEndVersion->"12.1 for Mac OS X x86 (64-bit) (June 19, 2020)",
StyleDefinitions->"StonyBrook.nb",
ExpressionUUID->"ef4fed60-8e50-4b75-b958-7a3b9323048c"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 656, 9, 200, "Title",ExpressionUUID->"ab169b69-6319-4193-a1f9-8ded7677570d"],
Cell[1239, 33, 779, 14, 67, "Subtitle",ExpressionUUID->"ee882735-9bc5-49d7-b9af-42b8eb93b645"],
Cell[2021, 49, 1308, 18, 67, "Subtitle",ExpressionUUID->"91b4bab0-824a-4762-b2bb-2f9b6acc826c"],
Cell[3332, 69, 359, 10, 148, "Subsubtitle",ExpressionUUID->"8b855c91-c954-4261-8c7b-0abd16ea22a6"],
Cell[CellGroupData[{
Cell[3716, 83, 146, 3, 84, "Section",ExpressionUUID->"424b6718-65ba-4c07-a7ed-0b4a420b83f5"],
Cell[3865, 88, 1826, 28, 87, "Text",ExpressionUUID->"d2a641d8-d284-43ef-8f8e-cfaa8783a44b"],
Cell[5694, 118, 477, 12, 61, "Text",ExpressionUUID->"14ec3f9d-e743-4dc0-8e24-61f524c35a4d"],
Cell[6174, 132, 982, 31, 107, "Text",ExpressionUUID->"1d598957-f498-44e4-a8bb-1125225bcecd"],
Cell[7159, 165, 125, 0, 37, "Text",ExpressionUUID->"76dbe0f3-c9bf-4b49-8470-a45d59e2e389"],
Cell[7287, 167, 605, 17, 46, "Equation",ExpressionUUID->"f5950383-174a-49b9-aa75-66f206962945"],
Cell[7895, 186, 337, 11, 44, "Text",ExpressionUUID->"486cd277-6229-4359-8412-9e7f07b80f26"],
Cell[8235, 199, 1698, 52, 102, "Text",ExpressionUUID->"bbbe9279-b199-47f8-a979-3725d5ccf83b"],
Cell[9936, 253, 1407, 45, 90, "Equation",ExpressionUUID->"18926f69-7ee3-4870-89d6-2d88aa35e64d"],
Cell[11346, 300, 882, 21, 133, "Text",ExpressionUUID->"f8c0e0e1-c357-4e0f-b04b-f630fabd46e6"],
Cell[12231, 323, 496, 9, 156, "Text",ExpressionUUID->"1d78019a-d0ff-457d-8e71-220ae6ab8305"],
Cell[12730, 334, 482, 12, 74, "Text",ExpressionUUID->"4c3c407a-bdb9-4294-b761-00888b919b91"],
Cell[13215, 348, 730, 18, 164, "Text",ExpressionUUID->"cb84c8d5-38f5-40c3-ac3e-2bfc953858d3"],
Cell[CellGroupData[{
Cell[13970, 370, 275, 4, 84, "Subsection",ExpressionUUID->"79074340-e945-450c-a835-47c43729d90d"],
Cell[14248, 376, 427, 10, 129, "Text",ExpressionUUID->"dbcd7373-f23a-4651-9e66-66e8682a19d6"],
Cell[CellGroupData[{
Cell[14700, 390, 157, 3, 71, "Subsubsection",ExpressionUUID->"0d980236-885d-418f-b4de-09624e00d0a5"],
Cell[14860, 395, 302, 7, 73, "Text",ExpressionUUID->"4344d5e7-45a4-4d54-bc61-c381813f8af1"],
Cell[15165, 404, 2106, 52, 367, "Input",ExpressionUUID->"6c33d2ac-b0c8-44d5-b190-4d553cf8ae2a"],
Cell[17274, 458, 192, 3, 45, "Text",ExpressionUUID->"0cffc973-39d1-4d17-bdf2-0beeb0c3cfff"],
Cell[CellGroupData[{
Cell[17491, 465, 410, 8, 37, "Input",ExpressionUUID->"9454067b-88c8-48ce-a7ba-2ca483daa9d8"],
Cell[17904, 475, 481, 9, 42, "Output",ExpressionUUID->"2ced821c-9be2-4c32-a810-e7d11c76bd17"]
}, Open  ]],
Cell[18400, 487, 196, 3, 45, "Text",ExpressionUUID->"2947e87f-45bb-4cc3-9c33-b875d042d556"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[18645, 496, 200, 3, 84, "Subsection",ExpressionUUID->"02e6dc4f-fb2f-4682-bf88-1f4692292907"],
Cell[18848, 501, 358, 8, 73, "Text",ExpressionUUID->"4de708db-0c04-4655-bb93-d6d1566437af"],
Cell[CellGroupData[{
Cell[19231, 513, 208, 4, 112, "Subsubsection",ExpressionUUID->"28945915-0a92-4d43-a27b-bd04c2bc6ed0"],
Cell[CellGroupData[{
Cell[19464, 521, 2552, 57, 272, "Input",ExpressionUUID->"5be16984-9326-40ef-aa2c-df70f3007e7a"],
Cell[22019, 580, 2447, 54, 147, "Output",ExpressionUUID->"6db560e4-9ed5-4dfc-9633-daf1a9f5fa27"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[24515, 640, 215, 4, 112, "Subsubsection",ExpressionUUID->"3b972b49-62a7-4568-9970-7574c723a4dc"],
Cell[24733, 646, 506, 11, 129, "Text",ExpressionUUID->"2041ca4c-68c5-413b-a6da-ab9dfdd31574"],
Cell[CellGroupData[{
Cell[25264, 661, 3020, 70, 376, "Input",ExpressionUUID->"e6eb571a-c4f5-4571-a0c4-61165fa258ad"],
Cell[28287, 733, 5164, 109, 430, "Output",ExpressionUUID->"2538ee5f-f68b-488e-a0b6-2e09f76c98b5"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[33524, 850, 158, 3, 105, "Section",ExpressionUUID->"d04a7e00-b4ac-467b-81d3-471f9672a573"],
Cell[33685, 855, 1924, 30, 142, "Text",ExpressionUUID->"8b5f4658-1d6e-461b-b49d-1d58c0756386"],
Cell[CellGroupData[{
Cell[35634, 889, 158, 3, 84, "Subsection",ExpressionUUID->"8231307f-6197-416c-b368-b85f132b9bef"],
Cell[35795, 894, 659, 13, 129, "Text",ExpressionUUID->"1db954f3-3bac-432b-9b04-e186f5765c6b"],
Cell[36457, 909, 649, 17, 74, "Text",ExpressionUUID->"a6d03ddd-9e41-47cc-92cf-571cd9cd5cc9"],
Cell[37109, 928, 434, 13, 45, "Equation",ExpressionUUID->"dbdf4980-8f52-4822-8963-5cafe9f539dd"],
Cell[37546, 943, 611, 17, 74, "Text",ExpressionUUID->"6d21fbab-5c41-466f-b1fe-604555e4d152"],
Cell[38160, 962, 482, 16, 72, "Equation",ExpressionUUID->"72033b87-a60d-40d6-880c-73626b44ad81"],
Cell[38645, 980, 399, 14, 46, "Text",ExpressionUUID->"274e13eb-1b92-410a-ae86-a6b80390fcc6"],
Cell[39047, 996, 342, 7, 73, "Text",ExpressionUUID->"6bc7885d-32a7-4deb-b2c5-73669b4f17e4"],
Cell[39392, 1005, 475, 15, 92, "Equation",ExpressionUUID->"9ccdf9e2-0f55-4910-9fa8-d1019b30d08a"],
Cell[39870, 1022, 471, 12, 74, "Text",ExpressionUUID->"3f42c567-1d3e-4cd0-b308-98910e55107f"],
Cell[40344, 1036, 447, 11, 74, "Text",ExpressionUUID->"da8be692-d074-4fe7-8d43-f41c063ae3e7"],
Cell[40794, 1049, 507, 16, 72, "Equation",ExpressionUUID->"3e0b385f-3367-4bbb-9ae1-16ba71935f2a"],
Cell[41304, 1067, 286, 6, 73, "Text",ExpressionUUID->"ecaa7c90-9763-4740-bcd9-598e5a0df5c8"]
}, Open  ]],
Cell[CellGroupData[{
Cell[41627, 1078, 190, 3, 84, "Subsection",ExpressionUUID->"2095d602-0b70-4b1e-92a7-3a46198af5ca"],
Cell[41820, 1083, 1586, 54, 106, "Text",ExpressionUUID->"a36f5593-df1d-4263-8ede-ca3e891a2435"],
Cell[CellGroupData[{
Cell[43431, 1141, 989, 23, 116, "Input",ExpressionUUID->"a463c65c-5972-45d6-8fd4-7ce1b6852cbc"],
Cell[44423, 1166, 364, 5, 42, "Output",ExpressionUUID->"661660ce-8d98-415b-a73f-44050ae64629"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[44836, 1177, 258, 4, 84, "Subsection",ExpressionUUID->"c98351f3-5d10-4f49-b568-c3201bcab850"],
Cell[45097, 1183, 701, 16, 129, "Text",ExpressionUUID->"afec513a-8b89-488c-89f3-7bb890e2aec9"],
Cell[45801, 1201, 721, 19, 56, "Equation",ExpressionUUID->"15608a62-50d7-4a8b-8e6b-dee8c74b0a2c"],
Cell[46525, 1222, 416, 14, 53, "Text",ExpressionUUID->"03769fc7-3b4f-4fcd-a0d1-fc5327b00f5d"],
Cell[46944, 1238, 302, 7, 73, "Text",ExpressionUUID->"70f1b462-2d12-4981-8db0-c3bd41f08d1e"],
Cell[47249, 1247, 889, 22, 56, "Equation",ExpressionUUID->"1d046653-f7ac-4ccd-89bc-851b737c8efc"],
Cell[48141, 1271, 493, 15, 53, "Text",ExpressionUUID->"c6c4f3c9-aa54-4bbc-8552-685cd4c4e443"],
Cell[48637, 1288, 406, 10, 45, "Text",ExpressionUUID->"a3beb3f8-9ff1-40ed-984e-85eeb7e5bbcb"],
Cell[49046, 1300, 1181, 28, 81, "Equation",ExpressionUUID->"3ba6cccc-e391-412d-b12a-bcd7c55660bc"],
Cell[50230, 1330, 451, 10, 73, "Text",ExpressionUUID->"c1f42d6e-8aba-4446-afd1-5ffb5f7370ec"],
Cell[50684, 1342, 931, 25, 91, "Equation",ExpressionUUID->"98db212e-b170-473e-9c65-02a9f2d84f5d"],
Cell[51618, 1369, 160, 3, 45, "Text",ExpressionUUID->"619742c3-aee4-437b-a014-3e624cbdc327"],
Cell[51781, 1374, 733, 19, 52, "Equation",ExpressionUUID->"fb44e651-e030-4bbe-a2e9-9f6d8634edb8"],
Cell[52517, 1395, 442, 10, 45, "Text",ExpressionUUID->"96f320bc-16d6-4bfb-abb3-6eb854a77f4d"],
Cell[52962, 1407, 1276, 33, 94, "Equation",ExpressionUUID->"a690e1d8-c62f-496b-91d9-fb8327f7363f"],
Cell[54241, 1442, 537, 10, 129, "Text",ExpressionUUID->"3463566e-ebb1-4943-afdc-d3de66ffef23"]
}, Open  ]],
Cell[CellGroupData[{
Cell[54815, 1457, 255, 4, 84, "Subsection",ExpressionUUID->"b841d2e7-1d72-4607-9bd0-8bd4a749680f"],
Cell[55073, 1463, 364, 10, 74, "Text",ExpressionUUID->"9d2d53f2-365f-4603-b2f1-5e4dc5513bc7"],
Cell[55440, 1475, 1106, 24, 53, "Equation",ExpressionUUID->"09182c0b-01ff-4044-a1e2-c3b79163be6a"],
Cell[56549, 1501, 192, 3, 45, "Text",ExpressionUUID->"29d51c28-5c09-4c28-a208-31cac58dfc26"],
Cell[56744, 1506, 924, 16, 45, "Equation",ExpressionUUID->"9df118d7-5f87-4755-b629-04b1d9581a5b"],
Cell[57671, 1524, 1052, 20, 45, "Equation",ExpressionUUID->"9293cfdf-13c8-47a2-9643-e1299c968678"],
Cell[58726, 1546, 1164, 23, 45, "Equation",ExpressionUUID->"0806331d-ae17-4f42-926f-7f77e8fcaa59"],
Cell[59893, 1571, 877, 14, 47, "Equation",ExpressionUUID->"a8792866-e705-4212-9072-33c28f03df01"],
Cell[60773, 1587, 1185, 23, 45, "Equation",ExpressionUUID->"eacb94a7-362f-4ee7-a8be-ffa7ed96d374"],
Cell[61961, 1612, 402, 10, 74, "Text",ExpressionUUID->"e66de2ba-dc12-4c7e-888d-7d7ad0c4bb08"],
Cell[62366, 1624, 1462, 30, 45, "Equation",ExpressionUUID->"f25e8859-717d-4458-8c30-6318bfc1c809"],
Cell[63831, 1656, 1008, 27, 82, "Text",ExpressionUUID->"6c47cd1f-b578-40ed-bd84-afe4535a8c92"],
Cell[64842, 1685, 953, 25, 56, "Equation",ExpressionUUID->"bec27777-779a-45b2-9aa4-d3754aeeebcd"],
Cell[65798, 1712, 268, 4, 45, "Text",ExpressionUUID->"c578baab-8d91-4a5e-b718-4f08d7020dfa"],
Cell[66069, 1718, 1466, 28, 60, "Equation",ExpressionUUID->"80d1838c-29ca-4594-b430-63e193b7cbcb"],
Cell[67538, 1748, 442, 10, 45, "Text",ExpressionUUID->"04ee7978-f9c9-48c2-a7e2-eaa1a8baddd9"],
Cell[67983, 1760, 1277, 33, 94, "Equation",ExpressionUUID->"9339b2e7-c066-49f4-b59b-06b81a722a48"],
Cell[CellGroupData[{
Cell[69285, 1797, 156, 3, 71, "Subsubsection",ExpressionUUID->"c511619b-a5d8-4c82-a439-6bdad7a97fba"],
Cell[69444, 1802, 1239, 26, 241, "Text",ExpressionUUID->"cf2d5f60-8dad-418e-873b-9e833f5182bb"],
Cell[CellGroupData[{
Cell[70708, 1832, 721, 19, 136, "Input",ExpressionUUID->"a489be37-d7c7-4c23-b8b6-731c20e1118f"],
Cell[71432, 1853, 630, 11, 69, "Output",ExpressionUUID->"fe811e9f-1457-43ea-91df-fe1e353d2006"]
}, Open  ]],
Cell[72077, 1867, 212, 5, 45, "Text",ExpressionUUID->"8300b0e9-308a-4bb4-964e-5fb6fee32d78"],
Cell[72292, 1874, 378, 9, 45, "Equation",ExpressionUUID->"703ad582-c43e-49ae-8ccc-9e610ff20de8"],
Cell[72673, 1885, 2253, 52, 438, "Input",ExpressionUUID->"9add9081-a2c1-4410-a25a-4e17556e1d44"],
Cell[CellGroupData[{
Cell[74951, 1941, 861, 14, 64, "Input",ExpressionUUID->"f92b888a-75b8-4e4b-9f8a-71c9f4982bc5"],
Cell[75815, 1957, 351, 7, 42, "Output",ExpressionUUID->"6ac87988-df27-40c8-809a-619f1cb93819"]
}, Open  ]],
Cell[CellGroupData[{
Cell[76203, 1969, 838, 14, 64, "Input",ExpressionUUID->"1cd9e07f-4e4d-42db-929f-87589f3534b8"],
Cell[77044, 1985, 981, 15, 42, "Output",ExpressionUUID->"ea86bccb-b417-47e8-9254-52c96ac8bbe0"]
}, Open  ]],
Cell[78040, 2003, 553, 10, 156, "Text",ExpressionUUID->"fe6ce855-6759-450d-86c4-251e7cc30faa"],
Cell[CellGroupData[{
Cell[78618, 2017, 2872, 62, 272, "Input",ExpressionUUID->"68b14a3e-3b5d-44e7-b463-bea5611e27f3"],
Cell[81493, 2081, 3030, 73, 251, "Output",ExpressionUUID->"27900afd-a255-4ea3-925f-1041c4a864e7"]
}, Open  ]],
Cell[84538, 2157, 325, 8, 73, "Text",ExpressionUUID->"0efbfbf7-ad20-4bbc-ae4c-fbfb3f5432a7"],
Cell[CellGroupData[{
Cell[84888, 2169, 228, 4, 37, "Input",ExpressionUUID->"db65cdd6-cbb7-4587-a37a-89c9bac7705c"],
Cell[85119, 2175, 955, 24, 95, "Output",ExpressionUUID->"d61d28bf-87af-4c9d-892e-d9d1a12be469"]
}, Open  ]],
Cell[CellGroupData[{
Cell[86111, 2204, 4025, 86, 506, "Input",ExpressionUUID->"706202aa-5b97-41c5-9c64-48561534f064"],
Cell[90139, 2292, 3991, 87, 469, "Output",ExpressionUUID->"7c82be2d-ff7b-44cf-be3e-20c17bedadd9"]
}, Open  ]],
Cell[94145, 2382, 456, 11, 101, "Text",ExpressionUUID->"90d1d59a-9452-4b3e-8e81-d5043ab13e6e"],
Cell[94604, 2395, 1100, 26, 240, "Input",ExpressionUUID->"21518759-d454-4387-9755-a4c4c1f105e8"],
Cell[CellGroupData[{
Cell[95729, 2425, 989, 20, 168, "Input",ExpressionUUID->"66687299-1ecc-4474-b59d-f86bd079bed8"],
Cell[96721, 2447, 8942, 263, 468, "Output",ExpressionUUID->"ff970cfa-1a4f-40cd-92b7-869324c135cb"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[105736, 2718, 165, 3, 105, "Section",ExpressionUUID->"7215edf1-77fb-4d58-b115-b86c28a077d0"],
Cell[105904, 2723, 2288, 41, 357, "Text",ExpressionUUID->"ce845d61-c0cb-45e0-aff9-3ddb8cd668d7"],
Cell[108195, 2766, 272, 4, 101, "Text",ExpressionUUID->"871bd7d4-c210-499a-86e9-5ebdebb5fa11"],
Cell[CellGroupData[{
Cell[108492, 2774, 91, 0, 84, "Subsection",ExpressionUUID->"8ee1128e-db14-4ba3-9636-ff38eab2e602"],
Cell[108586, 2776, 699, 29, 101, "Text",ExpressionUUID->"5c9110b9-23d5-4b80-a290-1c0a917b3bd7"],
Cell[109288, 2807, 1055, 44, 156, "Text",ExpressionUUID->"14c4377a-653b-4579-ace7-39578d7cf136"],
Cell[110346, 2853, 662, 20, 48, "Equation",ExpressionUUID->"ea1c6ef4-d6ab-4d3a-9fb4-9dd43018d24d"],
Cell[111011, 2875, 326, 8, 73, "Text",ExpressionUUID->"5fb1d7c5-fd15-4bd8-b266-a67bb28cef03"]
}, Open  ]],
Cell[CellGroupData[{
Cell[111374, 2888, 161, 3, 84, "Subsection",ExpressionUUID->"8aa57d35-e681-4765-9aa1-47c6ad166c51"],
Cell[111538, 2893, 125, 0, 45, "Text",ExpressionUUID->"de358eb0-4b6f-4beb-95ba-6ef642031e98"],
Cell[111666, 2895, 390, 12, 45, "Equation",ExpressionUUID->"350a21ff-faf7-43d0-b927-89d36150202b"],
Cell[112059, 2909, 182, 3, 73, "Text",ExpressionUUID->"153d693a-9f96-46c2-9f49-563e50c12925"],
Cell[112244, 2914, 233, 3, 73, "Text",ExpressionUUID->"d3a2be85-8a4b-47ab-a97d-73dc1ef0e4d2"],
Cell[112480, 2919, 350, 9, 45, "Equation",ExpressionUUID->"1e5b5a52-d460-40d8-b032-064d4bb5c5d6"],
Cell[112833, 2930, 96, 0, 45, "Text",ExpressionUUID->"eb1616bb-bcd4-4823-b3af-266747f9e3f9"],
Cell[112932, 2932, 965, 30, 82, "Equation",ExpressionUUID->"a8edfe4f-bb56-488d-9547-e5fad2578f4c"],
Cell[113900, 2964, 120, 0, 45, "Text",ExpressionUUID->"d9bb92d9-00b5-432b-9dd6-2affba48f453"],
Cell[114023, 2966, 831, 26, 78, "Equation",ExpressionUUID->"7638f1b8-c088-4b14-86d3-d14d45f43394"],
Cell[114857, 2994, 98, 0, 45, "Text",ExpressionUUID->"1d0e71bf-2be6-4405-97a7-9eb2c8c83a6a"],
Cell[114958, 2996, 350, 9, 45, "Equation",ExpressionUUID->"34fa6703-2258-4439-ae05-28d655b28f91"],
Cell[115311, 3007, 235, 3, 73, "Text",ExpressionUUID->"7be02481-a5d1-4dcb-8163-e70aa5e367d7"],
Cell[115549, 3012, 146, 3, 45, "Text",ExpressionUUID->"2aa8109a-6f5d-42f8-b53b-96a56a28c7ba"],
Cell[115698, 3017, 350, 9, 45, "Equation",ExpressionUUID->"a2c74c38-b59d-4c0f-8843-9e6a8dbc2d9e"],
Cell[116051, 3028, 277, 4, 101, "Text",ExpressionUUID->"8f732913-67eb-4249-90f3-03ce825c388c"],
Cell[116331, 3034, 124, 0, 45, "Text",ExpressionUUID->"81819617-d1b1-4104-a7a6-3805e8168fec"],
Cell[116458, 3036, 364, 9, 45, "Equation",ExpressionUUID->"21e9cc36-b40c-4a0d-adf9-5711b2b4a346"],
Cell[116825, 3047, 73, 0, 45, "Text",ExpressionUUID->"643c3a2f-dcef-4ea9-a42a-0495b91d7ed8"],
Cell[116901, 3049, 390, 9, 45, "Equation",ExpressionUUID->"8fc350d5-dcf1-4a51-9e77-2e151c4d2c4c"],
Cell[117294, 3060, 87, 0, 45, "Text",ExpressionUUID->"572083ca-e5fa-4030-959c-fe88c052565a"],
Cell[117384, 3062, 845, 26, 78, "Equation",ExpressionUUID->"0bc8e2ea-61ad-46c4-b766-1cae46bf6280"],
Cell[118232, 3090, 176, 3, 73, "Text",ExpressionUUID->"22056879-d761-46fc-80ab-40c8fa94ad32"],
Cell[118411, 3095, 1366, 45, 113, "Equation",ExpressionUUID->"c0caec09-94b7-49de-9c46-bd55bcc51bcc"],
Cell[119780, 3142, 94, 0, 45, "Text",ExpressionUUID->"1d926d4c-3fde-4f99-a43d-6ad7b1e9dd7e"],
Cell[119877, 3144, 390, 12, 45, "Equation",ExpressionUUID->"da84937f-d40c-4fe4-8a1f-31bb3395284b"],
Cell[120270, 3158, 111, 0, 45, "Text",ExpressionUUID->"473110fd-f949-4e05-a482-8ef04a83638a"],
Cell[120384, 3160, 425, 13, 58, "Equation",ExpressionUUID->"b64f907b-ea74-4350-acb8-c98e29c0cc94"],
Cell[120812, 3175, 435, 13, 58, "Equation",ExpressionUUID->"92967463-c48e-4708-95a4-58beacc7e62e"]
}, Open  ]],
Cell[CellGroupData[{
Cell[121284, 3193, 97, 0, 84, "Subsection",ExpressionUUID->"0e1d09dc-5185-42b7-b9b6-84579c7ecf76"],
Cell[121384, 3195, 254, 6, 73, "Text",ExpressionUUID->"a91d0c69-ad13-4214-a487-16d7858f2c6b"],
Cell[121641, 3203, 734, 22, 62, "Equation",ExpressionUUID->"f9c77512-9624-46b8-9c8d-051f77e19be4"],
Cell[122378, 3227, 418, 13, 46, "Text",ExpressionUUID->"09739bdf-9a9f-476e-908a-5249d9a85a9f"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[122845, 3246, 194, 3, 105, "Section",ExpressionUUID->"c3d98c95-0547-49b0-aeca-01fc8ed4e2ff"],
Cell[123042, 3251, 2012, 35, 203, "Text",ExpressionUUID->"6e2c41bc-96f9-4ed7-a4d2-4329913f0163"],
Cell[CellGroupData[{
Cell[125079, 3290, 158, 3, 84, "Subsection",ExpressionUUID->"d666a9e0-d89b-4eee-8f24-7a0578100f83"],
Cell[125240, 3295, 189, 3, 73, "Text",ExpressionUUID->"6cc47636-0b02-474e-b5c6-8461d74ed557"],
Cell[125432, 3300, 711, 22, 76, "Equation",ExpressionUUID->"62b94482-4567-49ac-9e7f-15db0c9013d0"],
Cell[126146, 3324, 312, 4, 129, "Text",ExpressionUUID->"e0f7c4d2-5b95-4ed3-b083-2ef2c22bc6b3"],
Cell[126461, 3330, 783, 24, 76, "Equation",ExpressionUUID->"10d03e4a-bfc4-4340-b08d-22f16c79f309"],
Cell[127247, 3356, 610, 11, 212, "Text",ExpressionUUID->"67f4b736-21af-4cd8-8972-71972bfc975e"],
Cell[127860, 3369, 850, 29, 103, "Text",ExpressionUUID->"2ab06dac-dd4b-4751-9042-5897b0c57f04"],
Cell[128713, 3400, 1003, 31, 76, "Equation",ExpressionUUID->"f7514a25-4db1-4b1c-89d2-a73bc527cd74"],
Cell[129719, 3433, 648, 12, 156, "Text",ExpressionUUID->"ddf261b6-5178-4af2-bd92-286f49217cac"],
Cell[130370, 3447, 128, 0, 45, "Text",ExpressionUUID->"39089914-692a-4e14-9604-09e6bfe42d3e"]
}, Open  ]],
Cell[CellGroupData[{
Cell[130535, 3452, 134, 3, 84, "Subsection",ExpressionUUID->"a71dc087-60d7-4569-88a2-b6bb8943d0ec"],
Cell[130672, 3457, 325, 14, 45, "Text",ExpressionUUID->"af55710d-6e4e-4d2a-93ad-e03350d1797c"],
Cell[CellGroupData[{
Cell[131022, 3475, 2003, 46, 324, "Input",ExpressionUUID->"6f5359b4-073b-4d35-ac9f-501e008ec52a"],
Cell[133028, 3523, 15076, 309, 301, "Output",ExpressionUUID->"002c0e50-651d-4bc0-81cc-1899a2ac36fe"]
}, Open  ]],
Cell[148119, 3835, 231, 8, 45, "Text",ExpressionUUID->"3f5e1e57-4c74-406c-8168-b14bb9fa31f2"],
Cell[CellGroupData[{
Cell[148375, 3847, 2052, 47, 324, "Input",ExpressionUUID->"05846ff9-bc78-4242-94df-1258bb754486"],
Cell[150430, 3896, 15035, 308, 301, "Output",ExpressionUUID->"4cf6f3e6-2b33-4df2-b19b-d1d394608e21"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

